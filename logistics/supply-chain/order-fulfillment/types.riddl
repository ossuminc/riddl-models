// Order Fulfillment - Shared Types

type FulfillmentOrderId is Id(FulfillmentContext.FulfillmentOrder) with {
  briefly "Order identifier"
  described by "Unique identifier for a fulfillment order."
}

type SalesOrderId is UUID with {
  briefly "Sales order identifier"
  described by "Reference to originating sales order."
}

type ShipmentId is UUID with {
  briefly "Shipment identifier"
  described by "Reference to a shipment."
}

type WarehouseId is UUID with {
  briefly "Warehouse identifier"
  described by "Reference to a fulfillment warehouse."
}

type OrderStatus is any of {
  Received,
  Allocated,
  Picking,
  Packing,
  ReadyToShip,
  Shipped,
  Delivered,
  Cancelled,
  OnHold
} with {
  briefly "Order status"
  described by "Fulfillment order status."
}

type ShipmentPriority is any of {
  Standard,
  Expedited,
  NextDay,
  SameDay
} with {
  briefly "Shipment priority"
  described by "Delivery urgency level."
}

type AllocationStatus is any of {
  Pending,
  PartiallyAllocated,
  FullyAllocated,
  Backordered
} with {
  briefly "Allocation status"
  described by "Inventory allocation status."
}

type OrderLine is {
  lineNumber is Natural with {
    briefly "Line"
    described by "Line number."
  }
  sku is String(1, 50) with {
    briefly "SKU"
    described by "Product SKU."
  }
  productName is String(1, 200) with {
    briefly "Product"
    described by "Product name."
  }
  quantityOrdered is Natural with {
    briefly "Ordered"
    described by "Quantity ordered."
  }
  quantityAllocated is Natural with {
    briefly "Allocated"
    described by "Quantity allocated."
  }
  quantityPicked is Natural with {
    briefly "Picked"
    described by "Quantity picked."
  }
  unitPrice is Decimal(10, 2) with {
    briefly "Price"
    described by "Unit price."
  }
} with {
  briefly "Order line"
  described by "Fulfillment order line item."
}

type ShippingAddress is {
  recipientName is String(1, 100) with {
    briefly "Recipient"
    described by "Recipient name."
  }
  addressLine1 is String(1, 200) with {
    briefly "Address 1"
    described by "Street address."
  }
  addressLine2 is optional String(1, 200) with {
    briefly "Address 2"
    described by "Additional address."
  }
  city is String(1, 100) with {
    briefly "City"
    described by "City."
  }
  state is String(1, 50) with {
    briefly "State"
    described by "State/province."
  }
  postalCode is String(1, 20) with {
    briefly "Postal"
    described by "Postal code."
  }
  country is String(1, 50) with {
    briefly "Country"
    described by "Country."
  }
  phone is optional String(1, 20) with {
    briefly "Phone"
    described by "Phone number."
  }
} with {
  briefly "Shipping address"
  described by "Delivery address details."
}

type PickTask is {
  taskId is UUID with {
    briefly "Task"
    described by "Pick task ID."
  }
  sku is String(1, 50) with {
    briefly "SKU"
    described by "Product SKU."
  }
  location is String(1, 50) with {
    briefly "Location"
    described by "Bin location."
  }
  quantityToPick is Natural with {
    briefly "To pick"
    described by "Quantity to pick."
  }
  quantityPicked is Natural with {
    briefly "Picked"
    described by "Quantity picked."
  }
  assignedPickerId is optional String(1, 50) with {
    briefly "Picker"
    described by "Assigned picker."
  }
  pickCompletedAt is optional TimeStamp with {
    briefly "Picked at"
    described by "Pick completion time."
  }
} with {
  briefly "Pick task"
  described by "Item picking task."
}

type PackingSlip is {
  slipNumber is String(1, 50) with {
    briefly "Slip"
    described by "Packing slip number."
  }
  items is many OrderLine with {
    briefly "Items"
    described by "Packed items."
  }
  packedBy is String(1, 50) with {
    briefly "Packed by"
    described by "Packer ID."
  }
  packedAt is TimeStamp with {
    briefly "Packed at"
    described by "Packing time."
  }
  weight is Decimal(8, 2) with {
    briefly "Weight"
    described by "Package weight lbs."
  }
  dimensions is String(1, 50) with {
    briefly "Dimensions"
    described by "Package dimensions."
  }
} with {
  briefly "Packing slip"
  described by "Shipment packing details."
}

type ShipmentInfo is {
  shipmentId is ShipmentId with {
    briefly "Shipment"
    described by "Shipment ID."
  }
  carrier is String(1, 100) with {
    briefly "Carrier"
    described by "Shipping carrier."
  }
  serviceLevel is String(1, 50) with {
    briefly "Service"
    described by "Service level."
  }
  trackingNumber is String(1, 100) with {
    briefly "Tracking"
    described by "Tracking number."
  }
  shippedAt is TimeStamp with {
    briefly "Shipped"
    described by "Ship date/time."
  }
  estimatedDelivery is Date with {
    briefly "Est delivery"
    described by "Estimated delivery."
  }
  shippingCost is Decimal(8, 2) with {
    briefly "Cost"
    described by "Shipping cost."
  }
} with {
  briefly "Shipment info"
  described by "Shipment tracking details."
}
