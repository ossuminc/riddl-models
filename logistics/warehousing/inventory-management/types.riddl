// Inventory Management - Shared Types

type InventoryId is Id(InventoryContext.Inventory) with {
  briefly "Inventory identifier"
  described by "Unique identifier for an inventory record."
}

type WarehouseId is UUID with {
  briefly "Warehouse identifier"
  described by "Reference to a warehouse."
}

type LocationId is UUID with {
  briefly "Location identifier"
  described by "Reference to a storage location."
}

type ProductId is UUID with {
  briefly "Product identifier"
  described by "Reference to a product."
}

type LotId is UUID with {
  briefly "Lot identifier"
  described by "Reference to a lot or batch."
}

type MovementId is UUID with {
  briefly "Movement identifier"
  described by "Reference to a stock movement."
}

type InventoryStatus is any of {
  Available,
  Reserved,
  Allocated,
  InTransit,
  Quarantine,
  Damaged,
  Expired
} with {
  briefly "Inventory status"
  described by "Current inventory status."
}

type MovementType is any of {
  Receipt,
  Putaway,
  Pick,
  Transfer,
  Adjustment,
  Return,
  Shipment,
  CycleCount
} with {
  briefly "Movement type"
  described by "Type of stock movement."
}

type AdjustmentReason is any of {
  CycleCount,
  Damage,
  Expiration,
  Theft,
  Found,
  DataCorrection
} with {
  briefly "Adjustment reason"
  described by "Reason for inventory adjustment."
}

type LocationType is any of {
  Receiving,
  Storage,
  Picking,
  Packing,
  Shipping,
  Returns,
  Quarantine
} with {
  briefly "Location type"
  described by "Type of warehouse location."
}

type ProductInfo is {
  productId is ProductId with {
    briefly "Product"
    described by "Product identifier."
  }
  sku is String(1, 50) with {
    briefly "SKU"
    described by "Stock keeping unit."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Product name."
  }
  category is String(1, 100) with {
    briefly "Category"
    described by "Product category."
  }
  unitOfMeasure is String(1, 20) with {
    briefly "UOM"
    described by "Unit of measure."
  }
  weight is optional Decimal(10, 4) with {
    briefly "Weight"
    described by "Unit weight."
  }
  dimensions is optional DimensionInfo with {
    briefly "Dimensions"
    described by "Product dimensions."
  }
} with {
  briefly "Product info"
  described by "Product information."
}

type DimensionInfo is {
  length is Decimal(10, 2) with {
    briefly "Length"
    described by "Length."
  }
  width is Decimal(10, 2) with {
    briefly "Width"
    described by "Width."
  }
  height is Decimal(10, 2) with {
    briefly "Height"
    described by "Height."
  }
  unit is String(1, 10) with {
    briefly "Unit"
    described by "Dimension unit."
  }
} with {
  briefly "Dimension info"
  described by "Physical dimensions."
}

type LocationInfo is {
  locationId is LocationId with {
    briefly "Location"
    described by "Location identifier."
  }
  code is String(1, 50) with {
    briefly "Code"
    described by "Location code."
  }
  zone is String(1, 50) with {
    briefly "Zone"
    described by "Warehouse zone."
  }
  aisle is String(1, 20) with {
    briefly "Aisle"
    described by "Aisle identifier."
  }
  rack is String(1, 20) with {
    briefly "Rack"
    described by "Rack identifier."
  }
  level is String(1, 10) with {
    briefly "Level"
    described by "Shelf level."
  }
  locationType is LocationType with {
    briefly "Type"
    described by "Location type."
  }
  capacity is Natural with {
    briefly "Capacity"
    described by "Location capacity."
  }
} with {
  briefly "Location info"
  described by "Storage location information."
}

type LotInfo is {
  lotId is LotId with {
    briefly "Lot"
    described by "Lot identifier."
  }
  lotNumber is String(1, 50) with {
    briefly "Lot number"
    described by "Lot/batch number."
  }
  manufactureDate is optional Date with {
    briefly "Manufacture date"
    described by "Manufacturing date."
  }
  expirationDate is optional Date with {
    briefly "Expiration"
    described by "Expiration date."
  }
  supplier is optional String(1, 200) with {
    briefly "Supplier"
    described by "Supplier name."
  }
} with {
  briefly "Lot info"
  described by "Lot/batch information."
}

type StockLevel is {
  quantity is Natural with {
    briefly "Quantity"
    described by "Current quantity."
  }
  reservedQuantity is Natural with {
    briefly "Reserved"
    described by "Reserved quantity."
  }
  availableQuantity is Natural with {
    briefly "Available"
    described by "Available quantity."
  }
  unitCost is Decimal(10, 4) with {
    briefly "Unit cost"
    described by "Unit cost."
  }
  totalValue is Decimal(15, 2) with {
    briefly "Total value"
    described by "Total inventory value."
  }
} with {
  briefly "Stock level"
  described by "Current stock levels."
}

type StockMovement is {
  movementId is MovementId with {
    briefly "Movement"
    described by "Movement identifier."
  }
  movementType is MovementType with {
    briefly "Type"
    described by "Movement type."
  }
  quantity is Natural with {
    briefly "Quantity"
    described by "Movement quantity."
  }
  fromLocation is optional LocationInfo with {
    briefly "From"
    described by "Source location."
  }
  toLocation is optional LocationInfo with {
    briefly "To"
    described by "Destination location."
  }
  reason is optional String(1, 500) with {
    briefly "Reason"
    described by "Movement reason."
  }
  performedBy is String(1, 200) with {
    briefly "Performed by"
    described by "Person performing movement."
  }
  performedAt is TimeStamp with {
    briefly "Performed"
    described by "Movement time."
  }
} with {
  briefly "Stock movement"
  described by "Inventory movement record."
}

type ReceiptInfo is {
  purchaseOrderId is UUID with {
    briefly "PO"
    described by "Purchase order ID."
  }
  quantity is Natural with {
    briefly "Quantity"
    described by "Received quantity."
  }
  lot is optional LotInfo with {
    briefly "Lot"
    described by "Lot information."
  }
  condition is String(1, 50) with {
    briefly "Condition"
    described by "Item condition."
  }
  receivedBy is String(1, 200) with {
    briefly "Received by"
    described by "Receiving person."
  }
} with {
  briefly "Receipt info"
  described by "Stock receipt information."
}

type ReservationInfo is {
  orderId is UUID with {
    briefly "Order"
    described by "Order ID."
  }
  quantity is Natural with {
    briefly "Quantity"
    described by "Reserved quantity."
  }
  expiresAt is TimeStamp with {
    briefly "Expires"
    described by "Reservation expiration."
  }
} with {
  briefly "Reservation info"
  described by "Stock reservation details."
}

type ReplenishmentRequest is {
  toLocation is LocationInfo with {
    briefly "To location"
    described by "Destination location."
  }
  quantity is Natural with {
    briefly "Quantity"
    described by "Requested quantity."
  }
  priority is Natural with {
    briefly "Priority"
    described by "Request priority."
  }
  requestedAt is TimeStamp with {
    briefly "Requested"
    described by "Request time."
  }
} with {
  briefly "Replenishment request"
  described by "Location replenishment request."
}
