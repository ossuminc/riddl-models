// Order Fulfillment - Shared Types
type FulfillmentOrderId is Id(FulfillmentContext.FulfillmentOrder)  with {
  briefly "Fulfillment order identifier"
  described as {
    |Unique identifier for a fulfillment order.
  }
}
type ShipmentId is UUID with {
  briefly "Shipment identifier"
  described as {
    |Reference to a shipment.
  }
}
type CustomerId is UUID with {
  briefly "Customer identifier"
  described as {
    |Reference to a customer.
  }
}
type CarrierId is UUID with {
  briefly "Carrier identifier"
  described as {
    |Reference to a shipping carrier.
  }
}
type WarehouseId is UUID with {
  briefly "Warehouse identifier"
  described as {
    |Reference to a fulfillment center.
  }
}
type FulfillmentStatus is any of {
  Received,
  Allocated,
  Picking,
  Packed,
  LabelCreated,
  Shipped,
  InTransit,
  Delivered,
  FailedDelivery,
  Cancelled
} with {
  briefly "Fulfillment status"
  described as {
    |Status of a fulfillment order.
  }
}
type ShipmentPriority is any of {
  Standard,
  Expedited,
  Overnight,
  SameDay
} with {
  briefly "Shipment priority"
  described as {
    |Shipping speed priority level.
  }
}
type PackageSize is any of {
  SmallParcel,
  MediumParcel,
  LargeParcel,
  Pallet,
  Oversized
} with {
  briefly "Package size"
  described as {
    |Size classification of the package.
  }
}
type AddressInfo is {
  street: String(1,300) with {
    briefly "Street"
    described as {
      |Street address.
    }
  }
  city: String(1,100) with {
    briefly "City"
    described as {
      |City name.
    }
  }
  region: String(1,100) with {
    briefly "Region"
    described as {
      |State or province.
    }
  }
  postalCode: String(1,20) with {
    briefly "Postal code"
    described as {
      |ZIP or postal code.
    }
  }
  country: String(2,3) with {
    briefly "Country"
    described as {
      |Country code.
    }
  }
} with {
  briefly "Address information"
  described as {
    |Mailing or shipping address.
  }
}
type OrderLineItem is {
  sku: String(1,50) with {
    briefly "SKU"
    described as {
      |Stock keeping unit.
    }
  }
  productName: String(1,200) with {
    briefly "Product"
    described as {
      |Product name.
    }
  }
  quantity: Natural with {
    briefly "Quantity"
    described as {
      |Quantity ordered.
    }
  }
  weight: Decimal(8,2) with {
    briefly "Weight"
    described as {
      |Item weight in kilograms.
    }
  }
  suggestedLocationBin: String(1,50)? with {
    briefly "Bin location"
    described as {
      |Warehouse bin location.
    }
  }
} with {
  briefly "Order line item"
  described as {
    |A single item in the fulfillment order.
  }
}
type FulfillmentOrderInfo is {
  orderId: FulfillmentOrderId with {
    briefly "Order ID"
    described as {
      |Fulfillment order identifier.
    }
  }
  customerId: CustomerId with {
    briefly "Customer"
    described as {
      |Customer identifier.
    }
  }
  warehouseId: WarehouseId with {
    briefly "Warehouse"
    described as {
      |Fulfillment center identifier.
    }
  }
  shippingAddress: AddressInfo with {
    briefly "Ship to"
    described as {
      |Destination shipping address.
    }
  }
  priority: ShipmentPriority with {
    briefly "Priority"
    described as {
      |Shipping priority.
    }
  }
  items: OrderLineItem+ with {
    briefly "Items"
    described as {
      |Order line items.
    }
  }
  requestedDeliveryDate: Date? with {
    briefly "Requested delivery"
    described as {
      |Customer requested delivery date.
    }
  }
} with {
  briefly "Fulfillment order info"
  described as {
    |Fulfillment order details.
  }
}
type PickTask is {
  sku: String(1,50) with {
    briefly "SKU"
    described as {
      |Stock keeping unit.
    }
  }
  quantity: Natural with {
    briefly "Quantity"
    described as {
      |Quantity to pick.
    }
  }
  locationBin: String(1,50) with {
    briefly "Bin"
    described as {
      |Warehouse bin location.
    }
  }
  pickedQuantity: Natural with {
    briefly "Picked"
    described as {
      |Quantity actually picked.
    }
  }
  pickCompletedAt: TimeStamp? with {
    briefly "Picked at"
    described as {
      |Time item was picked.
    }
  }
} with {
  briefly "Pick task"
  described as {
    |A pick task for a warehouse item.
  }
}
type PackageInfo is {
  packageId: UUID with {
    briefly "Package ID"
    described as {
      |Package identifier.
    }
  }
  size: PackageSize with {
    briefly "Size"
    described as {
      |Package size.
    }
  }
  totalWeight: Decimal(8,2) with {
    briefly "Weight"
    described as {
      |Total package weight in kilograms.
    }
  }
  dimensions: String(1,50) with {
    briefly "Dimensions"
    described as {
      |Package dimensions (LxWxH).
    }
  }
  containedSkus: String(1,50)+ with {
    briefly "SKUs"
    described as {
      |SKUs in this package.
    }
  }
} with {
  briefly "Package info"
  described as {
    |Physical package details.
  }
}
type CarrierSelection is {
  carrierId: CarrierId with {
    briefly "Carrier"
    described as {
      |Selected carrier identifier.
    }
  }
  carrierName: String(1,100) with {
    briefly "Name"
    described as {
      |Carrier name.
    }
  }
  serviceLevel: String(1,50) with {
    briefly "Service"
    described as {
      |Carrier service level.
    }
  }
  estimatedCost: Decimal(10,2) with {
    briefly "Cost"
    described as {
      |Estimated shipping cost.
    }
  }
  estimatedDeliveryDate: Date with {
    briefly "ETA"
    described as {
      |Estimated delivery date.
    }
  }
} with {
  briefly "Carrier selection"
  described as {
    |Selected carrier and service details.
  }
}
type TrackingInfo is {
  trackingNumber: String(1,100) with {
    briefly "Tracking"
    described as {
      |Carrier tracking number.
    }
  }
  carrierName: String(1,100) with {
    briefly "Carrier"
    described as {
      |Carrier name.
    }
  }
  labelUrl: String(1,500)? with {
    briefly "Label"
    described as {
      |Shipping label URL.
    }
  }
  shippedAt: TimeStamp with {
    briefly "Shipped"
    described as {
      |Shipment time.
    }
  }
} with {
  briefly "Tracking info"
  described as {
    |Shipment tracking details.
  }
}
type DeliveryConfirmation is {
  deliveredAt: TimeStamp with {
    briefly "Delivered"
    described as {
      |Delivery time.
    }
  }
  signedBy: String(1,100)? with {
    briefly "Signed by"
    described as {
      |Name of person who signed.
    }
  }
  proofOfDelivery: String(1,500)? with {
    briefly "Proof"
    described as {
      |Proof of delivery reference.
    }
  }
} with {
  briefly "Delivery confirmation"
  described as {
    |Proof of delivery details.
  }
}
