// Returns Processing - Shared Types
type ReturnId is Id(ReturnsContext.Return)  with {
  briefly "Return identifier"
  described as {
    |Unique identifier for a return.
  }
}
type OrderId is UUID with {
  briefly "Order identifier"
  described as {
    |Reference to original order.
  }
}
type RMANumber is String(10,20) with {
  briefly "RMA number"
  described as {
    |Return merchandise authorization.
  }
}
type ReturnStatus is any of {
  Requested,
  Authorized,
  InTransit,
  Received,
  Inspecting,
  Approved,
  Rejected,
  Refunded,
  Cancelled
} with {
  briefly "Return status"
  described as {
    |Return lifecycle status.
  }
}
type ReturnReason is any of {
  Defective,
  WrongItem,
  NotAsDescribed,
  DoesNotFit,
  ChangedMind,
  BetterPriceElsewhere,
  ArrivedTooLate,
  Damaged,
  Other
} with {
  briefly "Return reason"
  described as {
    |Reason for return.
  }
}
type ItemCondition is any of {
  New,
  LikeNew,
  Good,
  Fair,
  Poor,
  Damaged,
  Unsellable
} with {
  briefly "Item condition"
  described as {
    |Returned item condition.
  }
}
type DispositionAction is any of {
  RestockForSale,
  RefurbForResale,
  LiquidateSale,
  DonateToCharity,
  RecycleDispose,
  ReturnToVendor
} with {
  briefly "Disposition"
  described as {
    |Item disposition action.
  }
}
type RefundMethod is any of {
  OriginalPayment,
  StoreCredit,
  ExchangeItem,
  ReplacementItem
} with {
  briefly "Refund method"
  described as {
    |How customer is compensated.
  }
}
type ReturnItem is {
  sku: String(1,50) with {
    briefly "SKU"
    described as {
      |Product SKU.
    }
  }
  productName: String(1,200) with {
    briefly "Product"
    described as {
      |Product name.
    }
  }
  quantity: Natural with {
    briefly "Quantity"
    described as {
      |Quantity returned.
    }
  }
  unitPrice: Decimal(10,2) with {
    briefly "Price"
    described as {
      |Original unit price.
    }
  }
  itemReturnReason: ReturnReason with {
    briefly "Reason"
    described as {
      |Return reason.
    }
  }
} with {
  briefly "Return item"
  described as {
    |Item being returned.
  }
}
type ShipmentTracking is {
  carrier: String(1,100) with {
    briefly "Carrier"
    described as {
      |Shipping carrier.
    }
  }
  trackingNumber: String(1,100) with {
    briefly "Tracking"
    described as {
      |Tracking number.
    }
  }
  shippedDate: Date? with {
    briefly "Shipped"
    described as {
      |Ship date.
    }
  }
  deliveredDate: Date? with {
    briefly "Delivered"
    described as {
      |Delivery date.
    }
  }
} with {
  briefly "Shipment tracking"
  described as {
    |Return shipment tracking.
  }
}
type InspectionResult is {
  inspectedBy: String(1,100) with {
    briefly "Inspector"
    described as {
      |Inspector name.
    }
  }
  inspectedAt: TimeStamp with {
    briefly "Inspected"
    described as {
      |Inspection time.
    }
  }
  condition: ItemCondition with {
    briefly "Condition"
    described as {
      |Item condition.
    }
  }
  notes: String(1,1000)? with {
    briefly "Notes"
    described as {
      |Inspection notes.
    }
  }
  recommendedAction: DispositionAction with {
    briefly "Action"
    described as {
      |Recommended disposition.
    }
  }
} with {
  briefly "Inspection result"
  described as {
    |Item inspection findings.
  }
}
type RefundInfo is {
  refundAmount: Decimal(10,2) with {
    briefly "Amount"
    described as {
      |Refund amount.
    }
  }
  refundMethod: RefundMethod with {
    briefly "Method"
    described as {
      |Refund method.
    }
  }
  restockingFee: Decimal(10,2) with {
    briefly "Fee"
    described as {
      |Restocking fee.
    }
  }
  refundProcessedAt: TimeStamp? with {
    briefly "Processed"
    described as {
      |Refund process time.
    }
  }
  paymentTransactionId: String(1,100)? with {
    briefly "Transaction"
    described as {
      |Payment transaction ID.
    }
  }
} with {
  briefly "Refund info"
  described as {
    |Refund processing details.
  }
}
type ReturnLabel is {
  labelUrl: URL with {
    briefly "URL"
    described as {
      |Label download URL.
    }
  }
  carrier: String(1,100) with {
    briefly "Carrier"
    described as {
      |Carrier name.
    }
  }
  prepaid: Boolean with {
    briefly "Prepaid"
    described as {
      |Is prepaid label.
    }
  }
  expirationDate: Date with {
    briefly "Expires"
    described as {
      |Label expiration.
    }
  }
} with {
  briefly "Return label"
  described as {
    |Prepaid return shipping label.
  }
}
