// Shipment Tracking - Shared Types

type ShipmentId is Id(TrackingContext.Shipment) with {
  briefly "Shipment identifier"
  described by "Unique identifier for a shipment."
}

type TrackingNumber is String(10, 50) with {
  briefly "Tracking number"
  described by "Public tracking number for customers."
}

type ShipmentStatus is any of {
  Booked,
  PickedUp,
  InTransit,
  AtHub,
  OutForDelivery,
  Delivered,
  Exception,
  Returned
} with {
  briefly "Shipment status"
  described by "Current shipment lifecycle status."
}

type TransportMode is any of {
  Ground,
  Air,
  Ocean,
  Rail,
  Intermodal
} with {
  briefly "Transport mode"
  described by "Primary transportation method."
}

type ServiceLevel is any of {
  Economy,
  Standard,
  Express,
  Priority,
  SameDay
} with {
  briefly "Service level"
  described by "Delivery speed tier."
}

type Address is {
  street is String(1, 200) with {
    briefly "Street"
    described by "Street address."
  }
  city is String(1, 100) with {
    briefly "City"
    described by "City name."
  }
  stateProvince is String(1, 100) with {
    briefly "State/Province"
    described by "State or province."
  }
  postalCode is String(1, 20) with {
    briefly "Postal code"
    described by "ZIP or postal code."
  }
  country is String(2, 3) with {
    briefly "Country"
    described by "ISO country code."
  }
} with {
  briefly "Address"
  described by "Physical address information."
}

type PartyInfo is {
  name is String(1, 200) with {
    briefly "Name"
    described by "Party name."
  }
  address is Address with {
    briefly "Address"
    described by "Party address."
  }
  phone is optional String(1, 30) with {
    briefly "Phone"
    described by "Contact phone."
  }
  email is optional EmailAddress with {
    briefly "Email"
    described by "Contact email."
  }
} with {
  briefly "Party info"
  described by "Shipper or consignee information."
}

type PackageInfo is {
  packageId is String(1, 50) with {
    briefly "Package ID"
    described by "Package identifier."
  }
  weightKg is Decimal(8, 2) with {
    briefly "Weight"
    described by "Weight in kilograms."
  }
  lengthCm is Decimal(6, 1) with {
    briefly "Length"
    described by "Length in centimeters."
  }
  widthCm is Decimal(6, 1) with {
    briefly "Width"
    described by "Width in centimeters."
  }
  heightCm is Decimal(6, 1) with {
    briefly "Height"
    described by "Height in centimeters."
  }
  description is optional String(1, 500) with {
    briefly "Description"
    described by "Package contents."
  }
} with {
  briefly "Package info"
  described by "Package dimensions and details."
}

type GeoLocation is {
  latitude is Decimal(10, 7) with {
    briefly "Latitude"
    described by "GPS latitude."
  }
  longitude is Decimal(11, 7) with {
    briefly "Longitude"
    described by "GPS longitude."
  }
} with {
  briefly "Geo location"
  described by "GPS coordinates."
}

type TrackingEvent is {
  eventId is UUID with {
    briefly "Event ID"
    described by "Unique event identifier."
  }
  eventType is String(1, 50) with {
    briefly "Event type"
    described by "Type of tracking event."
  }
  location is String(1, 200) with {
    briefly "Location"
    described by "Event location description."
  }
  geoLocation is optional GeoLocation with {
    briefly "Coordinates"
    described by "GPS coordinates if available."
  }
  occurredAt is TimeStamp with {
    briefly "Occurred"
    described by "When event occurred."
  }
  details is optional String(1, 500) with {
    briefly "Details"
    described by "Additional event details."
  }
} with {
  briefly "Tracking event"
  described by "Single tracking milestone or scan."
}

type DeliveryWindow is {
  estimatedFrom is TimeStamp with {
    briefly "From"
    described by "Window start time."
  }
  estimatedTo is TimeStamp with {
    briefly "To"
    described by "Window end time."
  }
} with {
  briefly "Delivery window"
  described by "Estimated delivery time range."
}

type ExceptionInfo is {
  exceptionCode is String(1, 20) with {
    briefly "Code"
    described by "Exception code."
  }
  reason is String(1, 500) with {
    briefly "Reason"
    described by "Exception reason."
  }
  reportedAt is TimeStamp with {
    briefly "Reported"
    described by "When reported."
  }
  resolution is optional String(1, 500) with {
    briefly "Resolution"
    described by "How resolved."
  }
} with {
  briefly "Exception info"
  described by "Delivery exception details."
}
