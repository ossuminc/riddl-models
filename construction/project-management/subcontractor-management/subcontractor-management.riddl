// Subcontractor Management Domain Model
// Construction subcontractor relationships, contracts, and performance

domain SubcontractorManagement is {

  author OssumInc is {
    name is "Ossum Inc."
    email is "support@ossum.ai"
  } with {
    briefly "Domain author"
    described by "Organization maintaining this domain model."
  }

  user ProjectManager is "manager overseeing subcontractors" with {
    briefly "Project manager"
    described by "Staff managing subcontractor relationships."
  }

  user SubcontractorRep is "subcontractor representative" with {
    briefly "Subcontractor rep"
    described by "Representative of subcontracting company."
  }

  user Accountant is "staff handling payments" with {
    briefly "Accountant"
    described by "Staff managing subcontractor payments."
  }

  epic SubcontractorOnboardingEpic is {
    user ProjectManager wants "to onboard qualified subcontractors"
      so that "projects have reliable trade partners"

    case OnboardSubcontractor is {
      user ProjectManager wants "to evaluate and onboard a subcontractor"
        so that "they can be assigned to projects"
      step is "Manager reviews qualifications" "checking licenses" "and insurance"
        with { briefly "Review quals" described by "Manager reviews subcontractor." }
      step is "Manager verifies references" "from past projects" "and clients"
        with { briefly "Check refs" described by "Manager verifies references." }
      step send command SubcontractorContext.Subcontractor.ApproveSubcontractor from user ProjectManager to entity SubcontractorContext.Subcontractor
        with { briefly "Approve sub" described by "Send approval command." }
      step is "System adds to approved list" "for project assignment" "eligibility"
        with { briefly "Add to list" described by "System updates approved list." }
    } with {
      briefly "Subcontractor onboarding workflow"
      described by "Standard flow for vetting subcontractors."
    }
  } with {
    briefly "Subcontractor onboarding processing"
    described by {
      | Epic covering subcontractor onboarding from application
      | through qualification and approval.
    }
  }

  include "SubcontractorContext.riddl"
  include "external-contexts.riddl"

} with {
  briefly "Subcontractor management domain"
  described by {
    | The SubcontractorManagement domain handles subcontractor
    | relationships including contracts, performance, and payments.
  }
}
