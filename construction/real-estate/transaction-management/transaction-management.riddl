// Transaction Management Domain Model
// Real estate purchase and sale transactions
domain TransactionManagement is {
  author OssumInc is {
    name = "Ossum Inc."
    email = "support@ossuminc.com"
  } with {
    briefly "Domain author"
    described as {
      |Organization maintaining this domain model.
    }
  }
  user Agent is "real estate agent handling transactions" with {
    briefly "Agent"
    described as {
      |Licensed real estate agent.
    }
  }
  user Buyer is "person purchasing property" with {
    briefly "Buyer"
    described as {
      |Person or entity buying property.
    }
  }
  user Seller is "person selling property" with {
    briefly "Seller"
    described as {
      |Person or entity selling property.
    }
  }
  epic PurchaseTransactionEpic is {
    user Agent wants to "to manage property purchase transactions" so that "buyers and sellers can complete property transfers"
    case ProcessPurchase is {
      user Agent wants to "to guide a buyer through property purchase" so that "the transaction closes successfully"
      step is "Agent receives offer" "from buyer" "with terms" with {
        briefly "Receive offer"
        described as {
          |Agent receives purchase offer.
        }
      }
      step is "Agent negotiates terms" "between parties" "to agreement" with {
        briefly "Negotiate"
        described as {
          |Agent facilitates negotiation.
        }
      }
      step send command TransactionContext.Transaction.ExecuteContract from user Agent to entity TransactionContext.Transaction with {
        briefly "Execute contract"
        described as {
          |Send contract execution command.
        }
      }
      step is "System initiates closing" "with title and escrow" "processes" with {
        briefly "Initiate closing"
        described as {
          |System starts closing process.
        }
      }
    } with {
      briefly "Purchase processing workflow"
      described as {
        |Standard flow for property purchases.
      }
    }
  } with {
    briefly "Purchase transaction processing"
    described as {
      | Epic covering real estate purchase from offer
      | through negotiation and closing.
    }
  }
  include "TransactionContext.riddl"
  include "external-contexts.riddl"
} with {
  briefly "Transaction management domain"
  described as {
    | The TransactionManagement domain handles real estate
    | transactions including purchases, sales, and closings.
  }
}
