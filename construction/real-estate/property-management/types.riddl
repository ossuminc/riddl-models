// Property Management - Shared Types

type PropertyId is Id(PropertyContext.Property) with {
  briefly "Property identifier"
  described by "Unique identifier for a property."
}

type UnitId is UUID with {
  briefly "Unit identifier"
  described by "Reference to a rental unit."
}

type TenantId is UUID with {
  briefly "Tenant identifier"
  described by "Reference to a tenant."
}

type LeaseId is UUID with {
  briefly "Lease identifier"
  described by "Reference to a lease."
}

type Money is {
  amount is Decimal(10, 2) with {
    briefly "Amount"
    described by "Monetary value."
  }
  currency is Currency(USD) with {
    briefly "Currency"
    described by "Currency code."
  }
} with {
  briefly "Monetary value"
  described by "Amount with currency."
}

type PropertyType is any of {
  Residential,
  Commercial,
  Industrial,
  MixedUse,
  Retail
} with {
  briefly "Property type"
  described by "Classification of property."
}

type UnitStatus is any of {
  Vacant,
  Occupied,
  UnderRenovation,
  Maintenance,
  OffMarket
} with {
  briefly "Unit status"
  described by "Current unit availability."
}

type PropertyInfo is {
  name is String(1, 200) with {
    briefly "Name"
    described by "Property name."
  }
  address is String(1, 500) with {
    briefly "Address"
    described by "Property address."
  }
  propertyType is PropertyType with {
    briefly "Type"
    described by "Property type."
  }
  totalUnits is Natural with {
    briefly "Units"
    described by "Total unit count."
  }
  yearBuilt is Natural with {
    briefly "Year built"
    described by "Construction year."
  }
  squareFootage is Natural with {
    briefly "Sq ft"
    described by "Total square footage."
  }
} with {
  briefly "Property information"
  described by "Basic property details."
}

type Unit is {
  unitId is UnitId with {
    briefly "Unit ID"
    described by "Unit identifier."
  }
  unitNumber is String(1, 20) with {
    briefly "Number"
    described by "Unit number."
  }
  floor is Natural with {
    briefly "Floor"
    described by "Floor number."
  }
  squareFootage is Natural with {
    briefly "Sq ft"
    described by "Unit square footage."
  }
  bedrooms is optional Natural with {
    briefly "Beds"
    described by "Bedroom count."
  }
  bathrooms is optional Decimal(3, 1) with {
    briefly "Baths"
    described by "Bathroom count."
  }
  status is UnitStatus with {
    briefly "Status"
    described by "Unit status."
  }
  monthlyRent is Money with {
    briefly "Rent"
    described by "Monthly rent."
  }
} with {
  briefly "Rental unit"
  described by "Individual unit in property."
}

type TenantInfo is {
  tenantId is TenantId with {
    briefly "Tenant ID"
    described by "Tenant identifier."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Tenant name."
  }
  email is String(1, 100) with {
    briefly "Email"
    described by "Contact email."
  }
  phone is String(1, 20) with {
    briefly "Phone"
    described by "Contact phone."
  }
  isCommercial is Boolean with {
    briefly "Commercial"
    described by "Is commercial tenant."
  }
} with {
  briefly "Tenant information"
  described by "Basic tenant details."
}

type Lease is {
  leaseId is LeaseId with {
    briefly "Lease ID"
    described by "Lease identifier."
  }
  unitId is UnitId with {
    briefly "Unit"
    described by "Leased unit."
  }
  tenantId is TenantId with {
    briefly "Tenant"
    described by "Tenant ID."
  }
  startDate is Date with {
    briefly "Start"
    described by "Lease start."
  }
  endDate is Date with {
    briefly "End"
    described by "Lease end."
  }
  monthlyRent is Money with {
    briefly "Rent"
    described by "Monthly rent."
  }
  securityDeposit is Money with {
    briefly "Deposit"
    described by "Security deposit."
  }
  leaseStatus is LeaseStatus with {
    briefly "Status"
    described by "Lease status."
  }
} with {
  briefly "Lease agreement"
  described by "Rental lease details."
}

type LeaseStatus is any of {
  Pending,
  Active,
  Renewed,
  Expired,
  Terminated
} with {
  briefly "Lease status"
  described by "Current lease status."
}

type MaintenanceRequest is {
  requestId is UUID with {
    briefly "Request ID"
    described by "Request identifier."
  }
  unitId is UnitId with {
    briefly "Unit"
    described by "Affected unit."
  }
  category is MaintenanceCategory with {
    briefly "Category"
    described by "Request category."
  }
  description is String(1, 2000) with {
    briefly "Description"
    described by "Issue description."
  }
  priority is MaintenancePriority with {
    briefly "Priority"
    described by "Request priority."
  }
  maintenanceStatus is MaintenanceStatus with {
    briefly "Status"
    described by "Request status."
  }
  requestedAt is TimeStamp with {
    briefly "Requested"
    described by "When requested."
  }
  updatedCompletedAt is optional TimeStamp with {
    briefly "Completed"
    described by "When completed."
  }
} with {
  briefly "Maintenance request"
  described by "Property maintenance request."
}

type MaintenanceCategory is any of {
  Plumbing,
  Electrical,
  HVAC,
  Appliance,
  Structural,
  Pest,
  Landscaping,
  Other
} with {
  briefly "Maintenance category"
  described by "Type of maintenance."
}

type MaintenancePriority is any of {
  Emergency,
  High,
  Normal,
  Low
} with {
  briefly "Maintenance priority"
  described by "Priority level."
}

type MaintenanceStatus is any of {
  Submitted,
  Assigned,
  InProgress,
  Completed,
  Cancelled
} with {
  briefly "Maintenance status"
  described by "Request status."
}

type RentPayment is {
  paymentId is UUID with {
    briefly "Payment ID"
    described by "Payment identifier."
  }
  leaseId is LeaseId with {
    briefly "Lease"
    described by "Lease ID."
  }
  paymentAmount is Money with {
    briefly "Amount"
    described by "Payment amount."
  }
  periodStart is Date with {
    briefly "Period start"
    described by "Rental period start."
  }
  periodEnd is Date with {
    briefly "Period end"
    described by "Rental period end."
  }
  paidAt is TimeStamp with {
    briefly "Paid"
    described by "Payment time."
  }
  paymentMethod is String(1, 50) with {
    briefly "Method"
    described by "Payment method."
  }
} with {
  briefly "Rent payment"
  described by "Tenant rent payment."
}
