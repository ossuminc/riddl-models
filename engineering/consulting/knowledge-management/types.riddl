// Knowledge Management - Shared Types
type KnowledgeItemId is Id(KnowledgeContext.KnowledgeItem)  with {
  briefly "Knowledge item identifier"
  described as {
    |Unique identifier for a knowledge item.
  }
}
type CategoryId is UUID with {
  briefly "Category identifier"
  described as {
    |Reference to a knowledge category.
  }
}
type AuthorId is UUID with {
  briefly "Author identifier"
  described as {
    |Reference to an author.
  }
}
type CollectionId is UUID with {
  briefly "Collection identifier"
  described as {
    |Reference to a knowledge collection.
  }
}
type KnowledgeType is any of {
  Article,
  Template,
  BestPractice,
  LessonsLearned,
  Procedure,
  FAQ,
  CaseStudy,
  Glossary,
  Tutorial
} with {
  briefly "Knowledge type"
  described as {
    |Type of knowledge content.
  }
}
type ItemStatus is any of {
  Draft,
  UnderReview,
  Published,
  Archived,
  Deprecated
} with {
  briefly "Item status"
  described as {
    |Knowledge item status.
  }
}
type AccessLevel is any of {
  Public,
  Internal,
  Restricted,
  Confidential
} with {
  briefly "Access level"
  described as {
    |Content access restriction.
  }
}
type ReviewStatus is any of {
  Pending,
  InProgress,
  Approved,
  Rejected,
  NeedsRevision
} with {
  briefly "Review status"
  described as {
    |Content review status.
  }
}
type KnowledgeContent is {
  title: String(1,200) with {
    briefly "Title"
    described as {
      |Content title.
    }
  }
  summary: String(1,500) with {
    briefly "Summary"
    described as {
      |Brief summary.
    }
  }
  body: String(1,50000) with {
    briefly "Body"
    described as {
      |Main content.
    }
  }
  knowledgeType: KnowledgeType with {
    briefly "Type"
    described as {
      |Content type.
    }
  }
  accessLevel: AccessLevel with {
    briefly "Access"
    described as {
      |Access restriction.
    }
  }
} with {
  briefly "Knowledge content"
  described as {
    |Core knowledge item content.
  }
}
type KnowledgeMetadata is {
  authorId: AuthorId with {
    briefly "Author"
    described as {
      |Content author.
    }
  }
  categoryId: CategoryId with {
    briefly "Category"
    described as {
      |Primary category.
    }
  }
  tags: String(1,50)+ with {
    briefly "Tags"
    described as {
      |Search tags.
    }
  }
  keywords: String(1,50)+ with {
    briefly "Keywords"
    described as {
      |SEO keywords.
    }
  }
  relatedItems: KnowledgeItemId* with {
    briefly "Related"
    described as {
      |Related items.
    }
  }
  version: String(1,20) with {
    briefly "Version"
    described as {
      |Content version.
    }
  }
} with {
  briefly "Knowledge metadata"
  described as {
    |Knowledge item metadata.
  }
}
type Category is {
  categoryId: CategoryId with {
    briefly "Category ID"
    described as {
      |Category identifier.
    }
  }
  name: String(1,100) with {
    briefly "Name"
    described as {
      |Category name.
    }
  }
  description: String(1,500) with {
    briefly "Description"
    described as {
      |Category description.
    }
  }
  parentCategoryId: CategoryId? with {
    briefly "Parent"
    described as {
      |Parent category.
    }
  }
  path: String(1,500) with {
    briefly "Path"
    described as {
      |Hierarchy path.
    }
  }
} with {
  briefly "Category"
  described as {
    |Knowledge category.
  }
}
type KnowledgeCollection is {
  collectionId: CollectionId with {
    briefly "Collection ID"
    described as {
      |Collection identifier.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Collection name.
    }
  }
  description: String(1,1000) with {
    briefly "Description"
    described as {
      |Collection description.
    }
  }
  curatorId: AuthorId with {
    briefly "Curator"
    described as {
      |Collection curator.
    }
  }
  items: KnowledgeItemId+ with {
    briefly "Items"
    described as {
      |Collection items.
    }
  }
} with {
  briefly "Knowledge collection"
  described as {
    |Curated knowledge collection.
  }
}
type ContentReview is {
  reviewId: UUID with {
    briefly "Review ID"
    described as {
      |Review identifier.
    }
  }
  reviewerId: AuthorId with {
    briefly "Reviewer"
    described as {
      |Content reviewer.
    }
  }
  status: ReviewStatus with {
    briefly "Status"
    described as {
      |Review status.
    }
  }
  reviewComments: String(1,2000)? with {
    briefly "Comments"
    described as {
      |Review comments.
    }
  }
  reviewedAt: TimeStamp with {
    briefly "Reviewed"
    described as {
      |Review time.
    }
  }
} with {
  briefly "Content review"
  described as {
    |Knowledge item review.
  }
}
type UserEngagement is {
  views: Natural with {
    briefly "Views"
    described as {
      |View count.
    }
  }
  downloads: Natural with {
    briefly "Downloads"
    described as {
      |Download count.
    }
  }
  likes: Natural with {
    briefly "Likes"
    described as {
      |Like count.
    }
  }
  shares: Natural with {
    briefly "Shares"
    described as {
      |Share count.
    }
  }
  averageRating: Decimal(3,2) with {
    briefly "Rating"
    described as {
      |Average rating.
    }
  }
  ratingCount: Natural with {
    briefly "Ratings"
    described as {
      |Number of ratings.
    }
  }
} with {
  briefly "User engagement"
  described as {
    |Content engagement metrics.
  }
}
type SearchQuery is {
  query: String(1,500) with {
    briefly "Query"
    described as {
      |Search query.
    }
  }
  filters: SearchFilter+ with {
    briefly "Filters"
    described as {
      |Search filters.
    }
  }
  sortBy: String(1,50)? with {
    briefly "Sort"
    described as {
      |Sort field.
    }
  }
  limit: Natural with {
    briefly "Limit"
    described as {
      |Result limit.
    }
  }
  offset: Natural with {
    briefly "Offset"
    described as {
      |Result offset.
    }
  }
} with {
  briefly "Search query"
  described as {
    |Knowledge search query.
  }
}
type SearchFilter is {
  field: String(1,50) with {
    briefly "Field"
    described as {
      |Filter field.
    }
  }
  value: String(1,200) with {
    briefly "Value"
    described as {
      |Filter value.
    }
  }
  operator: FilterOperator with {
    briefly "Operator"
    described as {
      |Filter operator.
    }
  }
} with {
  briefly "Search filter"
  described as {
    |Search filter criteria.
  }
}
type FilterOperator is any of {
  Equals,
  Contains,
  StartsWith,
  GreaterThan,
  LessThan,
  InList
} with {
  briefly "Filter operator"
  described as {
    |Filter comparison operator.
  }
}
type SearchResult is {
  itemId: KnowledgeItemId with {
    briefly "Item"
    described as {
      |Result item.
    }
  }
  title: String(1,200) with {
    briefly "Title"
    described as {
      |Item title.
    }
  }
  summary: String(1,500) with {
    briefly "Summary"
    described as {
      |Item summary.
    }
  }
  relevanceScore: Decimal(5,4) with {
    briefly "Score"
    described as {
      |Relevance score.
    }
  }
  highlights: String(1,500)* with {
    briefly "Highlights"
    described as {
      |Matching snippets.
    }
  }
} with {
  briefly "Search result"
  described as {
    |Knowledge search result.
  }
}
type ContentComment is {
  commentId: UUID with {
    briefly "Comment ID"
    described as {
      |Comment identifier.
    }
  }
  authorId: AuthorId with {
    briefly "Author"
    described as {
      |Comment author.
    }
  }
  commentText: String(1,2000) with {
    briefly "Content"
    described as {
      |Comment text.
    }
  }
  parentCommentId: UUID? with {
    briefly "Parent"
    described as {
      |Parent comment for replies.
    }
  }
  createdAt: TimeStamp with {
    briefly "Created"
    described as {
      |Creation time.
    }
  }
} with {
  briefly "Content comment"
  described as {
    |Comment on knowledge item.
  }
}
