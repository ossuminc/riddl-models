// Engagement Management - Shared Types

type EngagementId is Id(EngagementContext.Engagement) with {
  briefly "Engagement identifier"
  described by "Unique identifier for an engagement."
}

type ClientId is UUID with {
  briefly "Client identifier"
  described by "Reference to a client organization."
}

type ConsultantId is UUID with {
  briefly "Consultant identifier"
  described by "Reference to a consultant."
}

type DeliverableId is UUID with {
  briefly "Deliverable identifier"
  described by "Reference to a deliverable."
}

type MilestoneId is UUID with {
  briefly "Milestone identifier"
  described by "Reference to a milestone."
}

type EngagementType is any of {
  Advisory,
  Implementation,
  Assessment,
  Strategy,
  Transformation,
  StaffAugmentation,
  ManagedServices
} with {
  briefly "Engagement type"
  described by "Type of consulting engagement."
}

type EngagementStatus is any of {
  Proposal,
  Negotiation,
  Approved,
  Active,
  OnHold,
  Completed,
  Cancelled
} with {
  briefly "Engagement status"
  described by "Current engagement status."
}

type DeliverableStatus is any of {
  Planned,
  InProgress,
  UnderReview,
  Approved,
  Rejected,
  Delivered
} with {
  briefly "Deliverable status"
  described by "Deliverable completion status."
}

type MilestoneStatus is any of {
  Pending,
  InProgress,
  Completed,
  Delayed,
  Cancelled
} with {
  briefly "Milestone status"
  described by "Milestone completion status."
}

type BillingType is any of {
  FixedPrice,
  TimeAndMaterials,
  Retainer,
  SuccessFee,
  Hybrid
} with {
  briefly "Billing type"
  described by "Engagement billing arrangement."
}

type EngagementInfo is {
  name is String(1, 200) with {
    briefly "Name"
    described by "Engagement name."
  }
  clientId is ClientId with {
    briefly "Client"
    described by "Client organization."
  }
  engagementType is EngagementType with {
    briefly "Type"
    described by "Engagement type."
  }
  description is String(1, 3000) with {
    briefly "Description"
    described by "Scope description."
  }
  objectives is many String(1, 500) with {
    briefly "Objectives"
    described by "Engagement objectives."
  }
  startDate is Date with {
    briefly "Start"
    described by "Planned start date."
  }
  endDate is Date with {
    briefly "End"
    described by "Planned end date."
  }
  billingType is BillingType with {
    briefly "Billing"
    described by "Billing arrangement."
  }
  budget is Decimal(12, 2) with {
    briefly "Budget"
    described by "Total budget."
  }
} with {
  briefly "Engagement information"
  described by "Core engagement details."
}

type ClientInfo is {
  clientId is ClientId with {
    briefly "Client ID"
    described by "Client identifier."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Client name."
  }
  industry is String(1, 100) with {
    briefly "Industry"
    described by "Industry sector."
  }
  primaryContact is ContactInfo with {
    briefly "Contact"
    described by "Primary contact."
  }
} with {
  briefly "Client information"
  described by "Client organization details."
}

type ContactInfo is {
  name is String(1, 200) with {
    briefly "Name"
    described by "Contact name."
  }
  email is String(1, 254) with {
    briefly "Email"
    described by "Email address."
  }
  phone is optional String(1, 20) with {
    briefly "Phone"
    described by "Phone number."
  }
  role is String(1, 100) with {
    briefly "Role"
    described by "Job role."
  }
} with {
  briefly "Contact information"
  described by "Person contact details."
}

type TeamAssignment is {
  consultantId is ConsultantId with {
    briefly "Consultant"
    described by "Assigned consultant."
  }
  role is String(1, 100) with {
    briefly "Role"
    described by "Engagement role."
  }
  allocation is Decimal(5, 2) with {
    briefly "Allocation"
    described by "Allocation percentage."
  }
  startDate is Date with {
    briefly "Start"
    described by "Assignment start."
  }
  assignmentEndDate is optional Date with {
    briefly "End"
    described by "Assignment end."
  }
  billable is Boolean with {
    briefly "Billable"
    described by "Is billable time."
  }
} with {
  briefly "Team assignment"
  described by "Consultant assignment to engagement."
}

type Deliverable is {
  deliverableId is DeliverableId with {
    briefly "Deliverable ID"
    described by "Deliverable identifier."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Deliverable name."
  }
  description is String(1, 1000) with {
    briefly "Description"
    described by "Deliverable description."
  }
  dueDate is Date with {
    briefly "Due"
    described by "Due date."
  }
  owner is ConsultantId with {
    briefly "Owner"
    described by "Responsible consultant."
  }
  status is DeliverableStatus with {
    briefly "Status"
    described by "Deliverable status."
  }
  associatedMilestoneId is optional MilestoneId with {
    briefly "Milestone"
    described by "Associated milestone."
  }
} with {
  briefly "Deliverable"
  described by "Engagement deliverable."
}

type Milestone is {
  milestoneId is MilestoneId with {
    briefly "Milestone ID"
    described by "Milestone identifier."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Milestone name."
  }
  description is String(1, 1000) with {
    briefly "Description"
    described by "Milestone description."
  }
  dueDate is Date with {
    briefly "Due"
    described by "Due date."
  }
  paymentAmount is optional Decimal(12, 2) with {
    briefly "Payment"
    described by "Associated payment."
  }
  milestoneStatus is MilestoneStatus with {
    briefly "Status"
    described by "Milestone status."
  }
} with {
  briefly "Milestone"
  described by "Engagement milestone."
}

type TimeEntry is {
  entryId is UUID with {
    briefly "Entry ID"
    described by "Entry identifier."
  }
  consultantId is ConsultantId with {
    briefly "Consultant"
    described by "Consultant ID."
  }
  date is Date with {
    briefly "Date"
    described by "Work date."
  }
  hours is Decimal(4, 2) with {
    briefly "Hours"
    described by "Hours worked."
  }
  description is String(1, 500) with {
    briefly "Description"
    described by "Work description."
  }
  billable is Boolean with {
    briefly "Billable"
    described by "Is billable."
  }
  approved is Boolean with {
    briefly "Approved"
    described by "Is approved."
  }
} with {
  briefly "Time entry"
  described by "Consultant time record."
}

type EngagementFinancials is {
  budget is Decimal(12, 2) with {
    briefly "Budget"
    described by "Total budget."
  }
  spent is Decimal(12, 2) with {
    briefly "Spent"
    described by "Amount spent."
  }
  billed is Decimal(12, 2) with {
    briefly "Billed"
    described by "Amount billed."
  }
  collected is Decimal(12, 2) with {
    briefly "Collected"
    described by "Amount collected."
  }
  margin is Decimal(5, 2) with {
    briefly "Margin"
    described by "Profit margin percentage."
  }
} with {
  briefly "Engagement financials"
  described by "Financial tracking for engagement."
}
