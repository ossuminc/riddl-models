// Design Review - Shared Types
type ReviewId is Id(ReviewContext.Review)  with {
  briefly "Review identifier"
  described as {
    |Unique identifier for a design review.
  }
}
type DesignId is UUID with {
  briefly "Design identifier"
  described as {
    |Reference to a design document.
  }
}
type ProjectId is UUID with {
  briefly "Project identifier"
  described as {
    |Reference to an engineering project.
  }
}
type EngineerId is UUID with {
  briefly "Engineer identifier"
  described as {
    |Reference to an engineer.
  }
}
type ReviewType is any of {
  PreliminaryDesign,
  CriticalDesign,
  FinalDesign,
  ChangeRequest,
  TechnicalReview,
  SafetyReview,
  QualityReview
} with {
  briefly "Review type"
  described as {
    |Type of design review.
  }
}
type ReviewStatus is any of {
  Draft,
  Submitted,
  UnderReview,
  NeedsRevision,
  Approved,
  Rejected,
  Cancelled
} with {
  briefly "Review status"
  described as {
    |Current review status.
  }
}
type ReviewOutcome is any of {
  Approved,
  ApprovedWithConditions,
  NeedsRevision,
  Rejected,
  Deferred
} with {
  briefly "Review outcome"
  described as {
    |Final review decision.
  }
}
type CommentType is any of {
  Question,
  Concern,
  Suggestion,
  Required,
  Information
} with {
  briefly "Comment type"
  described as {
    |Type of review comment.
  }
}
type CommentPriority is any of {
  Critical,
  High,
  Medium,
  Low
} with {
  briefly "Comment priority"
  described as {
    |Priority of review comment.
  }
}
type CommentStatus is any of {
  Open,
  Addressed,
  Accepted,
  Rejected,
  Deferred
} with {
  briefly "Comment status"
  described as {
    |Status of review comment.
  }
}
type ReviewInfo is {
  title: String(1,200) with {
    briefly "Title"
    described as {
      |Review title.
    }
  }
  description: String(1,2000) with {
    briefly "Description"
    described as {
      |Review description.
    }
  }
  reviewType: ReviewType with {
    briefly "Type"
    described as {
      |Review type.
    }
  }
  projectId: ProjectId with {
    briefly "Project"
    described as {
      |Parent project.
    }
  }
  designId: DesignId with {
    briefly "Design"
    described as {
      |Design under review.
    }
  }
  submittedBy: EngineerId with {
    briefly "Submitter"
    described as {
      |Submitting engineer.
    }
  }
  designVersion: String(1,50) with {
    briefly "Version"
    described as {
      |Design version.
    }
  }
  scheduledDate: Date? with {
    briefly "Scheduled"
    described as {
      |Scheduled review date.
    }
  }
} with {
  briefly "Review information"
  described as {
    |Core design review details.
  }
}
type ReviewerAssignment is {
  reviewerId: EngineerId with {
    briefly "Reviewer"
    described as {
      |Assigned reviewer.
    }
  }
  role: String(1,100) with {
    briefly "Role"
    described as {
      |Reviewer role.
    }
  }
  required: Boolean with {
    briefly "Required"
    described as {
      |Required reviewer.
    }
  }
  assignedAt: TimeStamp with {
    briefly "Assigned"
    described as {
      |Assignment time.
    }
  }
  completedAt: TimeStamp? with {
    briefly "Completed"
    described as {
      |Completion time.
    }
  }
} with {
  briefly "Reviewer assignment"
  described as {
    |Assigned reviewer details.
  }
}
type ReviewComment is {
  commentId: UUID with {
    briefly "Comment ID"
    described as {
      |Comment identifier.
    }
  }
  reviewerId: EngineerId with {
    briefly "Reviewer"
    described as {
      |Commenting reviewer.
    }
  }
  commentType: CommentType with {
    briefly "Type"
    described as {
      |Comment type.
    }
  }
  priority: CommentPriority with {
    briefly "Priority"
    described as {
      |Comment priority.
    }
  }
  status: CommentStatus with {
    briefly "Status"
    described as {
      |Comment status.
    }
  }
  content: String(1,2000) with {
    briefly "Content"
    described as {
      |Comment content.
    }
  }
  section: String(1,200)? with {
    briefly "Section"
    described as {
      |Design section referenced.
    }
  }
  engineerResponse: String(1,2000)? with {
    briefly "Response"
    described as {
      |Engineer response.
    }
  }
  createdAt: TimeStamp with {
    briefly "Created"
    described as {
      |Creation time.
    }
  }
} with {
  briefly "Review comment"
  described as {
    |Comment from reviewer.
  }
}
type ReviewDecision is {
  decisionId: UUID with {
    briefly "Decision ID"
    described as {
      |Decision identifier.
    }
  }
  reviewerId: EngineerId with {
    briefly "Reviewer"
    described as {
      |Deciding reviewer.
    }
  }
  outcome: ReviewOutcome with {
    briefly "Outcome"
    described as {
      |Review outcome.
    }
  }
  conditions: String(1,500)* with {
    briefly "Conditions"
    described as {
      |Approval conditions.
    }
  }
  rationale: String(1,2000) with {
    briefly "Rationale"
    described as {
      |Decision rationale.
    }
  }
  decidedAt: TimeStamp with {
    briefly "Decided"
    described as {
      |Decision time.
    }
  }
} with {
  briefly "Review decision"
  described as {
    |Reviewer decision details.
  }
}
type ActionItem is {
  itemId: UUID with {
    briefly "Item ID"
    described as {
      |Action item identifier.
    }
  }
  description: String(1,500) with {
    briefly "Description"
    described as {
      |Action description.
    }
  }
  assignedTo: EngineerId with {
    briefly "Assigned to"
    described as {
      |Responsible engineer.
    }
  }
  dueDate: Date with {
    briefly "Due"
    described as {
      |Due date.
    }
  }
  completed: Boolean with {
    briefly "Completed"
    described as {
      |Completion status.
    }
  }
  completedAt: TimeStamp? with {
    briefly "Completed at"
    described as {
      |Completion time.
    }
  }
} with {
  briefly "Action item"
  described as {
    |Review action item.
  }
}
type DesignDocument is {
  documentId: UUID with {
    briefly "Document ID"
    described as {
      |Document identifier.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Document name.
    }
  }
  documentType: String(1,50) with {
    briefly "Type"
    described as {
      |Document type.
    }
  }
  version: String(1,50) with {
    briefly "Version"
    described as {
      |Document version.
    }
  }
  url: URL with {
    briefly "URL"
    described as {
      |Document location.
    }
  }
} with {
  briefly "Design document"
  described as {
    |Supporting design document.
  }
}
