// Prototype Management - Shared Types
type PrototypeId is Id(PrototypeContext.Prototype)  with {
  briefly "Prototype identifier"
  described as {
    |Unique identifier for a prototype.
  }
}
type ProjectId is UUID with {
  briefly "Project identifier"
  described as {
    |Reference to a development project.
  }
}
type BuildId is UUID with {
  briefly "Build identifier"
  described as {
    |Reference to a prototype build.
  }
}
type TestId is UUID with {
  briefly "Test identifier"
  described as {
    |Reference to a test execution.
  }
}
type EngineerId is UUID with {
  briefly "Engineer identifier"
  described as {
    |Reference to an engineer.
  }
}
type PrototypeType is any of {
  Conceptual,
  Functional,
  Visual,
  Engineering,
  Production,
  Digital
} with {
  briefly "Prototype type"
  described as {
    |Type of prototype.
  }
}
type PrototypeStatus is any of {
  Planning,
  InDevelopment,
  Built,
  UnderTest,
  Validated,
  Retired
} with {
  briefly "Prototype status"
  described as {
    |Current prototype status.
  }
}
type BuildStatus is any of {
  Planned,
  InProgress,
  Completed,
  Failed,
  OnHold
} with {
  briefly "Build status"
  described as {
    |Prototype build status.
  }
}
type TestStatus is any of {
  Planned,
  InProgress,
  Passed,
  Failed,
  Blocked,
  Skipped
} with {
  briefly "Test status"
  described as {
    |Test execution status.
  }
}
type TestType is any of {
  Functional,
  Performance,
  Durability,
  Safety,
  Usability,
  Integration,
  Regression
} with {
  briefly "Test type"
  described as {
    |Type of test.
  }
}
type PrototypeInfo is {
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Prototype name.
    }
  }
  description: String(1,2000) with {
    briefly "Description"
    described as {
      |Prototype description.
    }
  }
  prototypeType: PrototypeType with {
    briefly "Type"
    described as {
      |Prototype type.
    }
  }
  projectId: ProjectId with {
    briefly "Project"
    described as {
      |Parent project.
    }
  }
  version: String(1,50) with {
    briefly "Version"
    described as {
      |Prototype version.
    }
  }
  objectives: String(1,500)+ with {
    briefly "Objectives"
    described as {
      |Development objectives.
    }
  }
  targetDate: Date with {
    briefly "Target"
    described as {
      |Target completion date.
    }
  }
} with {
  briefly "Prototype information"
  described as {
    |Core prototype details.
  }
}
type PrototypeBuild is {
  buildId: BuildId with {
    briefly "Build ID"
    described as {
      |Build identifier.
    }
  }
  buildNumber: String(1,50) with {
    briefly "Number"
    described as {
      |Build number.
    }
  }
  buildStatus: BuildStatus with {
    briefly "Status"
    described as {
      |Build status.
    }
  }
  buildStartedAt: TimeStamp? with {
    briefly "Started"
    described as {
      |Start time.
    }
  }
  completedAt: TimeStamp? with {
    briefly "Completed"
    described as {
      |Completion time.
    }
  }
  components: PrototypeComponent+ with {
    briefly "Components"
    described as {
      |Build components.
    }
  }
  notes: String(1,2000)? with {
    briefly "Notes"
    described as {
      |Build notes.
    }
  }
} with {
  briefly "Prototype build"
  described as {
    |Prototype build iteration.
  }
}
type PrototypeComponent is {
  componentId: UUID with {
    briefly "Component ID"
    described as {
      |Component identifier.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Component name.
    }
  }
  partNumber: String(1,50) with {
    briefly "Part number"
    described as {
      |Part number.
    }
  }
  quantity: Natural with {
    briefly "Quantity"
    described as {
      |Quantity needed.
    }
  }
  componentSupplier: String(1,200)? with {
    briefly "Supplier"
    described as {
      |Part supplier.
    }
  }
  leadTime: Duration? with {
    briefly "Lead time"
    described as {
      |Procurement lead time.
    }
  }
  received: Boolean with {
    briefly "Received"
    described as {
      |Part received.
    }
  }
} with {
  briefly "Prototype component"
  described as {
    |Component in prototype build.
  }
}
type TestPlan is {
  planId: UUID with {
    briefly "Plan ID"
    described as {
      |Test plan identifier.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Plan name.
    }
  }
  testCases: TestCase+ with {
    briefly "Test cases"
    described as {
      |Planned test cases.
    }
  }
  acceptanceCriteria: AcceptanceCriterion+ with {
    briefly "Criteria"
    described as {
      |Acceptance criteria.
    }
  }
} with {
  briefly "Test plan"
  described as {
    |Prototype test plan.
  }
}
type TestCase is {
  caseId: UUID with {
    briefly "Case ID"
    described as {
      |Test case identifier.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Test case name.
    }
  }
  description: String(1,1000) with {
    briefly "Description"
    described as {
      |Test description.
    }
  }
  testType: TestType with {
    briefly "Type"
    described as {
      |Test type.
    }
  }
  procedure: String(1,5000) with {
    briefly "Procedure"
    described as {
      |Test procedure.
    }
  }
  expectedResult: String(1,1000) with {
    briefly "Expected"
    described as {
      |Expected result.
    }
  }
} with {
  briefly "Test case"
  described as {
    |Individual test case.
  }
}
type AcceptanceCriterion is {
  criterionId: UUID with {
    briefly "Criterion ID"
    described as {
      |Criterion identifier.
    }
  }
  description: String(1,500) with {
    briefly "Description"
    described as {
      |Criterion description.
    }
  }
  metric: String(1,100) with {
    briefly "Metric"
    described as {
      |Measurement metric.
    }
  }
  threshold: String(1,100) with {
    briefly "Threshold"
    described as {
      |Pass/fail threshold.
    }
  }
  priority: String(1,20) with {
    briefly "Priority"
    described as {
      |Criterion priority.
    }
  }
} with {
  briefly "Acceptance criterion"
  described as {
    |Validation acceptance criterion.
  }
}
type TestExecution is {
  testId: TestId with {
    briefly "Test ID"
    described as {
      |Test identifier.
    }
  }
  testCaseId: UUID with {
    briefly "Test case"
    described as {
      |Executed test case.
    }
  }
  buildId: BuildId with {
    briefly "Build"
    described as {
      |Tested build.
    }
  }
  executedBy: EngineerId with {
    briefly "Executed by"
    described as {
      |Test engineer.
    }
  }
  testStatus: TestStatus with {
    briefly "Status"
    described as {
      |Test status.
    }
  }
  startedAt: TimeStamp with {
    briefly "Started"
    described as {
      |Start time.
    }
  }
  completedAt: TimeStamp? with {
    briefly "Completed"
    described as {
      |Completion time.
    }
  }
  executionResult: TestResult? with {
    briefly "Result"
    described as {
      |Test result.
    }
  }
} with {
  briefly "Test execution"
  described as {
    |Individual test execution.
  }
}
type TestResult is {
  passed: Boolean with {
    briefly "Passed"
    described as {
      |Test passed.
    }
  }
  actualResult: String(1,2000) with {
    briefly "Actual"
    described as {
      |Actual result.
    }
  }
  measurements: TestMeasurement+ with {
    briefly "Measurements"
    described as {
      |Test measurements.
    }
  }
  defectsFound: String(1,500)* with {
    briefly "Defects"
    described as {
      |Defects discovered.
    }
  }
  notes: String(1,2000)? with {
    briefly "Notes"
    described as {
      |Test notes.
    }
  }
} with {
  briefly "Test result"
  described as {
    |Test execution result.
  }
}
type TestMeasurement is {
  name: String(1,100) with {
    briefly "Name"
    described as {
      |Measurement name.
    }
  }
  value: Decimal(12,4) with {
    briefly "Value"
    described as {
      |Measured value.
    }
  }
  unit: String(1,50) with {
    briefly "Unit"
    described as {
      |Unit of measure.
    }
  }
  withinSpec: Boolean with {
    briefly "Within spec"
    described as {
      |Within specification.
    }
  }
} with {
  briefly "Test measurement"
  described as {
    |Individual test measurement.
  }
}
