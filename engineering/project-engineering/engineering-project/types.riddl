// Engineering Project - Shared Types

type ProjectId is Id(ProjectContext.Project) with {
  briefly "Project identifier"
  described by "Unique identifier for an engineering project."
}

type PhaseId is UUID with {
  briefly "Phase identifier"
  described by "Reference to a project phase."
}

type TaskId is UUID with {
  briefly "Task identifier"
  described by "Reference to a project task."
}

type MilestoneId is UUID with {
  briefly "Milestone identifier"
  described by "Reference to a project milestone."
}

type EngineerId is UUID with {
  briefly "Engineer identifier"
  described by "Reference to an engineer."
}

type ResourceId is UUID with {
  briefly "Resource identifier"
  described by "Reference to a project resource."
}

type ProjectStatus is any of {
  Planning,
  Active,
  OnHold,
  Completed,
  Cancelled
} with {
  briefly "Project status"
  described by "Current project status."
}

type PhaseType is any of {
  Initiation,
  Planning,
  Design,
  Development,
  Testing,
  Deployment,
  Closure
} with {
  briefly "Phase type"
  described by "Type of project phase."
}

type TaskStatus is any of {
  NotStarted,
  InProgress,
  Blocked,
  Completed,
  Cancelled
} with {
  briefly "Task status"
  described by "Current task status."
}

type TaskPriority is any of {
  Critical,
  High,
  Medium,
  Low
} with {
  briefly "Task priority"
  described by "Task priority level."
}

type ResourceType is any of {
  Engineer,
  Equipment,
  Software,
  Facility,
  Material
} with {
  briefly "Resource type"
  described by "Type of project resource."
}

type RiskLevel is any of {
  Critical,
  High,
  Medium,
  Low,
  Minimal
} with {
  briefly "Risk level"
  described by "Project risk level."
}

type ProjectInfo is {
  name is String(1, 200) with {
    briefly "Name"
    described by "Project name."
  }
  description is String(1, 2000) with {
    briefly "Description"
    described by "Project description."
  }
  projectType is String(1, 100) with {
    briefly "Type"
    described by "Project type."
  }
  clientId is optional UUID with {
    briefly "Client"
    described by "Client identifier."
  }
  sponsor is String(1, 200) with {
    briefly "Sponsor"
    described by "Project sponsor."
  }
  startDate is Date with {
    briefly "Start"
    described by "Planned start date."
  }
  endDate is Date with {
    briefly "End"
    described by "Planned end date."
  }
  budget is Decimal(15, 2) with {
    briefly "Budget"
    described by "Project budget."
  }
} with {
  briefly "Project information"
  described by "Core project details."
}

type ProjectPhase is {
  phaseId is PhaseId with {
    briefly "Phase ID"
    described by "Phase identifier."
  }
  phaseType is PhaseType with {
    briefly "Type"
    described by "Phase type."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Phase name."
  }
  startDate is Date with {
    briefly "Start"
    described by "Phase start date."
  }
  endDate is Date with {
    briefly "End"
    described by "Phase end date."
  }
  status is TaskStatus with {
    briefly "Status"
    described by "Phase status."
  }
  milestones is many ProjectMilestone with {
    briefly "Milestones"
    described by "Phase milestones."
  }
} with {
  briefly "Project phase"
  described by "Major project phase."
}

type ProjectMilestone is {
  milestoneId is MilestoneId with {
    briefly "Milestone ID"
    described by "Milestone identifier."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Milestone name."
  }
  description is String(1, 1000) with {
    briefly "Description"
    described by "Milestone description."
  }
  dueDate is Date with {
    briefly "Due"
    described by "Due date."
  }
  deliverables is many String(1, 500) with {
    briefly "Deliverables"
    described by "Required deliverables."
  }
  completed is Boolean with {
    briefly "Completed"
    described by "Completion status."
  }
  completedAt is optional TimeStamp with {
    briefly "Completed at"
    described by "Completion time."
  }
} with {
  briefly "Project milestone"
  described by "Key project milestone."
}

type ProjectTask is {
  taskId is TaskId with {
    briefly "Task ID"
    described by "Task identifier."
  }
  phaseId is PhaseId with {
    briefly "Phase"
    described by "Parent phase."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Task name."
  }
  description is String(1, 1000) with {
    briefly "Description"
    described by "Task description."
  }
  priority is TaskPriority with {
    briefly "Priority"
    described by "Task priority."
  }
  status is TaskStatus with {
    briefly "Status"
    described by "Task status."
  }
  assignedTo is many EngineerId with {
    briefly "Assigned"
    described by "Assigned engineers."
  }
  estimatedHours is Decimal(8, 2) with {
    briefly "Estimated"
    described by "Estimated effort."
  }
  actualHours is Decimal(8, 2) with {
    briefly "Actual"
    described by "Actual effort."
  }
  startDate is optional Date with {
    briefly "Start"
    described by "Start date."
  }
  dueDate is Date with {
    briefly "Due"
    described by "Due date."
  }
  dependencies is many optional TaskId with {
    briefly "Dependencies"
    described by "Task dependencies."
  }
} with {
  briefly "Project task"
  described by "Individual project task."
}

type ResourceAllocation is {
  allocationId is UUID with {
    briefly "Allocation ID"
    described by "Allocation identifier."
  }
  resourceId is ResourceId with {
    briefly "Resource"
    described by "Resource identifier."
  }
  resourceType is ResourceType with {
    briefly "Type"
    described by "Resource type."
  }
  resourceName is String(1, 200) with {
    briefly "Name"
    described by "Resource name."
  }
  allocation is Decimal(5, 2) with {
    briefly "Allocation"
    described by "Allocation percentage."
  }
  startDate is Date with {
    briefly "Start"
    described by "Allocation start."
  }
  endDate is Date with {
    briefly "End"
    described by "Allocation end."
  }
  cost is Decimal(12, 2) with {
    briefly "Cost"
    described by "Resource cost."
  }
} with {
  briefly "Resource allocation"
  described by "Project resource allocation."
}

type ProjectRisk is {
  riskId is UUID with {
    briefly "Risk ID"
    described by "Risk identifier."
  }
  description is String(1, 1000) with {
    briefly "Description"
    described by "Risk description."
  }
  level is RiskLevel with {
    briefly "Level"
    described by "Risk level."
  }
  probability is Decimal(5, 2) with {
    briefly "Probability"
    described by "Occurrence probability."
  }
  impact is String(1, 500) with {
    briefly "Impact"
    described by "Potential impact."
  }
  mitigation is String(1, 1000) with {
    briefly "Mitigation"
    described by "Mitigation strategy."
  }
  owner is EngineerId with {
    briefly "Owner"
    described by "Risk owner."
  }
  status is String(1, 50) with {
    briefly "Status"
    described by "Risk status."
  }
} with {
  briefly "Project risk"
  described by "Identified project risk."
}

type TimeEntry is {
  entryId is UUID with {
    briefly "Entry ID"
    described by "Entry identifier."
  }
  taskId is TaskId with {
    briefly "Task"
    described by "Related task."
  }
  engineerId is EngineerId with {
    briefly "Engineer"
    described by "Engineer ID."
  }
  hours is Decimal(5, 2) with {
    briefly "Hours"
    described by "Hours worked."
  }
  entryDate is Date with {
    briefly "Date"
    described by "Work date."
  }
  notes is optional String(1, 500) with {
    briefly "Notes"
    described by "Work notes."
  }
} with {
  briefly "Time entry"
  described by "Time tracking entry."
}
