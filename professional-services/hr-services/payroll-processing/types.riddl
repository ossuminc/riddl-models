// Payroll Processing - Shared Types

type PayrollRunId is Id(PayrollContext.PayrollRun) with {
  briefly "Payroll run identifier"
  described by "Unique identifier for a payroll run."
}

type EmployeeId is UUID with {
  briefly "Employee identifier"
  described by "Reference to an employee."
}

type PayPeriodId is UUID with {
  briefly "Pay period identifier"
  described by "Reference to a pay period."
}

type PayrollStatus is any of {
  Draft,
  Processing,
  PendingApproval,
  Approved,
  Paid,
  Voided
} with {
  briefly "Payroll status"
  described by "Payroll run status."
}

type PayFrequency is any of {
  Weekly,
  BiWeekly,
  SemiMonthly,
  Monthly
} with {
  briefly "Pay frequency"
  described by "Payroll frequency."
}

type PayType is any of {
  Salary,
  Hourly,
  Commission,
  Contractor
} with {
  briefly "Pay type"
  described by "Employee compensation type."
}

type TaxFilingStatus is any of {
  Single,
  MarriedFilingJointly,
  MarriedFilingSeparately,
  HeadOfHousehold
} with {
  briefly "Filing status"
  described by "Tax filing status."
}

type PayPeriod is {
  periodId is PayPeriodId with {
    briefly "Period"
    described by "Period identifier."
  }
  startDate is Date with {
    briefly "Start"
    described by "Period start date."
  }
  endDate is Date with {
    briefly "End"
    described by "Period end date."
  }
  payDate is Date with {
    briefly "Pay date"
    described by "Payment date."
  }
  frequency is PayFrequency with {
    briefly "Frequency"
    described by "Pay frequency."
  }
} with {
  briefly "Pay period"
  described by "Payroll period definition."
}

type EarningsLine is {
  earningsType is String(1, 50) with {
    briefly "Type"
    described by "Earnings type."
  }
  hours is optional Decimal(6, 2) with {
    briefly "Hours"
    described by "Hours worked."
  }
  rate is Decimal(10, 4) with {
    briefly "Rate"
    described by "Pay rate."
  }
  earningsAmount is Decimal(12, 2) with {
    briefly "Amount"
    described by "Earnings amount."
  }
} with {
  briefly "Earnings line"
  described by "Individual earnings entry."
}

type DeductionLine is {
  deductionType is String(1, 50) with {
    briefly "Type"
    described by "Deduction type."
  }
  deductionAmount is Decimal(10, 2) with {
    briefly "Amount"
    described by "Deduction amount."
  }
  preTax is Boolean with {
    briefly "Pre-tax"
    described by "Is pre-tax deduction."
  }
} with {
  briefly "Deduction line"
  described by "Individual deduction entry."
}

type TaxWithholding is {
  taxType is String(1, 50) with {
    briefly "Type"
    described by "Tax type."
  }
  jurisdiction is String(1, 50) with {
    briefly "Jurisdiction"
    described by "Tax jurisdiction."
  }
  taxableWages is Decimal(12, 2) with {
    briefly "Taxable"
    described by "Taxable wages."
  }
  taxAmount is Decimal(10, 2) with {
    briefly "Amount"
    described by "Tax amount."
  }
} with {
  briefly "Tax withholding"
  described by "Tax withholding entry."
}

type EmployeePayStub is {
  employeeId is EmployeeId with {
    briefly "Employee"
    described by "Employee ID."
  }
  payPeriod is PayPeriod with {
    briefly "Period"
    described by "Pay period."
  }
  earnings is many EarningsLine with {
    briefly "Earnings"
    described by "Earnings lines."
  }
  deductions is many DeductionLine with {
    briefly "Deductions"
    described by "Deduction lines."
  }
  taxes is many TaxWithholding with {
    briefly "Taxes"
    described by "Tax withholdings."
  }
  grossPay is Decimal(12, 2) with {
    briefly "Gross"
    described by "Gross pay."
  }
  netPay is Decimal(12, 2) with {
    briefly "Net"
    described by "Net pay."
  }
} with {
  briefly "Employee pay stub"
  described by "Employee payroll detail."
}

type PayrollTotals is {
  totalGross is Decimal(15, 2) with {
    briefly "Total gross"
    described by "Total gross pay."
  }
  totalDeductions is Decimal(15, 2) with {
    briefly "Total deductions"
    described by "Total deductions."
  }
  totalTaxes is Decimal(15, 2) with {
    briefly "Total taxes"
    described by "Total tax withholdings."
  }
  totalNet is Decimal(15, 2) with {
    briefly "Total net"
    described by "Total net pay."
  }
  employeeCount is Natural with {
    briefly "Employees"
    described by "Employee count."
  }
} with {
  briefly "Payroll totals"
  described by "Payroll run totals."
}

type DirectDeposit is {
  accountType is String(1, 20) with {
    briefly "Type"
    described by "Account type."
  }
  routingNumber is String(9, 9) with {
    briefly "Routing"
    described by "Routing number."
  }
  accountNumber is String(4, 17) with {
    briefly "Account"
    described by "Account number."
  }
  depositAmount is Decimal(12, 2) with {
    briefly "Amount"
    described by "Deposit amount."
  }
} with {
  briefly "Direct deposit"
  described by "Direct deposit instruction."
}
