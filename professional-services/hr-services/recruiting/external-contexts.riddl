// Recruiting - External Contexts
context JobBoardIntegration is {
  command PostJobListing is  {
    requisitionId: RequisitionId with {
      briefly "Requisition"
      described as {
        |Requisition ID.
      }
    }
    jobTitle: String(3,200) with {
      briefly "Title"
      described as {
        |Job title.
      }
    }
    jobDescriptionText: String(10,5000) with {
      briefly "Description"
      described as {
        |Job description text.
      }
    }
    location: String(3,200) with {
      briefly "Location"
      described as {
        |Job location.
      }
    }
    boardName: String(3,100) with {
      briefly "Board"
      described as {
        |Target job board name.
      }
    }
  } with {
    briefly "Post job listing"
    described as {
      |Posts a job to an external job board.
    }
  }
  event JobListingPosted is  {
    requisitionId: RequisitionId with {
      briefly "Requisition"
      described as {
        |Requisition ID.
      }
    }
    boardName: String(3,100) with {
      briefly "Board"
      described as {
        |Job board name.
      }
    }
    externalListingId: String(3,200) with {
      briefly "Listing ID"
      described as {
        |External listing identifier.
      }
    }
    postedAt: TimeStamp with {
      briefly "Posted"
      described as {
        |When the listing was posted.
      }
    }
  } with {
    briefly "Job listing posted"
    described as {
      |Emitted when a job is posted to a board.
    }
  }
  command RemoveJobListing is  {
    requisitionId: RequisitionId with {
      briefly "Requisition"
      described as {
        |Requisition ID.
      }
    }
    boardName: String(3,100) with {
      briefly "Board"
      described as {
        |Job board name.
      }
    }
    externalListingId: String(3,200) with {
      briefly "Listing ID"
      described as {
        |External listing identifier.
      }
    }
  } with {
    briefly "Remove job listing"
    described as {
      |Removes a job listing from a board.
    }
  }
  event JobListingRemoved is  {
    requisitionId: RequisitionId with {
      briefly "Requisition"
      described as {
        |Requisition ID.
      }
    }
    boardName: String(3,100) with {
      briefly "Board"
      described as {
        |Job board name.
      }
    }
    removedAt: TimeStamp with {
      briefly "Removed"
      described as {
        |When the listing was removed.
      }
    }
  } with {
    briefly "Job listing removed"
    described as {
      |Emitted when a listing is removed from a board.
    }
  }
  query GetApplicationsFromBoard is  {
    boardName: String(3,100) with {
      briefly "Board"
      described as {
        |Job board name.
      }
    }
    requisitionId: RequisitionId with {
      briefly "Requisition"
      described as {
        |Requisition ID.
      }
    }
  } with {
    briefly "Get applications from board"
    described as {
      |Retrieves new applications from an external board.
    }
  }
  result BoardApplications is  {
    applications: CandidateProfile+ with {
      briefly "Applications"
      described as {
        |Candidate applications.
      }
    }
    retrievedAt: TimeStamp with {
      briefly "Retrieved"
      described as {
        |Retrieval time.
      }
    }
  } with {
    briefly "Board applications"
    described as {
      |Applications received from a job board.
    }
  }
} with {
  option external()
  briefly "External job board integration"
  described as {
    |Integration with external job boards for posting and sourcing.
  }
}
context BackgroundCheckService is {
  command InitiateBackgroundCheck is  {
    requisitionId: RequisitionId with {
      briefly "Requisition"
      described as {
        |Requisition ID.
      }
    }
    candidateId: CandidateId with {
      briefly "Candidate"
      described as {
        |Candidate ID.
      }
    }
    candidateName: String(3,200) with {
      briefly "Name"
      described as {
        |Candidate full name.
      }
    }
    checkTypes: String(3,100)+ with {
      briefly "Check types"
      described as {
        |Types of checks to run.
      }
    }
  } with {
    briefly "Initiate background check"
    described as {
      |Starts a background check for a candidate.
    }
  }
  event BackgroundCheckCompleted is  {
    requisitionId: RequisitionId with {
      briefly "Requisition"
      described as {
        |Requisition ID.
      }
    }
    candidateId: CandidateId with {
      briefly "Candidate"
      described as {
        |Candidate ID.
      }
    }
    passed: Boolean with {
      briefly "Passed"
      described as {
        |Whether the check passed.
      }
    }
    findings: String(3,5000)? with {
      briefly "Findings"
      described as {
        |Check findings summary.
      }
    }
    completedAt: TimeStamp with {
      briefly "Completed"
      described as {
        |Completion time.
      }
    }
  } with {
    briefly "Background check completed"
    described as {
      |Emitted when a background check is finished.
    }
  }
  query GetCheckStatus is  {
    candidateId: CandidateId with {
      briefly "Candidate"
      described as {
        |Candidate ID.
      }
    }
  } with {
    briefly "Get check status"
    described as {
      |Gets background check progress.
    }
  }
  result CheckStatus is  {
    candidateId: CandidateId with {
      briefly "Candidate"
      described as {
        |Candidate ID.
      }
    }
    checkStatus: String(3,50) with {
      briefly "Status"
      described as {
        |Check status.
      }
    }
    estimatedCompletion: Date? with {
      briefly "Estimated"
      described as {
        |Estimated completion date.
      }
    }
  } with {
    briefly "Check status"
    described as {
      |Background check status.
    }
  }
} with {
  option external()
  briefly "External background check service"
  described as {
    |Third-party background screening and verification service.
  }
}
