// Contract Lifecycle - Shared Types
type ContractId is Id(ContractContext.Contract)  with {
  briefly "Contract identifier"
  described as {
    |Unique identifier for a contract.
  }
}
type PartyId is UUID with {
  briefly "Party identifier"
  described as {
    |Reference to a contracting party.
  }
}
type TemplateId is UUID with {
  briefly "Template identifier"
  described as {
    |Reference to a contract template.
  }
}
type ObligationId is UUID with {
  briefly "Obligation identifier"
  described as {
    |Reference to a contract obligation.
  }
}
type ContractStatus is any of {
  Drafting,
  InReview,
  Redlining,
  PendingApproval,
  Approved,
  PendingSignature,
  Executed,
  Active,
  Expired,
  Terminated,
  Renewed
} with {
  briefly "Contract status"
  described as {
    |Current status of a contract.
  }
}
type ContractType is any of {
  ServiceAgreement,
  NDA,
  MasterServices,
  StatementOfWork,
  License,
  Employment,
  Vendor,
  Partnership,
  Lease,
  Amendment
} with {
  briefly "Contract type"
  described as {
    |Type of legal contract.
  }
}
type ApprovalStatus is any of {
  Pending,
  Approved,
  Rejected,
  ConditionallyApproved
} with {
  briefly "Approval status"
  described as {
    |Status of an approval decision.
  }
}
type ObligationType is any of {
  Payment,
  Delivery,
  Performance,
  Reporting,
  Compliance,
  Confidentiality,
  Insurance,
  Indemnification
} with {
  briefly "Obligation type"
  described as {
    |Category of contract obligation.
  }
}
type ContractParty is {
  partyId: PartyId with {
    briefly "Party ID"
    described as {
      |Party identifier.
    }
  }
  partyName: String(3,200) with {
    briefly "Name"
    described as {
      |Legal name of the party.
    }
  }
  role: String(3,100) with {
    briefly "Role"
    described as {
      |Role in the contract.
    }
  }
  email: String(5,254) with {
    briefly "Email"
    described as {
      |Contact email address.
    }
  }
  authorizedSignatoryName: String(3,200)? with {
    briefly "Signatory"
    described as {
      |Name of the authorized signatory.
    }
  }
} with {
  briefly "Contract party"
  described as {
    |A party to the contract.
  }
}
type ContractInfo is {
  contractId: ContractId with {
    briefly "Contract ID"
    described as {
      |Contract identifier.
    }
  }
  title: String(3,300) with {
    briefly "Title"
    described as {
      |Contract title.
    }
  }
  contractType: ContractType with {
    briefly "Type"
    described as {
      |Type of contract.
    }
  }
  parties: ContractParty+ with {
    briefly "Parties"
    described as {
      |Contracting parties.
    }
  }
  effectiveDate: Date with {
    briefly "Effective date"
    described as {
      |Date contract takes effect.
    }
  }
  expirationDate: Date? with {
    briefly "Expiration date"
    described as {
      |Date contract expires.
    }
  }
  totalValue: Decimal(14,2)? with {
    briefly "Value"
    described as {
      |Total contract value.
    }
  }
  currency: String(3,3)? with {
    briefly "Currency"
    described as {
      |Currency code.
    }
  }
} with {
  briefly "Contract info"
  described as {
    |Core contract details.
  }
}
type ReviewComment is {
  commentId: UUID with {
    briefly "Comment ID"
    described as {
      |Comment identifier.
    }
  }
  reviewer: String(3,200) with {
    briefly "Reviewer"
    described as {
      |Name of reviewer.
    }
  }
  section: String(3,200) with {
    briefly "Section"
    described as {
      |Contract section referenced.
    }
  }
  commentText: String(3,2000) with {
    briefly "Comment"
    described as {
      |Review comment text.
    }
  }
  severity: String(3,50) with {
    briefly "Severity"
    described as {
      |Comment severity level.
    }
  }
  resolved: Boolean with {
    briefly "Resolved"
    described as {
      |Whether comment is resolved.
    }
  }
  createdAt: TimeStamp with {
    briefly "Created"
    described as {
      |Comment creation time.
    }
  }
} with {
  briefly "Review comment"
  described as {
    |A comment from contract review.
  }
}
type RedlineChange is {
  changeId: UUID with {
    briefly "Change ID"
    described as {
      |Change identifier.
    }
  }
  section: String(3,200) with {
    briefly "Section"
    described as {
      |Affected section.
    }
  }
  originalText: String(3,5000) with {
    briefly "Original"
    described as {
      |Original text.
    }
  }
  proposedText: String(3,5000) with {
    briefly "Proposed"
    described as {
      |Proposed replacement text.
    }
  }
  proposedBy: String(3,200) with {
    briefly "Proposed by"
    described as {
      |Person proposing change.
    }
  }
  accepted: Boolean? with {
    briefly "Accepted"
    described as {
      |Whether change was accepted.
    }
  }
} with {
  briefly "Redline change"
  described as {
    |A tracked change during redlining.
  }
}
type ApprovalRecord is {
  approverId: UUID with {
    briefly "Approver ID"
    described as {
      |Approver identifier.
    }
  }
  approverName: String(3,200) with {
    briefly "Approver name"
    described as {
      |Name of approver.
    }
  }
  decision: ApprovalStatus with {
    briefly "Decision"
    described as {
      |Approval decision.
    }
  }
  comments: String(3,2000)? with {
    briefly "Comments"
    described as {
      |Approval comments.
    }
  }
  conditions: String(3,2000)? with {
    briefly "Conditions"
    described as {
      |Conditions for approval.
    }
  }
  decidedAt: TimeStamp with {
    briefly "Decided"
    described as {
      |Decision time.
    }
  }
} with {
  briefly "Approval record"
  described as {
    |Record of an approval decision.
  }
}
type SignatureRecord is {
  signatoryId: PartyId with {
    briefly "Signatory ID"
    described as {
      |Signatory identifier.
    }
  }
  signatoryName: String(3,200) with {
    briefly "Name"
    described as {
      |Signatory name.
    }
  }
  signedAt: TimeStamp with {
    briefly "Signed"
    described as {
      |Signature time.
    }
  }
  signatureMethod: String(3,100) with {
    briefly "Method"
    described as {
      |Signature method used.
    }
  }
  ipAddress: String(3,50)? with {
    briefly "IP address"
    described as {
      |IP address at signing.
    }
  }
} with {
  briefly "Signature record"
  described as {
    |Record of a contract signature.
  }
}
type Obligation is {
  obligationId: ObligationId with {
    briefly "Obligation ID"
    described as {
      |Obligation identifier.
    }
  }
  obligationType: ObligationType with {
    briefly "Type"
    described as {
      |Obligation type.
    }
  }
  description: String(3,1000) with {
    briefly "Description"
    described as {
      |Obligation description.
    }
  }
  responsibleParty: PartyId with {
    briefly "Responsible"
    described as {
      |Party responsible for fulfillment.
    }
  }
  dueDate: Date? with {
    briefly "Due date"
    described as {
      |Obligation due date.
    }
  }
  recurring: Boolean with {
    briefly "Recurring"
    described as {
      |Whether obligation recurs.
    }
  }
  frequencyDays: Natural? with {
    briefly "Frequency"
    described as {
      |Recurrence frequency in days.
    }
  }
  fulfilled: Boolean with {
    briefly "Fulfilled"
    described as {
      |Whether obligation is fulfilled.
    }
  }
} with {
  briefly "Obligation"
  described as {
    |A contractual obligation to track.
  }
}
type RenewalTerms is {
  autoRenew: Boolean with {
    briefly "Auto-renew"
    described as {
      |Whether contract auto-renews.
    }
  }
  renewalPeriodDays: Natural with {
    briefly "Renewal period"
    described as {
      |Renewal period in days.
    }
  }
  noticePeriodDays: Natural with {
    briefly "Notice period"
    described as {
      |Required notice period in days.
    }
  }
  renewalCount: Natural with {
    briefly "Renewal count"
    described as {
      |Number of times renewed.
    }
  }
  maxRenewals: Natural? with {
    briefly "Max renewals"
    described as {
      |Maximum allowed renewals.
    }
  }
} with {
  briefly "Renewal terms"
  described as {
    |Contract renewal terms and tracking.
  }
}
