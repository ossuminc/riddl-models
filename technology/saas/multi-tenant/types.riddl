// Multi-Tenant Management - Shared Types

type TenantId is Id(TenantContext.Tenant) with {
  briefly "Tenant identifier"
  described by "Unique identifier for a tenant."
}

type TenantUserId is UUID with {
  briefly "Tenant user identifier"
  described by "Reference to a user within a tenant."
}

type TenantStatus is any of {
  Provisioning,
  Active,
  Suspended,
  Deactivating,
  Deactivated
} with {
  briefly "Tenant status"
  described by "Tenant lifecycle status."
}

type TenantTier is any of {
  Free,
  Starter,
  Professional,
  Enterprise,
  Custom
} with {
  briefly "Tenant tier"
  described by "Service tier level."
}

type IsolationLevel is any of {
  SharedDatabase,
  SharedSchema,
  DedicatedSchema,
  DedicatedDatabase
} with {
  briefly "Isolation level"
  described by "Data isolation strategy."
}

type TenantInfo is {
  tenantName is String(1, 200) with {
    briefly "Name"
    described by "Tenant name."
  }
  subdomain is String(1, 63) with {
    briefly "Subdomain"
    described by "Tenant subdomain."
  }
  tier is TenantTier with {
    briefly "Tier"
    described by "Service tier."
  }
  isolationLevel is IsolationLevel with {
    briefly "Isolation"
    described by "Data isolation level."
  }
  primaryContact is String(1, 100) with {
    briefly "Contact"
    described by "Primary contact."
  }
  contactEmail is EmailAddress with {
    briefly "Email"
    described by "Contact email."
  }
} with {
  briefly "Tenant info"
  described by "Tenant organization details."
}

type TenantLimits is {
  maxUsers is Natural with {
    briefly "Max users"
    described by "Maximum users allowed."
  }
  maxStorage is Natural with {
    briefly "Max storage"
    described by "Max storage in GB."
  }
  maxApiCalls is Natural with {
    briefly "Max API"
    described by "Max API calls per month."
  }
  maxProjects is optional Natural with {
    briefly "Max projects"
    described by "Max projects allowed."
  }
  features is many String(1, 50) with {
    briefly "Features"
    described by "Enabled features."
  }
} with {
  briefly "Tenant limits"
  described by "Resource limits and quotas."
}

type TenantSettings is {
  timezone is String(1, 50) with {
    briefly "Timezone"
    described by "Default timezone."
  }
  locale is String(1, 10) with {
    briefly "Locale"
    described by "Default locale."
  }
  dateFormat is String(1, 20) with {
    briefly "Date format"
    described by "Date display format."
  }
  mfaRequired is Boolean with {
    briefly "MFA required"
    described by "Require MFA."
  }
  ssoEnabled is Boolean with {
    briefly "SSO enabled"
    described by "SSO integration enabled."
  }
  customBranding is Boolean with {
    briefly "Branding"
    described by "Custom branding enabled."
  }
} with {
  briefly "Tenant settings"
  described by "Tenant configuration settings."
}

type TenantUsage is {
  currentUsers is Natural with {
    briefly "Users"
    described by "Current user count."
  }
  storageUsed is Decimal(12, 2) with {
    briefly "Storage"
    described by "Storage used in GB."
  }
  apiCallsThisMonth is Natural with {
    briefly "API calls"
    described by "API calls this month."
  }
  lastActivityAt is TimeStamp with {
    briefly "Last activity"
    described by "Last activity time."
  }
} with {
  briefly "Tenant usage"
  described by "Resource usage metrics."
}

type TenantUserInfo is {
  userId is TenantUserId with {
    briefly "User"
    described by "User identifier."
  }
  email is EmailAddress with {
    briefly "Email"
    described by "User email."
  }
  role is String(1, 50) with {
    briefly "Role"
    described by "User role."
  }
  active is Boolean with {
    briefly "Active"
    described by "Is active."
  }
  lastLogin is optional TimeStamp with {
    briefly "Last login"
    described by "Last login time."
  }
} with {
  briefly "Tenant user info"
  described by "User within tenant."
}

type CustomDomain is {
  domain is String(1, 255) with {
    briefly "Domain"
    described by "Custom domain name."
  }
  verified is Boolean with {
    briefly "Verified"
    described by "Domain verified."
  }
  sslEnabled is Boolean with {
    briefly "SSL"
    described by "SSL enabled."
  }
  certExpiry is optional Date with {
    briefly "Cert expiry"
    described by "Certificate expiration."
  }
} with {
  briefly "Custom domain"
  described by "Custom domain configuration."
}
