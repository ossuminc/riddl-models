// Tenant Provisioning - Shared Types

type TenantId is Id(TenantContext.Tenant) with {
  briefly "Tenant identifier"
  described by "Unique identifier for a tenant."
}

type OrganizationId is UUID with {
  briefly "Organization identifier"
  described by "Reference to organization."
}

type UserId is UUID with {
  briefly "User identifier"
  described by "Reference to a user."
}

type ResourceId is UUID with {
  briefly "Resource identifier"
  described by "Reference to a provisioned resource."
}

type TenantStatus is any of {
  Pending,
  Provisioning,
  Active,
  Suspended,
  Decommissioning,
  Decommissioned
} with {
  briefly "Tenant status"
  described by "Current tenant lifecycle status."
}

type TenantTier is any of {
  Free,
  Starter,
  Professional,
  Enterprise,
  Custom
} with {
  briefly "Tenant tier"
  described by "Service tier level."
}

type ResourceType is any of {
  Database,
  Storage,
  Compute,
  Cache,
  Queue,
  Search,
  CDN
} with {
  briefly "Resource type"
  described by "Type of infrastructure resource."
}

type ResourceStatus is any of {
  Pending,
  Provisioning,
  Ready,
  Updating,
  Failed,
  Deleting
} with {
  briefly "Resource status"
  described by "Status of provisioned resource."
}

type OrganizationInfo is {
  organizationId is OrganizationId with {
    briefly "Organization"
    described by "Organization identifier."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Organization name."
  }
  domain is String(1, 253) with {
    briefly "Domain"
    described by "Organization domain."
  }
  industry is optional String(1, 100) with {
    briefly "Industry"
    described by "Industry sector."
  }
  size is optional String(1, 50) with {
    briefly "Size"
    described by "Organization size."
  }
} with {
  briefly "Organization info"
  described by "Organization details."
}

type AdminInfo is {
  userId is UserId with {
    briefly "User"
    described by "Admin user identifier."
  }
  email is String(5, 254) with {
    briefly "Email"
    described by "Admin email."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Admin name."
  }
} with {
  briefly "Admin info"
  described by "Tenant administrator details."
}

type TenantConfiguration is {
  tier is TenantTier with {
    briefly "Tier"
    described by "Service tier."
  }
  maxUsers is Natural with {
    briefly "Max users"
    described by "Maximum user count."
  }
  maxStorage is Natural with {
    briefly "Max storage"
    described by "Storage limit in GB."
  }
  features is many String(1, 100) with {
    briefly "Features"
    described by "Enabled features."
  }
  updatedCustomDomain is optional String(1, 253) with {
    briefly "Custom domain"
    described by "Custom domain if configured."
  }
  ssoEnabled is Boolean with {
    briefly "SSO enabled"
    described by "Single sign-on enabled."
  }
} with {
  briefly "Tenant configuration"
  described by "Tenant settings and limits."
}

type ProvisionedResource is {
  resourceId is ResourceId with {
    briefly "Resource"
    described by "Resource identifier."
  }
  resourceType is ResourceType with {
    briefly "Type"
    described by "Resource type."
  }
  name is String(1, 100) with {
    briefly "Name"
    described by "Resource name."
  }
  resourceStatus is ResourceStatus with {
    briefly "Status"
    described by "Resource status."
  }
  updatedEndpoint is optional String(1, 500) with {
    briefly "Endpoint"
    described by "Resource endpoint URL."
  }
  provisionedAt is TimeStamp with {
    briefly "Provisioned"
    described by "Provisioning time."
  }
} with {
  briefly "Provisioned resource"
  described by "Infrastructure resource details."
}

type ScalingPolicy is {
  minInstances is Natural with {
    briefly "Min instances"
    described by "Minimum instance count."
  }
  maxInstances is Natural with {
    briefly "Max instances"
    described by "Maximum instance count."
  }
  targetCpuPercent is Natural with {
    briefly "Target CPU"
    described by "Target CPU utilization percent."
  }
  scaleUpThreshold is Natural with {
    briefly "Scale up"
    described by "Scale up threshold."
  }
  scaleDownThreshold is Natural with {
    briefly "Scale down"
    described by "Scale down threshold."
  }
} with {
  briefly "Scaling policy"
  described by "Auto-scaling configuration."
}

type DecommissionReason is {
  reason is String(1, 200) with {
    briefly "Reason"
    described by "Decommission reason."
  }
  requestedBy is UserId with {
    briefly "Requested by"
    described by "User requesting decommission."
  }
  effectiveDate is Date with {
    briefly "Effective"
    described by "Decommission effective date."
  }
  dataRetentionDays is Natural with {
    briefly "Retention"
    described by "Data retention period in days."
  }
} with {
  briefly "Decommission reason"
  described by "Tenant decommission details."
}
