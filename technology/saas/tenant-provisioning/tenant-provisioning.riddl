// Tenant Provisioning Domain Model
// Multi-tenant SaaS account provisioning and lifecycle

domain TenantProvisioning is {

  author OssumInc is {
    name is "Ossum Inc."
    email is "support@ossum.ai"
  } with {
    briefly "Domain author"
    described by "Organization maintaining this domain model."
  }

  user TenantAdmin is "person managing tenant configuration" with {
    briefly "Tenant Admin"
    described by "Person administering a tenant."
  }

  user PlatformOperator is "person managing the SaaS platform" with {
    briefly "Platform Operator"
    described by "Person operating the platform."
  }

  user EndUser is "person using the tenant application" with {
    briefly "End User"
    described by "User within a tenant."
  }

  epic TenantEpic is {
    user TenantAdmin wants "to provision and configure their tenant"
      so that "their organization can use the platform"

    case ProvisionNewTenant is {
      user TenantAdmin wants "to create a new tenant account"
        so that "their organization is onboarded"
      step is "Admin submits" "tenant registration" "with organization details"
        with { briefly "Submit registration" described by "Start tenant provisioning." }
      step is "System validates" "organization details" "and domain"
        with { briefly "Validate details" described by "Check organization info." }
      step send command TenantContext.Tenant.CreateTenant from user TenantAdmin to entity TenantContext.Tenant
        with { briefly "Create tenant" described by "Provision the tenant." }
      step is "System provisions" "infrastructure resources" "for tenant"
        with { briefly "Provision resources" described by "Allocate infrastructure." }
    } with {
      briefly "New tenant provisioning"
      described by "Onboarding a new organization as a tenant."
    }
  } with {
    briefly "Tenant management"
    described by {
      | Epic covering tenant provisioning, configuration,
      | scaling, and lifecycle management.
    }
  }

  include "TenantContext.riddl"
  include "external-contexts.riddl"

} with {
  briefly "Tenant provisioning domain"
  described by {
    | The TenantProvisioning domain handles multi-tenant
    | SaaS account creation, configuration, and lifecycle.
  }
}
