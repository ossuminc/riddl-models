// Subscription Management Domain Model
// SaaS subscription lifecycle and billing
domain SubscriptionManagement is {
  author OssumInc is {
    name = "Ossum Inc."
    email = "support@ossuminc.com"
  } with {
    briefly "Domain author"
    described as {
      |Organization maintaining this domain model.
    }
  }
  user Customer is "person subscribing to services" with {
    briefly "Customer"
    described as {
      |Person with subscription.
    }
  }
  user BillingAdmin is "person managing subscriptions" with {
    briefly "Billing Admin"
    described as {
      |Person managing billing.
    }
  }
  user SalesRep is "person selling subscriptions" with {
    briefly "Sales Rep"
    described as {
      |Person handling sales.
    }
  }
  epic SubscriptionEpic is {
    user Customer wants to "to manage their subscription" so that "services match their needs"
    case CreateSubscriptionUseCase is {
      user Customer wants to "to subscribe to a plan" so that "they can use the service"
      step is "Customer selects" "subscription plan" "and options" with {
        briefly "Select plan"
        described as {
          |Choose plan.
        }
      }
      step is "System validates" "payment method" "and billing info" with {
        briefly "Validate payment"
        described as {
          |Check payment.
        }
      }
      step send command SubscriptionContext.Subscription.CreateSubscription from user Customer to entity SubscriptionContext.Subscription with {
        briefly "Create"
        described as {
          |Create subscription.
        }
      }
      step is "System provisions" "account access" "to customer" with {
        briefly "Provision"
        described as {
          |Grant access.
        }
      }
    } with {
      briefly "Subscription creation"
      described as {
        |Standard subscription workflow.
      }
    }
  } with {
    briefly "Subscription management"
    described as {
      | Epic covering subscription lifecycle from
      | creation through billing and cancellation.
    }
  }
  include "SubscriptionContext.riddl"
  include "external-contexts.riddl"
} with {
  briefly "Subscription management domain"
  described as {
    | The SubscriptionManagement domain handles SaaS
    | subscriptions, billing cycles, and plan changes.
  }
}
