// Incident Management Domain for DevOps
// A comprehensive system for managing service incidents from detection
// through resolution and post-mortem analysis.
domain IncidentManagement is {
  author OssumInc is {
    name = "Ossum Inc."
    email = "support@ossuminc.com"
    organization ="Ossum Inc."
  } with {
    briefly "Author of the Incident Management domain"
    described as {
      | Ossum Inc. provides enterprise software solutions for
      | reactive systems and domain-driven design.
    }
  }
  // Users
  user IncidentCommander is "Person who leads incident response" with {
    briefly "Leads incident response coordination"
    described as {
      | The Incident Commander is responsible for:
      | - Overall coordination of the incident response
      | - Making critical decisions during the incident
      | - Ensuring communication to stakeholders
      | - Delegating tasks to responders
      | - Driving the incident to resolution
      |
      | This role is typically held by a senior engineer or SRE who
      | has been trained in incident management best practices.
    }
  }
  user OnCallEngineer is "Engineer on rotation for incident response" with {
    briefly "First responder for incidents"
    described as {
      | The On-Call Engineer is the first responder who:
      | - Receives alerts and pages
      | - Acknowledges incidents
      | - Performs initial triage and assessment
      | - Escalates when necessary
      | - Implements fixes and mitigations
      |
      | On-call engineers rotate through a schedule and are responsible
      | for responding to incidents during their shift.
    }
  }
  user SREManager is "Manager overseeing site reliability" with {
    briefly "Oversees incident management program"
    described as {
      | The SRE Manager is responsible for:
      | - Reviewing incident metrics and trends
      | - Ensuring post-mortems are completed
      | - Improving incident response processes
      | - Managing on-call schedules and rotations
      | - Reporting on reliability to leadership
      |
      | This role focuses on the health of the incident management
      | program and continuous improvement of reliability.
    }
  }
  // Epic for incident response workflow
  epic IncidentResponseWorkflow is {
    user IncidentCommander wants to "coordinate incident response efficiently" so that "services are restored quickly with minimal customer impact"
    case HappyPath is {
      user IncidentCommander wants to "resolve an incident" so that "service is restored to normal operation"
      step is "Incident commander receives alert" "and reviews the notification" "to understand the issue"
      step is "Incident commander acknowledges" "the incident in the system" "to start response"
      step is "Commander assesses severity" "and identifies affected services" "for proper classification"
      step is "Commander creates channel" "for team communication" "via Slack integration"
      step is "Team coordinates investigation" "identifying root cause" "through systematic analysis"
      step is "Team implements mitigation" "to restore service" "with minimal customer impact"
      step is "Commander verifies restoration" "and confirms stability" "before resolution"
      step is "Commander resolves incident" "documenting summary" "for records"
      step is "Team completes post-mortem" "with lessons learned" "for improvement"
      step is "Commander closes incident" "after review" "to complete lifecycle"
    } with {
      briefly "Successful incident response flow"
      described as {
        | The standard path from incident detection through
        | resolution and post-mortem completion.
      }
    }
    case EscalationPath is {
      user OnCallEngineer wants to "escalate a severe incident" so that "appropriate resources are engaged"
      step is "Engineer receives alert" "and acknowledges notification" "to begin response"
      step is "Engineer performs triage" "and determines complexity" "requiring escalation"
      step is "Engineer escalates severity" "and pages commander" "for coordination"
      step is "Commander assumes command" "and takes over response" "with authority"
      step is "Commander pages responders" "with relevant expertise" "to assist"
      step is "Expanded team coordinates" "investigation and mitigation" "together"
    } with {
      briefly "Incident requiring escalation"
      described as {
        | Path when initial responder needs to escalate to
        | incident commander or increase severity level.
      }
    }
    case PostMortemReview is {
      user SREManager wants to "review incidents for improvement" so that "reliability continuously improves"
      step is "Manager reviews metrics" "including MTTR and frequency" "for analysis"
      step is "Manager reviews post-mortem" "examining root causes" "for patterns"
      step is "Manager identifies improvements" "based on findings" "for action"
      step is "Manager creates action items" "with owners and deadlines" "for tracking"
      step is "Manager tracks completion" "of improvement actions" "for accountability"
    } with {
      briefly "Post-incident review and improvement"
      described as {
        | Management review of incidents and post-mortems
        | to drive continuous improvement.
      }
    }
  } with {
    briefly "Epic covering incident response workflow"
    described as {
      | The Incident Response Workflow epic covers the full lifecycle
      | of responding to and learning from service incidents.
      |
      | Key outcomes:
      | - Rapid detection and acknowledgment
      | - Coordinated and effective response
      | - Clear communication to stakeholders
      | - Thorough post-mortem analysis
      | - Continuous improvement of reliability
    }
  }
  // Include the bounded context and external integrations
  include "IncidentContext.riddl"
  include "external-contexts.riddl"
} with {
  briefly "Domain for managing DevOps incidents"
  described as {
    | The Incident Management domain provides a comprehensive system for
    | handling service incidents in a DevOps environment. It supports the
    | full incident lifecycle:
    |
    | **Detection and Triage**
    | - Integration with alerting systems
    | - Severity classification
    | - On-call notification
    |
    | **Response and Coordination**
    | - Incident commander assignment
    | - Communication channel management
    | - Timeline tracking
    | - Escalation workflows
    |
    | **Resolution and Learning**
    | - Status tracking through resolution
    | - Blameless post-mortem documentation
    | - Action item tracking
    |
    | **Metrics and Improvement**
    | - MTTR, MTTA, MTTM calculations
    | - Trend analysis
    | - Service reliability tracking
    |
    | This domain follows SRE best practices for incident management,
    | emphasizing rapid response, clear communication, and continuous
    | improvement through blameless post-mortems.
  }
}
