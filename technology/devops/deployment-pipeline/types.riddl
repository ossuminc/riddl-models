// Types for Deployment Pipeline Domain

type DeploymentId is Id(DeploymentPipeline.DeploymentContext.Deployment) with {
  briefly "Unique identifier for a deployment"
  described by "A unique identifier that tracks a specific deployment instance."
}

type EnvironmentId is Id(DeploymentPipeline.DeploymentContext.Environment) with {
  briefly "Unique identifier for a deployment environment"
  described by "Identifies a specific deployment target environment."
}

type ArtifactId is String(1, 200) with {
  briefly "Unique identifier for a deployable artifact"
  described by {
    | Identifies a specific version of a deployable artifact, typically
    | including the artifact name and version number or commit hash.
  }
}

type DeploymentStatus is any of {
  Pending with {
    briefly "Pending deployment"
    described by "Deployment has been created but not yet processed."
  },
  AwaitingApproval with {
    briefly "Awaiting approval"
    described by "Deployment requires manual approval before execution."
  },
  Approved with {
    briefly "Approved deployment"
    described by "Deployment has been approved and is ready for execution."
  },
  InProgress with {
    briefly "In progress"
    described by "Deployment is currently being executed."
  },
  Verifying with {
    briefly "Verifying deployment"
    described by "Deployment is undergoing verification checks."
  },
  Completed with {
    briefly "Completed deployment"
    described by "Deployment has completed successfully."
  },
  Failed with {
    briefly "Failed deployment"
    described by "Deployment encountered an error during execution."
  },
  RolledBack with {
    briefly "Rolled back deployment"
    described by "Deployment was rolled back to the previous version."
  }
} with {
  briefly "Current status of a deployment"
  described by {
    | Represents the various states a deployment can be in during its
    | lifecycle, from initial request through completion or rollback.
  }
}

type DeploymentStrategy is any of {
  RollingUpdate with {
    briefly "Rolling update"
    described by "Gradually replace instances one at a time."
  },
  BlueGreen with {
    briefly "Blue-green deployment"
    described by "Switch between two identical environments."
  },
  Canary with {
    briefly "Canary deployment"
    described by "Route small percentage to new version first."
  },
  Recreate with {
    briefly "Recreate deployment"
    described by "Stop old version, then start new version."
  }
} with {
  briefly "Strategy for executing deployments"
  described by {
    | Defines how the deployment should be executed, affecting
    | availability during the deployment process.
  }
}

type EnvironmentType is any of {
  Development with {
    briefly "Development environment"
    described by "Environment for active development and testing."
  },
  Testing with {
    briefly "Testing environment"
    described by "Environment for QA and integration testing."
  },
  Staging with {
    briefly "Staging environment"
    described by "Pre-production environment for final validation."
  },
  Production with {
    briefly "Production environment"
    described by "Live production environment serving end users."
  }
} with {
  briefly "Classification of deployment environments"
  described by {
    | Categorizes environments by their purpose in the deployment
    | pipeline, affecting approval requirements and deployment policies.
  }
}
