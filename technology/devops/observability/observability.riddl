// Observability Domain Model
// Monitoring, logging, tracing, and alerting
domain Observability is {
  author OssumInc is {
    name = "Ossum Inc."
    email = "support@ossuminc.com"
  } with {
    briefly "Domain author"
    described as {
      |Organization maintaining this domain model.
    }
  }
  user SREEngineer is "person managing system reliability" with {
    briefly "SRE Engineer"
    described as {
      |Person ensuring system reliability.
    }
  }
  user Developer is "person debugging applications" with {
    briefly "Developer"
    described as {
      |Person investigating issues.
    }
  }
  user OnCallEngineer is "person responding to alerts" with {
    briefly "On-Call Engineer"
    described as {
      |Person handling incidents.
    }
  }
  epic ObservabilityEpic is {
    user SREEngineer wants to "to monitor system health" so that "issues are detected and resolved quickly"
    case InvestigateIncident is {
      user OnCallEngineer wants to "to investigate an alert" so that "the root cause is identified"
      step is "Engineer receives" "alert notification" "for anomaly" with {
        briefly "Receive alert"
        described as {
          |Get alert notification.
        }
      }
      step is "Engineer queries" "metrics and logs" "for context" with {
        briefly "Query data"
        described as {
          |Gather observability data.
        }
      }
      step send command AlertContext.Alert.AcknowledgeAlert from user OnCallEngineer to entity AlertContext.Alert with {
        briefly "Acknowledge alert"
        described as {
          |Claim the alert.
        }
      }
      step is "Engineer traces" "request flow" "to identify issue" with {
        briefly "Trace request"
        described as {
          |Follow distributed trace.
        }
      }
    } with {
      briefly "Incident investigation"
      described as {
        |Investigating and resolving alerts.
      }
    }
  } with {
    briefly "Observability management"
    described as {
      | Epic covering monitoring, alerting,
      | and incident investigation workflows.
    }
  }
  include "AlertContext.riddl"
  include "external-contexts.riddl"
} with {
  briefly "Observability domain"
  described as {
    | The Observability domain handles monitoring,
    | logging, tracing, and alerting for systems.
  }
}
