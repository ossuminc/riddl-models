// CI/CD Pipeline Domain Model
// Continuous integration and deployment automation

domain CICDPipeline is {

  author OssumInc is {
    name is "Ossum Inc."
    email is "support@ossuminc.com"
  } with {
    briefly "Domain author"
    described by "Organization maintaining this domain model."
  }

  user Developer is "person committing code changes" with {
    briefly "Developer"
    described by "Person writing and committing code."
  }

  user DevOpsEngineer is "person managing pipelines" with {
    briefly "DevOps Engineer"
    described by "Person configuring and maintaining pipelines."
  }

  user ReleaseManager is "person approving deployments" with {
    briefly "Release Manager"
    described by "Person authorizing production releases."
  }

  epic PipelineEpic is {
    user Developer wants "to deploy code changes reliably"
      so that "features reach users quickly and safely"

    case TriggerBuild is {
      user Developer wants "to trigger a build from code commit"
        so that "changes are validated automatically"
      step is "Developer pushes" "code commit" "to repository"
        with { briefly "Push commit" described by "Commit code changes." }
      step is "System detects" "commit webhook" "and starts pipeline"
        with { briefly "Detect webhook" described by "Trigger pipeline." }
      step send command PipelineContext.Pipeline.StartPipeline from user Developer to entity PipelineContext.Pipeline
        with { briefly "Start pipeline" described by "Begin pipeline execution." }
      step is "System reports" "build status" "to developer"
        with { briefly "Report status" described by "Notify build result." }
    } with {
      briefly "Build triggering"
      described by "Automated build from code commit."
    }
  } with {
    briefly "Pipeline management"
    described by {
      | Epic covering CI/CD pipeline execution,
      | build automation, and deployment workflows.
    }
  }

  include "PipelineContext.riddl"
  include "external-contexts.riddl"

} with {
  briefly "CI/CD pipeline domain"
  described by {
    | The CICDPipeline domain handles continuous integration
    | and deployment automation for software delivery.
  }
}
