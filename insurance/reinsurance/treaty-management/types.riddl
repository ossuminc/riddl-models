// Treaty Management Types
// Shared type definitions for the treaty management domain
type TreatyId is Id(TreatyManagement.TreatyContext.Treaty)  with {
  briefly "Unique identifier for a reinsurance treaty"
}
type CessionId is UUID with {
  briefly "Unique identifier for a cession under a treaty"
}
type BordereauId is UUID with {
  briefly "Unique identifier for a bordereau submission"
}
type TreatyStatus is any of {
  Draft,
  Negotiating,
  PendingApproval,
  Executed,
  Active,
  Suspended,
  Expired,
  Terminated,
  Renewed
} with {
  briefly "Current status of a reinsurance treaty"
  described as {
    | Represents the lifecycle state of a treaty from initial
    | draft through negotiation, execution, active management,
    | and eventual expiration or renewal.
  }
}
type TreatyType is any of {
  QuotaShare,
  Surplus,
  ExcessOfLoss,
  StopLoss,
  CatastropheXL,
  AggregateXL
} with {
  briefly "Classification of treaty structure"
  described as {
    | Defines the type of reinsurance arrangement. Proportional
    | treaties (quota share, surplus) share premiums and losses
    | in fixed proportions. Non-proportional treaties (excess of
    | loss variants) trigger when losses exceed thresholds.
  }
}
type CurrencyCode is Pattern("^[A-Z]{3}$") with {
  briefly "ISO 4217 currency code"
}
type Percentage is Decimal(5,4) with {
  briefly "Decimal percentage value"
}
type MonetaryAmount is {
  amount: Decimal(15,2) with {
    briefly "Amount"
    described as {
      |The numeric value.
    }
  }
  currency: CurrencyCode with {
    briefly "Currency"
    described as {
      |ISO currency code.
    }
  }
} with {
  briefly "Amount of money with currency"
  described as {
    |Represents a monetary value with its associated currency.
  }
}
type DateRange is {
  effectiveDate: Date with {
    briefly "Start date"
    described as {
      |Coverage start.
    }
  }
  expirationDate: Date with {
    briefly "End date"
    described as {
      |Coverage end.
    }
  }
} with {
  briefly "Period of treaty coverage"
  described as {
    |Defines the start and end dates of treaty coverage.
  }
}
type TreatyTerms is {
  treatyType: TreatyType with {
    briefly "Type"
    described as {
      |Treaty structure type.
    }
  }
  coveragePeriod: DateRange with {
    briefly "Period"
    described as {
      |Coverage dates.
    }
  }
  cessionPercentage: Percentage? with {
    briefly "Cession pct"
    described as {
      |Proportional cession rate.
    }
  }
  retentionLimit: MonetaryAmount? with {
    briefly "Retention"
    described as {
      |Retention amount.
    }
  }
  occurrenceLimit: MonetaryAmount? with {
    briefly "Occurrence limit"
    described as {
      |Per occurrence cap.
    }
  }
  aggregateLimit: MonetaryAmount? with {
    briefly "Aggregate limit"
    described as {
      |Annual aggregate cap.
    }
  }
  rate: Percentage with {
    briefly "Rate"
    described as {
      |Premium rate.
    }
  }
  minimumPremium: MonetaryAmount? with {
    briefly "Minimum premium"
    described as {
      |Minimum premium due.
    }
  }
  depositPremium: MonetaryAmount? with {
    briefly "Deposit"
    described as {
      |Initial deposit amount.
    }
  }
  reinstatementProvisions: String(1,1000)? with {
    briefly "Reinstatement"
    described as {
      |Reinstatement terms.
    }
  }
  territoryScope: String(1,100)+ with {
    briefly "Territory"
    described as {
      |Geographic coverage.
    }
  }
  classesOfBusiness: String(1,100)+ with {
    briefly "Classes"
    described as {
      |Covered business classes.
    }
  }
} with {
  briefly "Contractual terms of a reinsurance treaty"
  described as {
    | Contains all the key terms negotiated for a treaty including
    | coverage limits, rates, retention levels, and scope of coverage.
  }
}
type CessionInfo is {
  cessionId: CessionId with {
    briefly "ID"
    described as {
      |Cession identifier.
    }
  }
  policyReference: String(1,100) with {
    briefly "Policy ref"
    described as {
      |Underlying policy reference.
    }
  }
  riskDescription: String(1,500) with {
    briefly "Risk"
    described as {
      |Description of ceded risk.
    }
  }
  cededAmount: MonetaryAmount with {
    briefly "Ceded amount"
    described as {
      |Amount of coverage ceded.
    }
  }
  cededPremium: MonetaryAmount with {
    briefly "Ceded premium"
    described as {
      |Premium for ceded risk.
    }
  }
  effectiveDate: Date with {
    briefly "Effective"
    described as {
      |Cession effective date.
    }
  }
  expirationDate: Date with {
    briefly "Expiration"
    described as {
      |Cession expiration date.
    }
  }
  underlyingLimit: MonetaryAmount with {
    briefly "Underlying limit"
    described as {
      |Original policy limit.
    }
  }
  locationCode: String(1,50)? with {
    briefly "Location"
    described as {
      |Risk location code.
    }
  }
} with {
  briefly "Information about a ceded risk"
  described as {
    | Details of an individual risk cession under a treaty.
    | For proportional treaties, this represents the reinsurer's
    | share of specific policies.
  }
}
type BordereauType is any of {
  Premium,
  Claims,
  Combined
} with {
  briefly "Type of bordereau report"
  described as {
    |Classifies the bordereau content type.
  }
}
type ClaimStatus is any of {
  Open,
  Reserved,
  PartiallyPaid,
  FullyPaid,
  Closed,
  Reopened
} with {
  briefly "Status of a claim in the bordereau"
  described as {
    |Indicates the current state of claim processing.
  }
}
type BordereauRecord is {
  recordId: String(1,50) with {
    briefly "Record ID"
    described as {
      |Unique record identifier.
    }
  }
  policyReference: String(1,100) with {
    briefly "Policy ref"
    described as {
      |Policy reference number.
    }
  }
  insuredName: String(1,200) with {
    briefly "Insured"
    described as {
      |Name of the insured.
    }
  }
  riskLocation: String(1,200)? with {
    briefly "Location"
    described as {
      |Risk location.
    }
  }
  inceptionDate: Date with {
    briefly "Inception"
    described as {
      |Policy inception date.
    }
  }
  expiryDate: Date with {
    briefly "Expiry"
    described as {
      |Policy expiry date.
    }
  }
  recordGrossPremium: MonetaryAmount? with {
    briefly "Gross premium"
    described as {
      |Gross premium amount.
    }
  }
  recordCededPremium: MonetaryAmount? with {
    briefly "Ceded premium"
    described as {
      |Ceded premium amount.
    }
  }
  claimReference: String(1,100)? with {
    briefly "Claim ref"
    described as {
      |Claim reference number.
    }
  }
  claimStatus: ClaimStatus? with {
    briefly "Claim status"
    described as {
      |Current claim status.
    }
  }
  incurredAmount: MonetaryAmount? with {
    briefly "Incurred"
    described as {
      |Total incurred amount.
    }
  }
  paidAmount: MonetaryAmount? with {
    briefly "Paid"
    described as {
      |Amount paid to date.
    }
  }
  reserveAmount: MonetaryAmount? with {
    briefly "Reserve"
    described as {
      |Outstanding reserve amount.
    }
  }
  recordLossDate: Date? with {
    briefly "Loss date"
    described as {
      |Date of loss occurrence.
    }
  }
  reportDate: Date? with {
    briefly "Report date"
    described as {
      |Date loss was reported.
    }
  }
} with {
  briefly "Individual record in a bordereau submission"
  described as {
    | Contains detailed information about a single policy or claim
    | in the bordereau.
  }
}
type BordereauSubmission is {
  bordereauxId: BordereauId with {
    briefly "ID"
    described as {
      |Bordereau identifier.
    }
  }
  submissionDate: Date with {
    briefly "Submitted"
    described as {
      |Submission date.
    }
  }
  periodStart: Date with {
    briefly "Period start"
    described as {
      |Reporting period start.
    }
  }
  periodEnd: Date with {
    briefly "Period end"
    described as {
      |Reporting period end.
    }
  }
  bordereauxType: BordereauType with {
    briefly "Type"
    described as {
      |Bordereau type.
    }
  }
  records: BordereauRecord+ with {
    briefly "Records"
    described as {
      |Detail records.
    }
  }
  bordereauxTotalCededPremium: MonetaryAmount? with {
    briefly "Total premium"
    described as {
      |Sum of ceded premiums.
    }
  }
  totalIncurred: MonetaryAmount? with {
    briefly "Total incurred"
    described as {
      |Sum of incurred amounts.
    }
  }
  totalPaid: MonetaryAmount? with {
    briefly "Total paid"
    described as {
      |Sum of paid amounts.
    }
  }
} with {
  briefly "Complete bordereau submission from ceding company"
  described as {
    | Represents a complete bordereau report submitted by the
    | ceding company for a reporting period.
  }
}
type CommissionType is any of {
  Flat,
  Sliding,
  Contingent,
  OverridingCommission
} with {
  briefly "Type of commission arrangement"
  described as {
    |Defines how commission is calculated.
  }
}
type SlidingScaleStep is {
  lossRatioFloor: Percentage with {
    briefly "Floor"
    described as {
      |Lower bound of loss ratio band.
    }
  }
  lossRatioCeiling: Percentage with {
    briefly "Ceiling"
    described as {
      |Upper bound of loss ratio band.
    }
  }
  commissionRate: Percentage with {
    briefly "Rate"
    described as {
      |Commission rate for this band.
    }
  }
} with {
  briefly "Commission rate for a loss ratio band"
  described as {
    |Defines commission rate for a loss ratio range.
  }
}
type CommissionInfo is {
  commissionType: CommissionType with {
    briefly "Type"
    described as {
      |Commission calculation method.
    }
  }
  baseRate: Percentage with {
    briefly "Base rate"
    described as {
      |Base commission percentage.
    }
  }
  slidingScale: SlidingScaleStep+ with {
    briefly "Scale"
    described as {
      |Sliding scale steps.
    }
  }
  profitCommissionRate: Percentage? with {
    briefly "Profit comm"
    described as {
      |Profit commission rate.
    }
  }
  minimumCommission: Percentage? with {
    briefly "Minimum"
    described as {
      |Minimum commission rate.
    }
  }
  maximumCommission: Percentage? with {
    briefly "Maximum"
    described as {
      |Maximum commission rate.
    }
  }
  provisionalCommission: Percentage? with {
    briefly "Provisional"
    described as {
      |Provisional commission rate.
    }
  }
} with {
  briefly "Commission structure for the treaty"
  described as {
    | Defines the complete commission arrangement including
    | base rates, sliding scale provisions, and profit commission.
  }
}
type PaymentDirection is any of {
  DueToCedent,
  DueToReinsurer
} with {
  briefly "Direction of net settlement payment"
  described as {
    |Indicates which party owes the net settlement amount.
  }
}
type SettlementInfo is {
  settlementDate: Date with {
    briefly "Date"
    described as {
      |Settlement calculation date.
    }
  }
  periodStart: Date with {
    briefly "Start"
    described as {
      |Settlement period start.
    }
  }
  periodEnd: Date with {
    briefly "End"
    described as {
      |Settlement period end.
    }
  }
  grossPremium: MonetaryAmount with {
    briefly "Gross premium"
    described as {
      |Total gross premium.
    }
  }
  cededPremium: MonetaryAmount with {
    briefly "Ceded premium"
    described as {
      |Ceded premium amount.
    }
  }
  commissionAmount: MonetaryAmount with {
    briefly "Commission"
    described as {
      |Commission amount.
    }
  }
  paidLosses: MonetaryAmount with {
    briefly "Paid losses"
    described as {
      |Losses paid.
    }
  }
  outstandingReserves: MonetaryAmount with {
    briefly "Reserves"
    described as {
      |Outstanding reserves.
    }
  }
  netBalance: MonetaryAmount with {
    briefly "Net balance"
    described as {
      |Net settlement amount.
    }
  }
  paymentDirection: PaymentDirection with {
    briefly "Direction"
    described as {
      |Who pays whom.
    }
  }
} with {
  briefly "Settlement calculation for a period"
  described as {
    | Contains the calculated settlement amounts for a reporting
    | period, showing premiums, commissions, losses, and net balance.
  }
}
type RenewalType is any of {
  AsExpiring,
  Modified,
  Restructured
} with {
  briefly "Type of renewal arrangement"
  described as {
    |Defines whether treaty renews on same or modified terms.
  }
}
type RenewalTerms is {
  renewalType: RenewalType with {
    briefly "Type"
    described as {
      |Renewal type.
    }
  }
  proposedChanges: String(1,2000)? with {
    briefly "Changes"
    described as {
      |Proposed modifications.
    }
  }
  rateAdjustment: Percentage? with {
    briefly "Rate adj"
    described as {
      |Rate adjustment percentage.
    }
  }
  termAdjustments: String(1,500)+ with {
    briefly "Term adj"
    described as {
      |Term modifications.
    }
  }
} with {
  briefly "Terms for treaty renewal"
  described as {
    | Specifies the type of renewal and any proposed changes
    | to terms, rates, or conditions for the renewal period.
  }
}
