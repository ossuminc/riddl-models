// Treaty Management Domain
// Reinsurance treaty lifecycle from negotiation through settlement
// // This domain model handles reinsurance treaties including negotiation,
// execution, cession recording, bordereau processing, and settlements.
domain TreatyManagement is {
  author OssumInc is {
    name = "Ossum Inc."
    email = "support@ossuminc.com"
    organization ="Ossum Inc."
  } with {
    briefly "Model author and maintainer"
    described as {
      | Ossum Inc. develops domain-driven design models for the
      | insurance and reinsurance industry using the RIDDL language.
    }
  }
  user TreatyUnderwriter is "Underwriter who negotiates and manages reinsurance treaties" with {
    briefly "Treaty underwriting professional"
    described as {
      | A treaty underwriter is responsible for analyzing risk portfolios,
      | negotiating terms with reinsurers, and managing the overall treaty
      | relationship throughout its lifecycle.
    }
  }
  user CedingCompany is "Primary insurer ceding risk to reinsurers" with {
    briefly "Cedent organization"
    described as {
      | The ceding company (or cedent) is the primary insurance company
      | that transfers a portion of its risk portfolio to reinsurers
      | through treaty arrangements. They submit bordereaux and manage
      | cession reporting.
    }
  }
  user Reinsurer is "Company accepting ceded risk from primary insurers" with {
    briefly "Reinsurance provider"
    described as {
      | The reinsurer assumes risk from ceding companies in exchange for
      | premium. They participate in treaty negotiations, review bordereaux,
      | and process settlements according to treaty terms.
    }
  }
  include "types.riddl"
  include "external-contexts.riddl"
  include "TreatyContext.riddl"
  epic TreatyLifecycle is {
    user TreatyUnderwriter wants to "manage the complete lifecycle of reinsurance treaties" so that "risk is properly transferred and settlements are accurate"
    case NegotiateNewTreaty is {
      user TreatyUnderwriter wants to "negotiate terms with reinsurers" so that "optimal coverage and pricing is achieved"
      step is "Underwriter prepares" "treaty proposal" "with terms and rates"
      step is "Proposal submitted" "to reinsurers" "for review"
      step is "Reinsurer reviews" "and responds with" "acceptance or counter"
    } with {
      briefly "Negotiate a new reinsurance treaty"
      described as {
        | This use case covers the initial negotiation phase where
        | underwriters work with reinsurers to establish treaty terms
        | including layers, rates, commissions, and coverage scope.
      }
    }
    case ManageCessions is {
      user CedingCompany wants to "record and track cessions under treaties" so that "risk transfer is properly documented"
      step is "Cedent identifies" "risks to cede" "under treaty"
      step is "Cession data" "submitted to system" "for recording"
      step is "System validates" "against treaty terms" "and capacity"
    } with {
      briefly "Manage risk cessions under active treaties"
      described as {
        | Cessions represent individual risk transfers under a treaty.
        | This case tracks the recording and validation of cessions
        | against treaty capacity and terms.
      }
    }
    case ProcessBordereaux is {
      user CedingCompany wants to "submit bordereau reports" so that "premiums and losses are properly allocated"
      step is "Cedent compiles" "bordereau data" "for reporting period"
      step is "Bordereau submitted" "to treaty system" "for processing"
      step is "System calculates" "settlement amounts" "for payment"
    } with {
      briefly "Process bordereau submissions and settlements"
      described as {
        | Bordereaux are detailed reports of premiums and claims
        | submitted by ceding companies. This case handles validation,
        | commission calculation, and settlement processing.
      }
    }
    case RenewExpiringTreaty is {
      user TreatyUnderwriter wants to "renew expiring treaties" so that "coverage continuity is maintained"
      step is "System identifies" "expiring treaties" "for renewal review"
      step is "Underwriter reviews" "performance and" "proposes renewal terms"
      step is "Renewal negotiated" "and executed" "for new period"
    } with {
      briefly "Renew expiring reinsurance treaties"
      described as {
        | Treaty renewal involves reviewing performance, negotiating
        | updated terms, and establishing continuity of coverage
        | for the next treaty period.
      }
    }
  } with {
    briefly "Manage the complete reinsurance treaty lifecycle"
    described as {
      | The treaty lifecycle encompasses negotiation, execution,
      | ongoing management including cessions and bordereaux,
      | settlements, and eventual renewal or termination.
    }
  }
} with {
  briefly "Reinsurance treaty management domain"
  described as {
    | The Treaty Management domain handles all aspects of reinsurance
    | treaty operations including negotiation, execution, cession
    | management, bordereau processing, settlement calculations,
    | and treaty renewal. It supports both proportional (quota share,
    | surplus) and non-proportional (excess of loss, stop loss)
    | treaty structures.
  }
}
