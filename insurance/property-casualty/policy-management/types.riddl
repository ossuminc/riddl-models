// Policy Management - Shared Types

type PolicyId is Id(PolicyContext.Policy) with {
  briefly "Policy identifier"
  described by "Unique identifier for a policy."
}

type PolicyholderId is UUID with {
  briefly "Policyholder identifier"
  described by "Reference to a policyholder."
}

type QuoteId is UUID with {
  briefly "Quote identifier"
  described by "Reference to a quote."
}

type EndorsementId is UUID with {
  briefly "Endorsement identifier"
  described by "Reference to an endorsement."
}

type ClaimId is UUID with {
  briefly "Claim identifier"
  described by "Reference to a claim."
}

type PolicyStatus is any of {
  Quoted,
  Bound,
  Active,
  Suspended,
  Cancelled,
  Expired,
  NonRenewed
} with {
  briefly "Policy status"
  described by "Current policy status."
}

type PolicyType is any of {
  Homeowners,
  Auto,
  Commercial,
  Umbrella,
  Renters,
  Flood
} with {
  briefly "Policy type"
  described by "Type of insurance policy."
}

type PaymentFrequency is any of {
  Annual,
  SemiAnnual,
  Quarterly,
  Monthly
} with {
  briefly "Payment frequency"
  described by "Premium payment frequency."
}

type CancellationReason is any of {
  Nonpayment,
  Underwriting,
  PolicyholderRequest,
  Fraud,
  RiskChange
} with {
  briefly "Cancellation reason"
  described by "Reason for cancellation."
}

type PolicyholderInfo is {
  policyholderId is PolicyholderId with {
    briefly "Policyholder"
    described by "Policyholder identifier."
  }
  firstName is String(1, 100) with {
    briefly "First name"
    described by "First name."
  }
  lastName is String(1, 100) with {
    briefly "Last name"
    described by "Last name."
  }
  email is String(5, 254) with {
    briefly "Email"
    described by "Email address."
  }
  phone is String(7, 20) with {
    briefly "Phone"
    described by "Phone number."
  }
  address is AddressInfo with {
    briefly "Address"
    described by "Mailing address."
  }
  dateOfBirth is Date with {
    briefly "DOB"
    described by "Date of birth."
  }
} with {
  briefly "Policyholder info"
  described by "Policyholder information."
}

type AddressInfo is {
  street is String(1, 200) with {
    briefly "Street"
    described by "Street address."
  }
  city is String(1, 100) with {
    briefly "City"
    described by "City."
  }
  state is String(2, 2) with {
    briefly "State"
    described by "State code."
  }
  zipCode is String(5, 10) with {
    briefly "ZIP"
    described by "ZIP code."
  }
  country is String(2, 2) with {
    briefly "Country"
    described by "Country code."
  }
} with {
  briefly "Address info"
  described by "Physical address."
}

type CoverageInfo is {
  coverageType is String(1, 100) with {
    briefly "Type"
    described by "Coverage type."
  }
  limit is Decimal(15, 2) with {
    briefly "Limit"
    described by "Coverage limit."
  }
  deductible is Decimal(10, 2) with {
    briefly "Deductible"
    described by "Deductible amount."
  }
  premium is Decimal(10, 2) with {
    briefly "Premium"
    described by "Coverage premium."
  }
} with {
  briefly "Coverage info"
  described by "Insurance coverage details."
}

type InsuredProperty is {
  propertyType is String(1, 50) with {
    briefly "Type"
    described by "Property type."
  }
  address is AddressInfo with {
    briefly "Address"
    described by "Property address."
  }
  value is Decimal(15, 2) with {
    briefly "Value"
    described by "Property value."
  }
  yearBuilt is Natural with {
    briefly "Year built"
    described by "Construction year."
  }
  squareFeet is Natural with {
    briefly "Square feet"
    described by "Property size."
  }
  features is many optional String(1, 100) with {
    briefly "Features"
    described by "Property features."
  }
} with {
  briefly "Insured property"
  described by "Property being insured."
}

type PremiumInfo is {
  basePremium is Decimal(10, 2) with {
    briefly "Base"
    described by "Base premium."
  }
  discounts is many optional Decimal(10, 2) with {
    briefly "Discounts"
    described by "Applied discounts."
  }
  fees is Decimal(10, 2) with {
    briefly "Fees"
    described by "Policy fees."
  }
  taxes is Decimal(10, 2) with {
    briefly "Taxes"
    described by "Premium taxes."
  }
  totalPremium is Decimal(10, 2) with {
    briefly "Total"
    described by "Total premium."
  }
  currency is String(3, 3) with {
    briefly "Currency"
    described by "Currency code."
  }
} with {
  briefly "Premium info"
  described by "Premium calculation details."
}

type PolicyPeriod is {
  effectiveDate is Date with {
    briefly "Effective"
    described by "Coverage start date."
  }
  expirationDate is Date with {
    briefly "Expiration"
    described by "Coverage end date."
  }
  term is Natural with {
    briefly "Term"
    described by "Policy term in months."
  }
} with {
  briefly "Policy period"
  described by "Coverage period."
}

type EndorsementInfo is {
  endorsementId is EndorsementId with {
    briefly "Endorsement"
    described by "Endorsement identifier."
  }
  effectiveDate is Date with {
    briefly "Effective"
    described by "Endorsement effective date."
  }
  description is String(1, 500) with {
    briefly "Description"
    described by "Change description."
  }
  premiumChange is Decimal(10, 2) with {
    briefly "Premium change"
    described by "Premium adjustment."
  }
  coverageChanges is many CoverageInfo with {
    briefly "Coverage changes"
    described by "Modified coverages."
  }
} with {
  briefly "Endorsement info"
  described by "Policy endorsement details."
}

type RenewalInfo is {
  renewalPremium is PremiumInfo with {
    briefly "Premium"
    described by "Renewal premium."
  }
  renewalPeriod is PolicyPeriod with {
    briefly "Period"
    described by "Renewal period."
  }
  coverageChanges is many optional CoverageInfo with {
    briefly "Changes"
    described by "Coverage changes."
  }
  offerExpiresAt is Date with {
    briefly "Expires"
    described by "Offer expiration."
  }
} with {
  briefly "Renewal info"
  described by "Policy renewal details."
}

type CancellationInfo is {
  reason is CancellationReason with {
    briefly "Reason"
    described by "Cancellation reason."
  }
  effectiveDate is Date with {
    briefly "Effective"
    described by "Cancellation effective date."
  }
  refundAmount is Decimal(10, 2) with {
    briefly "Refund"
    described by "Premium refund amount."
  }
  requestedBy is String(1, 200) with {
    briefly "Requested by"
    described by "Person requesting cancellation."
  }
} with {
  briefly "Cancellation info"
  described by "Policy cancellation details."
}
