// Policy Administration Domain Model
// Property-casualty insurance policy lifecycle management

domain PolicyAdministration is {

  author OssumInc is {
    name is "Ossum Inc."
    email is "support@ossuminc.com"
  } with {
    briefly "Domain author"
    described by "Organization maintaining this domain model."
  }

  user Underwriter is "Insurance professional who evaluates risk and determines policy terms" with {
    briefly "Evaluates risk and approves policies"
    described by {
      | An underwriter reviews applications, assesses risk factors,
      | determines appropriate premiums, and decides whether to accept,
      | modify, or decline insurance coverage requests.
    }
  }

  user PolicyService is "Customer service representative handling policy inquiries" with {
    briefly "Handles policy service requests"
    described by {
      | A policy service representative assists policyholders with
      | questions, processes endorsements, handles billing inquiries,
      | and manages policy changes throughout the policy lifecycle.
    }
  }

  user InsuredParty is "The policyholder or named insured on the policy" with {
    briefly "The customer holding insurance coverage"
    described by {
      | The insured party is the individual or organization that
      | purchases insurance coverage and is named on the policy.
      | They are entitled to coverage benefits and responsible for
      | premium payments.
    }
  }

  epic PolicyServicing is {
    user Underwriter wants "to issue and manage property-casualty policies"
      so that "insureds receive appropriate coverage and premiums are collected"

    case IssueNewPolicy is {
      user Underwriter wants "to create a new policy after underwriting approval"
        so that "the insured has active coverage"
      step is "Underwriter submits" "approved application with rating details" "to system"
        with { briefly "Submit application" described by "Submit approved application." }
      step send command PolicyContext.Policy.IssuePolicy from user Underwriter to entity PolicyContext.Policy
        with { briefly "Issue policy" described by "Create policy record." }
      step is "System creates" "policy with initial coverage terms" "and documents"
        with { briefly "Create terms" described by "Generate policy terms." }
    } with {
      briefly "Issue a new policy after underwriting"
      described by {
        | This use case covers the issuance of a new property-casualty
        | policy after the underwriting process has approved the risk.
      }
    }

    case ProcessEndorsement is {
      user PolicyService wants "to add an endorsement to an existing policy"
        so that "coverage is modified per the insured's request"
      step is "Service rep receives" "endorsement request" "from insured"
        with { briefly "Receive request" described by "Receive endorsement request." }
      step send command PolicyContext.Policy.AddEndorsement from user PolicyService to entity PolicyContext.Policy
        with { briefly "Add endorsement" described by "Apply policy change." }
      step is "System calculates" "premium adjustment" "and updates terms"
        with { briefly "Calculate premium" described by "Compute premium change." }
    } with {
      briefly "Add endorsement to modify coverage"
      described by {
        | This use case handles mid-term policy changes through
        | endorsements that modify coverage, limits, or deductibles.
      }
    }

    case RenewPolicy is {
      user PolicyService wants "to process policy renewal"
        so that "coverage continues without lapse"
      step is "System generates" "renewal offer" "before expiration"
        with { briefly "Generate offer" described by "Create renewal offer." }
      step is "Insured reviews" "renewal terms and premium" "and responds"
        with { briefly "Review offer" described by "Insured reviews renewal." }
      step send command PolicyContext.Policy.ProcessRenewal from user InsuredParty to entity PolicyContext.Policy
        with { briefly "Process renewal" described by "Accept or decline renewal." }
    } with {
      briefly "Renew policy for new term"
      described by {
        | This use case covers the renewal process where existing
        | policies are extended for a new coverage period.
      }
    }

  } with {
    briefly "Core policy servicing workflows"
    described by {
      | The policy servicing epic encompasses all major workflows
      | for managing property-casualty insurance policies including
      | issuance, endorsements, renewals, and cancellations.
    }
  }

  include "PolicyContext.riddl"
  include "external-contexts.riddl"

} with {
  briefly "Property-casualty policy administration domain"
  described by {
    | The Policy Administration domain manages the complete lifecycle
    | of property-casualty insurance policies from initial issuance
    | through endorsements, renewals, and eventual termination.
    | It integrates with rating, billing, and document services.
  }
}
