// Policy Administration - Shared Types
type PolicyId is Id(PolicyContext.Policy)  with {
  briefly "Policy identifier"
  described as {
    |Unique identifier for a policy.
  }
}
type EndorsementId is UUID with {
  briefly "Endorsement identifier"
  described as {
    |Unique identifier for a policy endorsement.
  }
}
type RenewalId is UUID with {
  briefly "Renewal identifier"
  described as {
    |Unique identifier for a renewal transaction.
  }
}
type PolicyStatus is any of {
  Quoted,
  Bound,
  Active,
  Suspended,
  Cancelled,
  Expired,
  NonRenewed
} with {
  briefly "Policy lifecycle status"
  described as {
    | Represents the various states a policy can be in:
    | Quoted, Bound, Active, Suspended, Cancelled, Expired, NonRenewed.
  }
}
type CancellationReason is any of {
  InsuredRequest,
  NonPayment,
  UnderwritingAction,
  MaterialMisrepresentation,
  RiskChange,
  CarrierWithdrawal
} with {
  briefly "Cancellation reason"
  described as {
    | Captures the reason a policy was cancelled including
    | insured request, non-payment, or underwriting action.
  }
}
type PolicyDetails is {
  policyNumber: String(1,20) with {
    briefly "Policy number"
    described as {
      |Unique policy number.
    }
  }
  effectiveDate: Date with {
    briefly "Effective date"
    described as {
      |Coverage start date.
    }
  }
  expirationDate: Date with {
    briefly "Expiration date"
    described as {
      |Coverage end date.
    }
  }
  insuredName: String(1,200) with {
    briefly "Insured name"
    described as {
      |Name of the insured party.
    }
  }
  insuredAddress: Address with {
    briefly "Insured address"
    described as {
      |Address of the insured.
    }
  }
  coverageType: String(1,50) with {
    briefly "Coverage type"
    described as {
      |Type of insurance coverage.
    }
  }
  totalPremium: Decimal(12,2) with {
    briefly "Total premium"
    described as {
      |Total policy premium amount.
    }
  }
  deductible: Decimal(10,2) with {
    briefly "Deductible"
    described as {
      |Policy deductible amount.
    }
  }
  coverageLimit: Decimal(14,2) with {
    briefly "Coverage limit"
    described as {
      |Maximum coverage amount.
    }
  }
  status: PolicyStatus with {
    briefly "Status"
    described as {
      |Current policy status.
    }
  }
} with {
  briefly "Policy details"
  described as {
    |Core policy information including terms and coverage.
  }
}
type Address is {
  street1: String(1,200) with {
    briefly "Street line 1"
    described as {
      |Primary street address.
    }
  }
  street2: String(1,200)? with {
    briefly "Street line 2"
    described as {
      |Secondary address line.
    }
  }
  city: String(1,100) with {
    briefly "City"
    described as {
      |City name.
    }
  }
  state: String(2,2) with {
    briefly "State"
    described as {
      |State code.
    }
  }
  postalCode: String(5,10) with {
    briefly "Postal code"
    described as {
      |ZIP or postal code.
    }
  }
  country: String(2,3) with {
    briefly "Country"
    described as {
      |Country code.
    }
  }
} with {
  briefly "Physical address"
  described as {
    |Standard address structure for locations.
  }
}
type EndorsementInfo is {
  endorsementId: EndorsementId with {
    briefly "Endorsement ID"
    described as {
      |Unique endorsement identifier.
    }
  }
  endorsementNumber: Integer with {
    briefly "Endorsement number"
    described as {
      |Sequential endorsement number on policy.
    }
  }
  effectiveDate: Date with {
    briefly "Effective date"
    described as {
      |When endorsement takes effect.
    }
  }
  endorsementType: String(1,50) with {
    briefly "Type"
    described as {
      |Type of endorsement.
    }
  }
  description: String(1,500) with {
    briefly "Description"
    described as {
      |Description of the change.
    }
  }
  premiumChange: Decimal(10,2) with {
    briefly "Premium change"
    described as {
      |Premium adjustment amount.
    }
  }
  processedDate: Date with {
    briefly "Processed date"
    described as {
      |When endorsement was processed.
    }
  }
  processedBy: String(1,100) with {
    briefly "Processed by"
    described as {
      |Person who processed endorsement.
    }
  }
} with {
  briefly "Endorsement information"
  described as {
    |Details of a policy endorsement modification.
  }
}
type RenewalOffer is {
  renewalId: RenewalId with {
    briefly "Renewal ID"
    described as {
      |Unique renewal identifier.
    }
  }
  expiringPolicyId: PolicyId with {
    briefly "Expiring policy"
    described as {
      |Policy being renewed.
    }
  }
  offerDate: Date with {
    briefly "Offer date"
    described as {
      |When offer was generated.
    }
  }
  proposedEffectiveDate: Date with {
    briefly "Proposed effective"
    described as {
      |Proposed new term start.
    }
  }
  proposedExpirationDate: Date with {
    briefly "Proposed expiration"
    described as {
      |Proposed new term end.
    }
  }
  proposedPremium: Decimal(12,2) with {
    briefly "Proposed premium"
    described as {
      |Proposed renewal premium.
    }
  }
  premiumChange: Decimal(10,2) with {
    briefly "Premium change"
    described as {
      |Change from current premium.
    }
  }
  termsChanged: Boolean with {
    briefly "Terms changed"
    described as {
      |Whether coverage terms changed.
    }
  }
  offerExpirationDate: Date with {
    briefly "Offer expires"
    described as {
      |When offer expires.
    }
  }
  offerAccepted: Boolean? with {
    briefly "Offer Accepted"
    described as {
      |Whether offer was accepted.
    }
  }
} with {
  briefly "Renewal offer"
  described as {
    |Details of a renewal offer for an expiring policy.
  }
}
type BillingSchedule is {
  scheduleType: String(1,20) with {
    briefly "Schedule type"
    described as {
      |Annual, semi-annual, quarterly, monthly.
    }
  }
  installmentCount: Integer with {
    briefly "Installments"
    described as {
      |Number of installments.
    }
  }
  installmentAmount: Decimal(10,2) with {
    briefly "Installment amount"
    described as {
      |Amount per installment.
    }
  }
  dueDay: Integer with {
    briefly "Due day"
    described as {
      |Day of month payment is due.
    }
  }
  paymentMethod: String(1,30) with {
    briefly "Payment method"
    described as {
      |How payment is made.
    }
  }
  accountNumber: String(1,30)? with {
    briefly "Account number"
    described as {
      |Payment account reference.
    }
  }
  nextDueDate: Date with {
    briefly "Next due date"
    described as {
      |Next payment due date.
    }
  }
  remainingBalance: Decimal(12,2) with {
    briefly "Remaining balance"
    described as {
      |Outstanding premium balance.
    }
  }
} with {
  briefly "Billing schedule"
  described as {
    |Payment schedule for policy premiums.
  }
}
type PolicyMetrics is {
  policyId: PolicyId with {
    briefly "Policy ID"
    described as {
      |Policy identifier.
    }
  }
  endorsementCount: Integer with {
    briefly "Endorsements"
    described as {
      |Number of endorsements.
    }
  }
  totalPremiumCollected: Decimal(12,2) with {
    briefly "Premium collected"
    described as {
      |Total premium collected.
    }
  }
  totalClaimsIncurred: Decimal(12,2) with {
    briefly "Claims incurred"
    described as {
      |Total claims paid.
    }
  }
  lossRatio: Decimal(5,4) with {
    briefly "Loss ratio"
    described as {
      |Claims to premium ratio.
    }
  }
  daysSinceLastActivity: Integer with {
    briefly "Days inactive"
    described as {
      |Days since last activity.
    }
  }
  renewalCount: Integer with {
    briefly "Renewals"
    described as {
      |Number of renewals.
    }
  }
} with {
  briefly "Policy metrics"
  described as {
    |Key performance metrics for a policy.
  }
}
