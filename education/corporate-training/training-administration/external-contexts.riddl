// Training Administration - External Contexts

// HRIS Service
context HRISService is {

  event EmployeeHired is {
    employeeId is TraineeId with { briefly "Employee" described by "Employee ID." }
    department is String(1, 100) with { briefly "Department" described by "Department." }
    jobRole is String(1, 100) with { briefly "Role" described by "Job role." }
    hiredAt is TimeStamp with { briefly "Hired" described by "Hire date." }
  } with {
    briefly "Employee was hired"
    described by "Emitted when employee joins."
  }

  event EmployeeDepartmentChanged is {
    employeeId is TraineeId with { briefly "Employee" described by "Employee ID." }
    newDepartment is String(1, 100) with { briefly "Department" described by "New department." }
    changedAt is TimeStamp with { briefly "Changed" described by "Change time." }
  } with {
    briefly "Department changed"
    described by "Emitted when employee moves departments."
  }

} with {
  option is external
  briefly "External HRIS service"
  described by "External HR information system."
}

// Room Reservation Service
context RoomReservationService is {

  command ReserveRoom is {
    sessionId is SessionId with { briefly "Session" described by "Session ID." }
    roomId is UUID with { briefly "Room" described by "Room ID." }
    startTime is TimeStamp with { briefly "Start" described by "Start time." }
    endTime is TimeStamp with { briefly "End" described by "End time." }
  } with {
    briefly "Reserve room"
    described by "Reserves training room."
  }

  event RoomReserved is {
    reservationId is UUID with { briefly "Reservation" described by "Reservation ID." }
    sessionId is SessionId with { briefly "Session" described by "Session ID." }
    roomId is UUID with { briefly "Room" described by "Room ID." }
    reservedAt is TimeStamp with { briefly "Reserved" described by "Reservation time." }
  } with {
    briefly "Room was reserved"
    described by "Emitted when room is booked."
  }

} with {
  option is external
  briefly "External room service"
  described by "External room booking system."
}

// Calendar Service
context CalendarService is {

  command CreateCalendarEvent is {
    sessionId is SessionId with { briefly "Session" described by "Session ID." }
    title is String(1, 200) with { briefly "Title" described by "Event title." }
    startTime is TimeStamp with { briefly "Start" described by "Start time." }
    endTime is TimeStamp with { briefly "End" described by "End time." }
    attendees is many TraineeId with { briefly "Attendees" described by "Invited attendees." }
  } with {
    briefly "Create event"
    described by "Creates calendar event."
  }

  event CalendarEventCreated is {
    eventId is UUID with { briefly "Event" described by "Event ID." }
    sessionId is SessionId with { briefly "Session" described by "Session ID." }
    createdAt is TimeStamp with { briefly "Created" described by "Creation time." }
  } with {
    briefly "Event was created"
    described by "Emitted when calendar event is created."
  }

} with {
  option is external
  briefly "External calendar service"
  described by "External calendar system."
}

// Notification Service
context NotificationService is {

  command SendSessionReminder is {
    traineeId is TraineeId with { briefly "Trainee" described by "Trainee ID." }
    sessionId is SessionId with { briefly "Session" described by "Session ID." }
    scheduledTime is TimeStamp with { briefly "Time" described by "Session time." }
  } with {
    briefly "Send reminder"
    described by "Sends session reminder."
  }

  command SendComplianceAlert is {
    traineeId is TraineeId with { briefly "Trainee" described by "Trainee ID." }
    trainingId is TrainingId with { briefly "Training" described by "Training ID." }
    dueDate is Date with { briefly "Due" described by "Due date." }
  } with {
    briefly "Send alert"
    described by "Sends compliance alert."
  }

  event NotificationSent is {
    notificationId is UUID with { briefly "Notification" described by "Notification ID." }
    sentAt is TimeStamp with { briefly "Sent" described by "Send time." }
  } with {
    briefly "Notification was sent"
    described by "Emitted when notification is delivered."
  }

} with {
  option is external
  briefly "External notification service"
  described by "External communications service."
}

// Certificate Service
context CertificateService is {

  command GenerateCertificate is {
    traineeId is TraineeId with { briefly "Trainee" described by "Trainee ID." }
    trainingId is TrainingId with { briefly "Training" described by "Training ID." }
    completedAt is TimeStamp with { briefly "Completed" described by "Completion time." }
  } with {
    briefly "Generate certificate"
    described by "Generates completion certificate."
  }

  event CertificateGenerated is {
    certificateId is UUID with { briefly "Certificate" described by "Certificate ID." }
    traineeId is TraineeId with { briefly "Trainee" described by "Trainee ID." }
    certificateUrl is URL with { briefly "URL" described by "Certificate URL." }
    generatedAt is TimeStamp with { briefly "Generated" described by "Generation time." }
  } with {
    briefly "Certificate was generated"
    described by "Emitted when certificate is created."
  }

} with {
  option is external
  briefly "External certificate service"
  described by "External certificate generation system."
}

// Video Conference Service
context VideoConferenceService is {

  command CreateMeeting is {
    sessionId is SessionId with { briefly "Session" described by "Session ID." }
    title is String(1, 200) with { briefly "Title" described by "Meeting title." }
    scheduledTime is TimeStamp with { briefly "Time" described by "Scheduled time." }
    duration is Duration with { briefly "Duration" described by "Meeting duration." }
  } with {
    briefly "Create meeting"
    described by "Creates video conference."
  }

  event MeetingCreated is {
    meetingId is UUID with { briefly "Meeting" described by "Meeting ID." }
    sessionId is SessionId with { briefly "Session" described by "Session ID." }
    joinUrl is URL with { briefly "URL" described by "Join URL." }
    createdAt is TimeStamp with { briefly "Created" described by "Creation time." }
  } with {
    briefly "Meeting was created"
    described by "Emitted when video conference is created."
  }

} with {
  option is external
  briefly "External video service"
  described by "External video conferencing system."
}
