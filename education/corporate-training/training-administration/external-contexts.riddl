// Training Administration - External Contexts
// HRIS Service
context HRISService is {
  event EmployeeHired is  {
    employeeId: TraineeId with {
      briefly "Employee"
      described as {
        |Employee ID.
      }
    }
    department: String(1,100) with {
      briefly "Department"
      described as {
        |Department.
      }
    }
    jobRole: String(1,100) with {
      briefly "Role"
      described as {
        |Job role.
      }
    }
    hiredAt: TimeStamp with {
      briefly "Hired"
      described as {
        |Hire date.
      }
    }
  } with {
    briefly "Employee was hired"
    described as {
      |Emitted when employee joins.
    }
  }
  event EmployeeDepartmentChanged is  {
    employeeId: TraineeId with {
      briefly "Employee"
      described as {
        |Employee ID.
      }
    }
    newDepartment: String(1,100) with {
      briefly "Department"
      described as {
        |New department.
      }
    }
    changedAt: TimeStamp with {
      briefly "Changed"
      described as {
        |Change time.
      }
    }
  } with {
    briefly "Department changed"
    described as {
      |Emitted when employee moves departments.
    }
  }
} with {
  option external()
  briefly "External HRIS service"
  described as {
    |External HR information system.
  }
}
// Room Reservation Service
context RoomReservationService is {
  command ReserveRoom is  {
    sessionId: SessionId with {
      briefly "Session"
      described as {
        |Session ID.
      }
    }
    roomId: UUID with {
      briefly "Room"
      described as {
        |Room ID.
      }
    }
    startTime: TimeStamp with {
      briefly "Start"
      described as {
        |Start time.
      }
    }
    endTime: TimeStamp with {
      briefly "End"
      described as {
        |End time.
      }
    }
  } with {
    briefly "Reserve room"
    described as {
      |Reserves training room.
    }
  }
  event RoomReserved is  {
    reservationId: UUID with {
      briefly "Reservation"
      described as {
        |Reservation ID.
      }
    }
    sessionId: SessionId with {
      briefly "Session"
      described as {
        |Session ID.
      }
    }
    roomId: UUID with {
      briefly "Room"
      described as {
        |Room ID.
      }
    }
    reservedAt: TimeStamp with {
      briefly "Reserved"
      described as {
        |Reservation time.
      }
    }
  } with {
    briefly "Room was reserved"
    described as {
      |Emitted when room is booked.
    }
  }
} with {
  option external()
  briefly "External room service"
  described as {
    |External room booking system.
  }
}
// Calendar Service
context CalendarService is {
  command CreateCalendarEvent is  {
    sessionId: SessionId with {
      briefly "Session"
      described as {
        |Session ID.
      }
    }
    title: String(1,200) with {
      briefly "Title"
      described as {
        |Event title.
      }
    }
    startTime: TimeStamp with {
      briefly "Start"
      described as {
        |Start time.
      }
    }
    endTime: TimeStamp with {
      briefly "End"
      described as {
        |End time.
      }
    }
    attendees: TraineeId+ with {
      briefly "Attendees"
      described as {
        |Invited attendees.
      }
    }
  } with {
    briefly "Create event"
    described as {
      |Creates calendar event.
    }
  }
  event CalendarEventCreated is  {
    eventId: UUID with {
      briefly "Event"
      described as {
        |Event ID.
      }
    }
    sessionId: SessionId with {
      briefly "Session"
      described as {
        |Session ID.
      }
    }
    createdAt: TimeStamp with {
      briefly "Created"
      described as {
        |Creation time.
      }
    }
  } with {
    briefly "Event was created"
    described as {
      |Emitted when calendar event is created.
    }
  }
} with {
  option external()
  briefly "External calendar service"
  described as {
    |External calendar system.
  }
}
// Notification Service
context NotificationService is {
  command SendSessionReminder is  {
    traineeId: TraineeId with {
      briefly "Trainee"
      described as {
        |Trainee ID.
      }
    }
    sessionId: SessionId with {
      briefly "Session"
      described as {
        |Session ID.
      }
    }
    scheduledTime: TimeStamp with {
      briefly "Time"
      described as {
        |Session time.
      }
    }
  } with {
    briefly "Send reminder"
    described as {
      |Sends session reminder.
    }
  }
  command SendComplianceAlert is  {
    traineeId: TraineeId with {
      briefly "Trainee"
      described as {
        |Trainee ID.
      }
    }
    trainingId: TrainingId with {
      briefly "Training"
      described as {
        |Training ID.
      }
    }
    dueDate: Date with {
      briefly "Due"
      described as {
        |Due date.
      }
    }
  } with {
    briefly "Send alert"
    described as {
      |Sends compliance alert.
    }
  }
  event NotificationSent is  {
    notificationId: UUID with {
      briefly "Notification"
      described as {
        |Notification ID.
      }
    }
    sentAt: TimeStamp with {
      briefly "Sent"
      described as {
        |Send time.
      }
    }
  } with {
    briefly "Notification was sent"
    described as {
      |Emitted when notification is delivered.
    }
  }
} with {
  option external()
  briefly "External notification service"
  described as {
    |External communications service.
  }
}
// Certificate Service
context CertificateService is {
  command GenerateCertificate is  {
    traineeId: TraineeId with {
      briefly "Trainee"
      described as {
        |Trainee ID.
      }
    }
    trainingId: TrainingId with {
      briefly "Training"
      described as {
        |Training ID.
      }
    }
    completedAt: TimeStamp with {
      briefly "Completed"
      described as {
        |Completion time.
      }
    }
  } with {
    briefly "Generate certificate"
    described as {
      |Generates completion certificate.
    }
  }
  event CertificateGenerated is  {
    certificateId: UUID with {
      briefly "Certificate"
      described as {
        |Certificate ID.
      }
    }
    traineeId: TraineeId with {
      briefly "Trainee"
      described as {
        |Trainee ID.
      }
    }
    certificateUrl: URL with {
      briefly "URL"
      described as {
        |Certificate URL.
      }
    }
    generatedAt: TimeStamp with {
      briefly "Generated"
      described as {
        |Generation time.
      }
    }
  } with {
    briefly "Certificate was generated"
    described as {
      |Emitted when certificate is created.
    }
  }
} with {
  option external()
  briefly "External certificate service"
  described as {
    |External certificate generation system.
  }
}
// Video Conference Service
context VideoConferenceService is {
  command CreateMeeting is  {
    sessionId: SessionId with {
      briefly "Session"
      described as {
        |Session ID.
      }
    }
    title: String(1,200) with {
      briefly "Title"
      described as {
        |Meeting title.
      }
    }
    scheduledTime: TimeStamp with {
      briefly "Time"
      described as {
        |Scheduled time.
      }
    }
    duration: Duration with {
      briefly "Duration"
      described as {
        |Meeting duration.
      }
    }
  } with {
    briefly "Create meeting"
    described as {
      |Creates video conference.
    }
  }
  event MeetingCreated is  {
    meetingId: UUID with {
      briefly "Meeting"
      described as {
        |Meeting ID.
      }
    }
    sessionId: SessionId with {
      briefly "Session"
      described as {
        |Session ID.
      }
    }
    joinUrl: URL with {
      briefly "URL"
      described as {
        |Join URL.
      }
    }
    createdAt: TimeStamp with {
      briefly "Created"
      described as {
        |Creation time.
      }
    }
  } with {
    briefly "Meeting was created"
    described as {
      |Emitted when video conference is created.
    }
  }
} with {
  option external()
  briefly "External video service"
  described as {
    |External video conferencing system.
  }
}
