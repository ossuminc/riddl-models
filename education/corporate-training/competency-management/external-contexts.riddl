// Competency Management - External Contexts

// HRIS Service
context HRISService is {

  event EmployeeHired is {
    employeeId is EmployeeId with { briefly "Employee" described by "Employee ID." }
    jobTitle is String(1, 100) with { briefly "Title" described by "Job title." }
    department is String(1, 100) with { briefly "Department" described by "Department." }
    hiredAt is TimeStamp with { briefly "Hired" described by "Hire date." }
  } with {
    briefly "Employee was hired"
    described by "Emitted when employee joins."
  }

  event EmployeeRoleChanged is {
    employeeId is EmployeeId with { briefly "Employee" described by "Employee ID." }
    newRole is String(1, 100) with { briefly "Role" described by "New role." }
    changedAt is TimeStamp with { briefly "Changed" described by "Change time." }
  } with {
    briefly "Role was changed"
    described by "Emitted when employee role changes."
  }

} with {
  option is external
  briefly "External HRIS service"
  described by "External HR information system."
}

// Learning Management Service
context LearningService is {

  command RecommendTraining is {
    employeeId is EmployeeId with { briefly "Employee" described by "Employee ID." }
    competencyId is CompetencyId with { briefly "Competency" described by "Target competency." }
    targetLevel is CompetencyLevel with { briefly "Target" described by "Target level." }
  } with {
    briefly "Recommend training"
    described by "Requests training recommendations."
  }

  event TrainingCompleted is {
    employeeId is EmployeeId with { briefly "Employee" described by "Employee ID." }
    courseId is UUID with { briefly "Course" described by "Course ID." }
    competencyId is CompetencyId with { briefly "Competency" described by "Related competency." }
    completedAt is TimeStamp with { briefly "Completed" described by "Completion time." }
  } with {
    briefly "Training was completed"
    described by "Emitted when training is finished."
  }

} with {
  option is external
  briefly "External learning service"
  described by "External LMS system."
}

// Performance Management Service
context PerformanceService is {

  event PerformanceReviewCompleted is {
    employeeId is EmployeeId with { briefly "Employee" described by "Employee ID." }
    reviewId is UUID with { briefly "Review" described by "Review ID." }
    overallRating is String(1, 20) with { briefly "Rating" described by "Overall rating." }
    competencyFeedback is many optional String(1, 500) with { briefly "Feedback" described by "Competency feedback." }
    completedAt is TimeStamp with { briefly "Completed" described by "Completion time." }
  } with {
    briefly "Review was completed"
    described by "Emitted when performance review completes."
  }

  event GoalSet is {
    employeeId is EmployeeId with { briefly "Employee" described by "Employee ID." }
    goalId is UUID with { briefly "Goal" described by "Goal ID." }
    relatedCompetency is optional CompetencyId with { briefly "Competency" described by "Related competency." }
    setAt is TimeStamp with { briefly "Set" described by "Set time." }
  } with {
    briefly "Goal was set"
    described by "Emitted when goal is established."
  }

} with {
  option is external
  briefly "External performance service"
  described by "External performance management system."
}

// Career Development Service
context CareerService is {

  command IdentifyCareerPath is {
    employeeId is EmployeeId with { briefly "Employee" described by "Employee ID." }
    targetRole is String(1, 100) with { briefly "Target role" described by "Desired role." }
  } with {
    briefly "Identify path"
    described by "Identifies career development path."
  }

  event CareerPathIdentified is {
    employeeId is EmployeeId with { briefly "Employee" described by "Employee ID." }
    targetRole is String(1, 100) with { briefly "Target" described by "Target role." }
    requiredCompetencies is many CompetencyId with { briefly "Required" described by "Required competencies." }
    identifiedAt is TimeStamp with { briefly "Identified" described by "Identification time." }
  } with {
    briefly "Path was identified"
    described by "Emitted when career path is determined."
  }

} with {
  option is external
  briefly "External career service"
  described by "External career development system."
}

// Notification Service
context NotificationService is {

  command SendAssessmentReminder is {
    employeeId is EmployeeId with { briefly "Employee" described by "Employee ID." }
    assessmentId is AssessmentId with { briefly "Assessment" described by "Assessment ID." }
    dueDate is Date with { briefly "Due" described by "Due date." }
  } with {
    briefly "Send reminder"
    described by "Sends assessment reminder."
  }

  command SendDevelopmentUpdate is {
    employeeId is EmployeeId with { briefly "Employee" described by "Employee ID." }
    planId is DevelopmentPlanId with { briefly "Plan" described by "Plan ID." }
    message is String(1, 1000) with { briefly "Message" described by "Update message." }
  } with {
    briefly "Send update"
    described by "Sends development progress update."
  }

  event NotificationSent is {
    notificationId is UUID with { briefly "Notification" described by "Notification ID." }
    sentAt is TimeStamp with { briefly "Sent" described by "Send time." }
  } with {
    briefly "Notification was sent"
    described by "Emitted when notification is delivered."
  }

} with {
  option is external
  briefly "External notification service"
  described by "External communications service."
}
