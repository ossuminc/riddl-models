// Competency Management - External Contexts
// HRIS Service
context HRISService is {
  event EmployeeHired is  {
    employeeId: EmployeeId with {
      briefly "Employee"
      described as {
        |Employee ID.
      }
    }
    jobTitle: String(1,100) with {
      briefly "Title"
      described as {
        |Job title.
      }
    }
    department: String(1,100) with {
      briefly "Department"
      described as {
        |Department.
      }
    }
    hiredAt: TimeStamp with {
      briefly "Hired"
      described as {
        |Hire date.
      }
    }
  } with {
    briefly "Employee was hired"
    described as {
      |Emitted when employee joins.
    }
  }
  event EmployeeRoleChanged is  {
    employeeId: EmployeeId with {
      briefly "Employee"
      described as {
        |Employee ID.
      }
    }
    newRole: String(1,100) with {
      briefly "Role"
      described as {
        |New role.
      }
    }
    changedAt: TimeStamp with {
      briefly "Changed"
      described as {
        |Change time.
      }
    }
  } with {
    briefly "Role was changed"
    described as {
      |Emitted when employee role changes.
    }
  }
} with {
  option external()
  briefly "External HRIS service"
  described as {
    |External HR information system.
  }
}
// Learning Management Service
context LearningService is {
  command RecommendTraining is  {
    employeeId: EmployeeId with {
      briefly "Employee"
      described as {
        |Employee ID.
      }
    }
    competencyId: CompetencyId with {
      briefly "Competency"
      described as {
        |Target competency.
      }
    }
    targetLevel: CompetencyLevel with {
      briefly "Target"
      described as {
        |Target level.
      }
    }
  } with {
    briefly "Recommend training"
    described as {
      |Requests training recommendations.
    }
  }
  event TrainingCompleted is  {
    employeeId: EmployeeId with {
      briefly "Employee"
      described as {
        |Employee ID.
      }
    }
    courseId: UUID with {
      briefly "Course"
      described as {
        |Course ID.
      }
    }
    competencyId: CompetencyId with {
      briefly "Competency"
      described as {
        |Related competency.
      }
    }
    completedAt: TimeStamp with {
      briefly "Completed"
      described as {
        |Completion time.
      }
    }
  } with {
    briefly "Training was completed"
    described as {
      |Emitted when training is finished.
    }
  }
} with {
  option external()
  briefly "External learning service"
  described as {
    |External LMS system.
  }
}
// Performance Management Service
context PerformanceService is {
  event PerformanceReviewCompleted is  {
    employeeId: EmployeeId with {
      briefly "Employee"
      described as {
        |Employee ID.
      }
    }
    reviewId: UUID with {
      briefly "Review"
      described as {
        |Review ID.
      }
    }
    overallRating: String(1,20) with {
      briefly "Rating"
      described as {
        |Overall rating.
      }
    }
    competencyFeedback: String(1,500)* with {
      briefly "Feedback"
      described as {
        |Competency feedback.
      }
    }
    completedAt: TimeStamp with {
      briefly "Completed"
      described as {
        |Completion time.
      }
    }
  } with {
    briefly "Review was completed"
    described as {
      |Emitted when performance review completes.
    }
  }
  event GoalSet is  {
    employeeId: EmployeeId with {
      briefly "Employee"
      described as {
        |Employee ID.
      }
    }
    goalId: UUID with {
      briefly "Goal"
      described as {
        |Goal ID.
      }
    }
    relatedCompetency: CompetencyId? with {
      briefly "Competency"
      described as {
        |Related competency.
      }
    }
    setAt: TimeStamp with {
      briefly "Set"
      described as {
        |Set time.
      }
    }
  } with {
    briefly "Goal was set"
    described as {
      |Emitted when goal is established.
    }
  }
} with {
  option external()
  briefly "External performance service"
  described as {
    |External performance management system.
  }
}
// Career Development Service
context CareerService is {
  command IdentifyCareerPath is  {
    employeeId: EmployeeId with {
      briefly "Employee"
      described as {
        |Employee ID.
      }
    }
    targetRole: String(1,100) with {
      briefly "Target role"
      described as {
        |Desired role.
      }
    }
  } with {
    briefly "Identify path"
    described as {
      |Identifies career development path.
    }
  }
  event CareerPathIdentified is  {
    employeeId: EmployeeId with {
      briefly "Employee"
      described as {
        |Employee ID.
      }
    }
    targetRole: String(1,100) with {
      briefly "Target"
      described as {
        |Target role.
      }
    }
    requiredCompetencies: CompetencyId+ with {
      briefly "Required"
      described as {
        |Required competencies.
      }
    }
    identifiedAt: TimeStamp with {
      briefly "Identified"
      described as {
        |Identification time.
      }
    }
  } with {
    briefly "Path was identified"
    described as {
      |Emitted when career path is determined.
    }
  }
} with {
  option external()
  briefly "External career service"
  described as {
    |External career development system.
  }
}
// Notification Service
context NotificationService is {
  command SendAssessmentReminder is  {
    employeeId: EmployeeId with {
      briefly "Employee"
      described as {
        |Employee ID.
      }
    }
    assessmentId: AssessmentId with {
      briefly "Assessment"
      described as {
        |Assessment ID.
      }
    }
    dueDate: Date with {
      briefly "Due"
      described as {
        |Due date.
      }
    }
  } with {
    briefly "Send reminder"
    described as {
      |Sends assessment reminder.
    }
  }
  command SendDevelopmentUpdate is  {
    employeeId: EmployeeId with {
      briefly "Employee"
      described as {
        |Employee ID.
      }
    }
    planId: DevelopmentPlanId with {
      briefly "Plan"
      described as {
        |Plan ID.
      }
    }
    message: String(1,1000) with {
      briefly "Message"
      described as {
        |Update message.
      }
    }
  } with {
    briefly "Send update"
    described as {
      |Sends development progress update.
    }
  }
  event NotificationSent is  {
    notificationId: UUID with {
      briefly "Notification"
      described as {
        |Notification ID.
      }
    }
    sentAt: TimeStamp with {
      briefly "Sent"
      described as {
        |Send time.
      }
    }
  } with {
    briefly "Notification was sent"
    described as {
      |Emitted when notification is delivered.
    }
  }
} with {
  option external()
  briefly "External notification service"
  described as {
    |External communications service.
  }
}
