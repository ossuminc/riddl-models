// Competency Management - Shared Types

type CompetencyId is Id(CompetencyContext.Competency) with {
  briefly "Competency identifier"
  described by "Unique identifier for a competency."
}

type FrameworkId is UUID with {
  briefly "Framework identifier"
  described by "Reference to a competency framework."
}

type EmployeeId is UUID with {
  briefly "Employee identifier"
  described by "Reference to an employee."
}

type AssessmentId is UUID with {
  briefly "Assessment identifier"
  described by "Reference to an assessment."
}

type DevelopmentPlanId is UUID with {
  briefly "Plan identifier"
  described by "Reference to a development plan."
}

type CompetencyLevel is any of {
  Novice,
  Beginner,
  Competent,
  Proficient,
  Expert
} with {
  briefly "Competency level"
  described by "Skill proficiency level."
}

type CompetencyCategory is any of {
  Technical,
  Leadership,
  Communication,
  Analytical,
  Interpersonal,
  Strategic,
  Operational
} with {
  briefly "Competency category"
  described by "Category of competency."
}

type AssessmentType is any of {
  SelfAssessment,
  ManagerAssessment,
  PeerReview,
  Assessment360,
  SkillTest,
  Observation
} with {
  briefly "Assessment type"
  described by "Type of competency assessment."
}

type AssessmentStatus is any of {
  Pending,
  InProgress,
  Completed,
  Reviewed,
  Acknowledged
} with {
  briefly "Assessment status"
  described by "Current assessment status."
}

type DevelopmentStatus is any of {
  Planned,
  InProgress,
  Completed,
  Deferred,
  Cancelled
} with {
  briefly "Development status"
  described by "Development activity status."
}

type CompetencyDefinition is {
  competencyId is CompetencyId with {
    briefly "Competency ID"
    described by "Competency identifier."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Competency name."
  }
  description is String(1, 2000) with {
    briefly "Description"
    described by "Competency description."
  }
  category is CompetencyCategory with {
    briefly "Category"
    described by "Competency category."
  }
  levelDescriptions is many LevelDescription with {
    briefly "Levels"
    described by "Level descriptions."
  }
  indicators is many BehavioralIndicator with {
    briefly "Indicators"
    described by "Behavioral indicators."
  }
} with {
  briefly "Competency definition"
  described by "Full competency specification."
}

type LevelDescription is {
  level is CompetencyLevel with {
    briefly "Level"
    described by "Proficiency level."
  }
  description is String(1, 1000) with {
    briefly "Description"
    described by "Level description."
  }
  expectations is many String(1, 500) with {
    briefly "Expectations"
    described by "Level expectations."
  }
} with {
  briefly "Level description"
  described by "Description of proficiency level."
}

type BehavioralIndicator is {
  indicatorId is UUID with {
    briefly "Indicator ID"
    described by "Indicator identifier."
  }
  description is String(1, 500) with {
    briefly "Description"
    described by "Indicator description."
  }
  level is CompetencyLevel with {
    briefly "Level"
    described by "Associated level."
  }
  observable is Boolean with {
    briefly "Observable"
    described by "Is directly observable."
  }
} with {
  briefly "Behavioral indicator"
  described by "Observable competency indicator."
}

type CompetencyFramework is {
  frameworkId is FrameworkId with {
    briefly "Framework ID"
    described by "Framework identifier."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Framework name."
  }
  description is String(1, 2000) with {
    briefly "Description"
    described by "Framework description."
  }
  competencyIds is many CompetencyId with {
    briefly "Competencies"
    described by "Included competencies."
  }
  jobRoles is many optional String(1, 100) with {
    briefly "Roles"
    described by "Applicable job roles."
  }
  version is String(1, 20) with {
    briefly "Version"
    described by "Framework version."
  }
} with {
  briefly "Competency framework"
  described by "Collection of related competencies."
}

type EmployeeCompetency is {
  employeeId is EmployeeId with {
    briefly "Employee"
    described by "Employee ID."
  }
  competencyId is CompetencyId with {
    briefly "Competency"
    described by "Competency ID."
  }
  currentLevel is CompetencyLevel with {
    briefly "Current level"
    described by "Current proficiency."
  }
  targetLevel is CompetencyLevel with {
    briefly "Target level"
    described by "Target proficiency."
  }
  lastAssessedAt is TimeStamp with {
    briefly "Last assessed"
    described by "Last assessment time."
  }
} with {
  briefly "Employee competency"
  described by "Employee's competency status."
}

type CompetencyAssessment is {
  assessmentId is AssessmentId with {
    briefly "Assessment ID"
    described by "Assessment identifier."
  }
  employeeId is EmployeeId with {
    briefly "Employee"
    described by "Assessed employee."
  }
  assessorId is EmployeeId with {
    briefly "Assessor"
    described by "Person conducting assessment."
  }
  assessmentType is AssessmentType with {
    briefly "Type"
    described by "Assessment type."
  }
  status is AssessmentStatus with {
    briefly "Status"
    described by "Assessment status."
  }
  ratings is many CompetencyRating with {
    briefly "Ratings"
    described by "Competency ratings."
  }
  conductedAt is TimeStamp with {
    briefly "Conducted"
    described by "Assessment time."
  }
  comments is optional String(1, 3000) with {
    briefly "Comments"
    described by "Overall comments."
  }
} with {
  briefly "Competency assessment"
  described by "Employee competency assessment."
}

type CompetencyRating is {
  competencyId is CompetencyId with {
    briefly "Competency"
    described by "Rated competency."
  }
  rating is CompetencyLevel with {
    briefly "Rating"
    described by "Proficiency rating."
  }
  ratingEvidence is optional String(1, 1000) with {
    briefly "Evidence"
    described by "Supporting evidence."
  }
  developmentNeeded is Boolean with {
    briefly "Development needed"
    described by "Requires development."
  }
} with {
  briefly "Competency rating"
  described by "Individual competency rating."
}

type DevelopmentPlan is {
  planId is DevelopmentPlanId with {
    briefly "Plan ID"
    described by "Plan identifier."
  }
  employeeId is EmployeeId with {
    briefly "Employee"
    described by "Employee ID."
  }
  title is String(1, 200) with {
    briefly "Title"
    described by "Plan title."
  }
  objectives is many DevelopmentObjective with {
    briefly "Objectives"
    described by "Development objectives."
  }
  activities is many DevelopmentActivity with {
    briefly "Activities"
    described by "Development activities."
  }
  startDate is Date with {
    briefly "Start"
    described by "Plan start date."
  }
  targetDate is Date with {
    briefly "Target"
    described by "Target completion date."
  }
  developmentStatus is DevelopmentStatus with {
    briefly "Status"
    described by "Plan status."
  }
} with {
  briefly "Development plan"
  described by "Employee development plan."
}

type DevelopmentObjective is {
  objectiveId is UUID with {
    briefly "Objective ID"
    described by "Objective identifier."
  }
  competencyId is CompetencyId with {
    briefly "Competency"
    described by "Target competency."
  }
  currentLevel is CompetencyLevel with {
    briefly "Current"
    described by "Current level."
  }
  targetLevel is CompetencyLevel with {
    briefly "Target"
    described by "Target level."
  }
  successCriteria is String(1, 500) with {
    briefly "Criteria"
    described by "Success criteria."
  }
} with {
  briefly "Development objective"
  described by "Competency development objective."
}

type DevelopmentActivity is {
  activityId is UUID with {
    briefly "Activity ID"
    described by "Activity identifier."
  }
  title is String(1, 200) with {
    briefly "Title"
    described by "Activity title."
  }
  activityType is ActivityType with {
    briefly "Type"
    described by "Activity type."
  }
  competencyId is CompetencyId with {
    briefly "Competency"
    described by "Related competency."
  }
  dueDate is Date with {
    briefly "Due"
    described by "Due date."
  }
  activityStatus is DevelopmentStatus with {
    briefly "Status"
    described by "Activity status."
  }
  updatedCompletedAt is optional TimeStamp with {
    briefly "Completed"
    described by "Completion time."
  }
} with {
  briefly "Development activity"
  described by "Specific development activity."
}

type ActivityType is any of {
  Training,
  Coaching,
  Mentoring,
  JobShadowing,
  Project,
  Reading,
  Conference,
  Certification,
  OnTheJob
} with {
  briefly "Activity type"
  described by "Type of development activity."
}

type SkillGap is {
  competencyId is CompetencyId with {
    briefly "Competency"
    described by "Gap competency."
  }
  currentLevel is CompetencyLevel with {
    briefly "Current"
    described by "Current level."
  }
  requiredLevel is CompetencyLevel with {
    briefly "Required"
    described by "Required level."
  }
  gapSize is Natural with {
    briefly "Gap"
    described by "Levels to bridge."
  }
  priority is String(1, 20) with {
    briefly "Priority"
    described by "Gap priority."
  }
} with {
  briefly "Skill gap"
  described by "Identified competency gap."
}
