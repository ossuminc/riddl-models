// Course Management - Shared Types

type CourseId is Id(CourseContext.Course) with {
  briefly "Course identifier"
  described by "Unique identifier for a course."
}

type SectionId is UUID with {
  briefly "Section identifier"
  described by "Reference to a course section."
}

type StudentId is UUID with {
  briefly "Student identifier"
  described by "Reference to a student."
}

type InstructorId is UUID with {
  briefly "Instructor identifier"
  described by "Reference to an instructor."
}

type TermId is UUID with {
  briefly "Term identifier"
  described by "Reference to an academic term."
}

type CourseStatus is any of {
  Draft,
  Active,
  Inactive,
  Archived
} with {
  briefly "Course status"
  described by "Current course catalog status."
}

type SectionStatus is any of {
  Scheduled,
  Open,
  Closed,
  Cancelled,
  Completed
} with {
  briefly "Section status"
  described by "Current section status."
}

type EnrollmentStatus is any of {
  Enrolled,
  Waitlisted,
  Dropped,
  Withdrawn,
  Completed
} with {
  briefly "Enrollment status"
  described by "Student enrollment status."
}

type CourseInfo is {
  courseCode is String(1, 20) with {
    briefly "Code"
    described by "Course code (e.g., CS101)."
  }
  title is String(1, 200) with {
    briefly "Title"
    described by "Course title."
  }
  description is String(1, 5000) with {
    briefly "Description"
    described by "Course description."
  }
  credits is Natural with {
    briefly "Credits"
    described by "Credit hours."
  }
  department is String(1, 100) with {
    briefly "Department"
    described by "Academic department."
  }
  level is CourseLevel with {
    briefly "Level"
    described by "Course level."
  }
} with {
  briefly "Course information"
  described by "Basic course details."
}

type CourseLevel is any of {
  Undergraduate,
  Graduate,
  Doctoral,
  Professional,
  Continuing
} with {
  briefly "Course level"
  described by "Academic level of course."
}

type Prerequisite is {
  courseId is CourseId with {
    briefly "Course"
    described by "Required course."
  }
  minimumGrade is optional String(1, 5) with {
    briefly "Grade"
    described by "Minimum grade required."
  }
  concurrent is Boolean with {
    briefly "Concurrent"
    described by "Can be taken concurrently."
  }
} with {
  briefly "Prerequisite"
  described by "Course prerequisite requirement."
}

type Section is {
  sectionId is SectionId with {
    briefly "Section ID"
    described by "Section identifier."
  }
  sectionNumber is String(1, 10) with {
    briefly "Number"
    described by "Section number."
  }
  termId is TermId with {
    briefly "Term"
    described by "Academic term."
  }
  instructorId is InstructorId with {
    briefly "Instructor"
    described by "Assigned instructor."
  }
  schedule is ClassSchedule with {
    briefly "Schedule"
    described by "Meeting schedule."
  }
  capacity is Natural with {
    briefly "Capacity"
    described by "Maximum enrollment."
  }
  enrolled is Natural with {
    briefly "Enrolled"
    described by "Current enrollment."
  }
  waitlistCapacity is Natural with {
    briefly "Waitlist"
    described by "Waitlist capacity."
  }
  status is SectionStatus with {
    briefly "Status"
    described by "Section status."
  }
} with {
  briefly "Course section"
  described by "Scheduled instance of a course."
}

type ClassSchedule is {
  days is many DayOfWeek with {
    briefly "Days"
    described by "Meeting days."
  }
  startTime is Time with {
    briefly "Start"
    described by "Start time."
  }
  endTime is Time with {
    briefly "End"
    described by "End time."
  }
  location is String(1, 100) with {
    briefly "Location"
    described by "Classroom location."
  }
  deliveryMode is DeliveryMode with {
    briefly "Mode"
    described by "Delivery mode."
  }
} with {
  briefly "Class schedule"
  described by "Meeting time and location."
}

type DayOfWeek is any of {
  Monday,
  Tuesday,
  Wednesday,
  Thursday,
  Friday,
  Saturday,
  Sunday
} with {
  briefly "Day of week"
  described by "Day of the week."
}

type DeliveryMode is any of {
  InPerson,
  Online,
  Hybrid,
  Synchronous,
  Asynchronous
} with {
  briefly "Delivery mode"
  described by "Course delivery method."
}

type Enrollment is {
  studentId is StudentId with {
    briefly "Student"
    described by "Enrolled student."
  }
  sectionId is SectionId with {
    briefly "Section"
    described by "Enrolled section."
  }
  status is EnrollmentStatus with {
    briefly "Status"
    described by "Enrollment status."
  }
  enrolledAt is TimeStamp with {
    briefly "Enrolled"
    described by "Enrollment time."
  }
  grade is optional String(1, 5) with {
    briefly "Grade"
    described by "Final grade."
  }
} with {
  briefly "Enrollment"
  described by "Student course enrollment."
}

type AcademicTerm is {
  termId is TermId with {
    briefly "Term ID"
    described by "Term identifier."
  }
  name is String(1, 50) with {
    briefly "Name"
    described by "Term name (e.g., Fall 2026)."
  }
  startDate is Date with {
    briefly "Start"
    described by "Term start date."
  }
  endDate is Date with {
    briefly "End"
    described by "Term end date."
  }
  registrationStart is Date with {
    briefly "Reg start"
    described by "Registration opens."
  }
  registrationEnd is Date with {
    briefly "Reg end"
    described by "Registration closes."
  }
} with {
  briefly "Academic term"
  described by "Semester or quarter."
}
