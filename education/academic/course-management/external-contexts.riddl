// Course Management - External Contexts
// Student Information Service
context StudentInformationService is {
  event StudentRegistered is  {
    studentId: StudentId with {
      briefly "Student"
      described as {
        |Student ID.
      }
    }
    name: String(1,200) with {
      briefly "Name"
      described as {
        |Student name.
      }
    }
    email: String(1,100) with {
      briefly "Email"
      described as {
        |Student email.
      }
    }
    programId: UUID with {
      briefly "Program"
      described as {
        |Academic program.
      }
    }
    registeredAt: TimeStamp with {
      briefly "Registered"
      described as {
        |Registration time.
      }
    }
  } with {
    briefly "Student was registered"
    described as {
      |Emitted when student registers.
    }
  }
  event StudentStatusChanged is  {
    studentId: StudentId with {
      briefly "Student"
      described as {
        |Student ID.
      }
    }
    newStatus: String(1,50) with {
      briefly "Status"
      described as {
        |New status.
      }
    }
    changedAt: TimeStamp with {
      briefly "Changed"
      described as {
        |Change time.
      }
    }
  } with {
    briefly "Student status changed"
    described as {
      |Emitted when student status changes.
    }
  }
} with {
  option external()
  briefly "External student service"
  described as {
    |External student information system.
  }
}
// Faculty Service
context FacultyService is {
  event InstructorAssigned is  {
    instructorId: InstructorId with {
      briefly "Instructor"
      described as {
        |Instructor ID.
      }
    }
    name: String(1,200) with {
      briefly "Name"
      described as {
        |Instructor name.
      }
    }
    department: String(1,100) with {
      briefly "Department"
      described as {
        |Department.
      }
    }
    assignedAt: TimeStamp with {
      briefly "Assigned"
      described as {
        |Assignment time.
      }
    }
  } with {
    briefly "Instructor was assigned"
    described as {
      |Emitted when instructor is assigned.
    }
  }
  event InstructorAvailabilityUpdated is  {
    instructorId: InstructorId with {
      briefly "Instructor"
      described as {
        |Instructor ID.
      }
    }
    availability: String(1,500) with {
      briefly "Availability"
      described as {
        |Availability info.
      }
    }
    updatedAt: TimeStamp with {
      briefly "Updated"
      described as {
        |Update time.
      }
    }
  } with {
    briefly "Availability was updated"
    described as {
      |Emitted when availability changes.
    }
  }
} with {
  option external()
  briefly "External faculty service"
  described as {
    |External faculty management system.
  }
}
// Room Scheduling Service
context RoomSchedulingService is {
  command ReserveRoom is  {
    roomId: UUID with {
      briefly "Room"
      described as {
        |Room ID.
      }
    }
    sectionId: SectionId with {
      briefly "Section"
      described as {
        |Section ID.
      }
    }
    schedule: ClassSchedule with {
      briefly "Schedule"
      described as {
        |Meeting schedule.
      }
    }
  } with {
    briefly "Reserve room"
    described as {
      |Reserves a room for a section.
    }
  }
  event RoomReserved is  {
    reservationId: UUID with {
      briefly "Reservation"
      described as {
        |Reservation ID.
      }
    }
    roomId: UUID with {
      briefly "Room"
      described as {
        |Room ID.
      }
    }
    sectionId: SectionId with {
      briefly "Section"
      described as {
        |Section ID.
      }
    }
    reservedAt: TimeStamp with {
      briefly "Reserved"
      described as {
        |Reservation time.
      }
    }
  } with {
    briefly "Room was reserved"
    described as {
      |Emitted when room is reserved.
    }
  }
} with {
  option external()
  briefly "External room service"
  described as {
    |External room scheduling system.
  }
}
// Notification Service
context NotificationService is {
  command SendEnrollmentConfirmation is  {
    studentId: StudentId with {
      briefly "Student"
      described as {
        |Student ID.
      }
    }
    courseCode: String(1,20) with {
      briefly "Course"
      described as {
        |Course code.
      }
    }
    sectionNumber: String(1,10) with {
      briefly "Section"
      described as {
        |Section number.
      }
    }
  } with {
    briefly "Send confirmation"
    described as {
      |Sends enrollment confirmation.
    }
  }
  command SendWaitlistNotification is  {
    studentId: StudentId with {
      briefly "Student"
      described as {
        |Student ID.
      }
    }
    courseCode: String(1,20) with {
      briefly "Course"
      described as {
        |Course code.
      }
    }
    position: Natural with {
      briefly "Position"
      described as {
        |Waitlist position.
      }
    }
  } with {
    briefly "Send waitlist notification"
    described as {
      |Notifies student of waitlist status.
    }
  }
  event NotificationSent is  {
    notificationId: UUID with {
      briefly "Notification"
      described as {
        |Notification ID.
      }
    }
    studentId: StudentId with {
      briefly "Student"
      described as {
        |Student ID.
      }
    }
    sentAt: TimeStamp with {
      briefly "Sent"
      described as {
        |Send time.
      }
    }
  } with {
    briefly "Notification was sent"
    described as {
      |Emitted when notification is delivered.
    }
  }
} with {
  option external()
  briefly "External notification service"
  described as {
    |External communications service.
  }
}
