// Learning Management - Shared Types
type CourseId is Id(LearningContext.Course)  with {
  briefly "Course identifier"
  described as {
    |Unique identifier for a course.
  }
}
type ModuleId is UUID with {
  briefly "Module identifier"
  described as {
    |Reference to a course module.
  }
}
type ContentId is UUID with {
  briefly "Content identifier"
  described as {
    |Reference to learning content.
  }
}
type LearnerId is UUID with {
  briefly "Learner identifier"
  described as {
    |Reference to a learner.
  }
}
type InstructorId is UUID with {
  briefly "Instructor identifier"
  described as {
    |Reference to an instructor.
  }
}
type EnrollmentId is UUID with {
  briefly "Enrollment identifier"
  described as {
    |Reference to a course enrollment.
  }
}
type AssessmentId is UUID with {
  briefly "Assessment identifier"
  described as {
    |Reference to an assessment.
  }
}
type CourseStatus is any of {
  Draft,
  Published,
  Archived,
  Retired
} with {
  briefly "Course status"
  described as {
    |Current course publication status.
  }
}
type ModuleStatus is any of {
  Draft,
  Published,
  Hidden
} with {
  briefly "Module status"
  described as {
    |Current module visibility status.
  }
}
type ContentType is any of {
  Video,
  Document,
  Presentation,
  Interactive,
  Quiz,
  Assignment,
  Discussion,
  ExternalLink
} with {
  briefly "Content type"
  described as {
    |Type of learning content.
  }
}
type EnrollmentStatus is any of {
  Active,
  Completed,
  Withdrawn,
  Expired,
  Suspended
} with {
  briefly "Enrollment status"
  described as {
    |Learner enrollment status.
  }
}
type ProgressStatus is any of {
  NotStarted,
  InProgress,
  Completed,
  Failed
} with {
  briefly "Progress status"
  described as {
    |Content completion status.
  }
}
type AssessmentType is any of {
  Quiz,
  Exam,
  Assignment,
  Project,
  PeerReview,
  SelfAssessment
} with {
  briefly "Assessment type"
  described as {
    |Type of learning assessment.
  }
}
type CourseInfo is {
  title: String(1,200) with {
    briefly "Title"
    described as {
      |Course title.
    }
  }
  description: String(1,5000) with {
    briefly "Description"
    described as {
      |Course description.
    }
  }
  objectives: String(1,500)+ with {
    briefly "Objectives"
    described as {
      |Learning objectives.
    }
  }
  duration: Duration with {
    briefly "Duration"
    described as {
      |Estimated completion time.
    }
  }
  level: DifficultyLevel with {
    briefly "Level"
    described as {
      |Difficulty level.
    }
  }
  category: String(1,100) with {
    briefly "Category"
    described as {
      |Course category.
    }
  }
  tags: String(1,50)+ with {
    briefly "Tags"
    described as {
      |Search tags.
    }
  }
} with {
  briefly "Course information"
  described as {
    |Basic course details.
  }
}
type DifficultyLevel is any of {
  Beginner,
  Intermediate,
  Advanced,
  Expert
} with {
  briefly "Difficulty level"
  described as {
    |Content difficulty level.
  }
}
type CourseModule is {
  moduleId: ModuleId with {
    briefly "Module ID"
    described as {
      |Module identifier.
    }
  }
  title: String(1,200) with {
    briefly "Title"
    described as {
      |Module title.
    }
  }
  description: String(1,2000) with {
    briefly "Description"
    described as {
      |Module description.
    }
  }
  sequenceNumber: Natural with {
    briefly "Sequence"
    described as {
      |Order in course.
    }
  }
  contents: ContentItem+ with {
    briefly "Contents"
    described as {
      |Module content items.
    }
  }
  prerequisites: ModuleId* with {
    briefly "Prerequisites"
    described as {
      |Required prior modules.
    }
  }
  status: ModuleStatus with {
    briefly "Status"
    described as {
      |Module status.
    }
  }
} with {
  briefly "Course module"
  described as {
    |Logical grouping of content.
  }
}
type ContentItem is {
  contentId: ContentId with {
    briefly "Content ID"
    described as {
      |Content identifier.
    }
  }
  title: String(1,200) with {
    briefly "Title"
    described as {
      |Content title.
    }
  }
  contentType: ContentType with {
    briefly "Type"
    described as {
      |Content type.
    }
  }
  resourceUrl: URL with {
    briefly "URL"
    described as {
      |Content location.
    }
  }
  contentDuration: Duration? with {
    briefly "Duration"
    described as {
      |Time to complete.
    }
  }
  sequenceNumber: Natural with {
    briefly "Sequence"
    described as {
      |Order in module.
    }
  }
  required: Boolean with {
    briefly "Required"
    described as {
      |Is content required.
    }
  }
} with {
  briefly "Content item"
  described as {
    |Individual learning content.
  }
}
type Enrollment is {
  enrollmentId: EnrollmentId with {
    briefly "Enrollment ID"
    described as {
      |Enrollment identifier.
    }
  }
  learnerId: LearnerId with {
    briefly "Learner"
    described as {
      |Enrolled learner.
    }
  }
  courseId: CourseId with {
    briefly "Course"
    described as {
      |Enrolled course.
    }
  }
  enrolledAt: TimeStamp with {
    briefly "Enrolled"
    described as {
      |Enrollment time.
    }
  }
  enrollmentStatus: EnrollmentStatus with {
    briefly "Status"
    described as {
      |Enrollment status.
    }
  }
  courseProgress: CourseProgress with {
    briefly "Progress"
    described as {
      |Current progress.
    }
  }
  enrollmentCompletedAt: TimeStamp? with {
    briefly "Completed"
    described as {
      |Completion time.
    }
  }
} with {
  briefly "Enrollment"
  described as {
    |Learner course enrollment.
  }
}
type CourseProgress is {
  percentComplete: Decimal(5,2) with {
    briefly "Percent"
    described as {
      |Completion percentage.
    }
  }
  modulesCompleted: Natural with {
    briefly "Modules"
    described as {
      |Completed modules count.
    }
  }
  totalModules: Natural with {
    briefly "Total"
    described as {
      |Total modules.
    }
  }
  lastAccessedAt: TimeStamp with {
    briefly "Last access"
    described as {
      |Last activity time.
    }
  }
  timeSpent: Duration with {
    briefly "Time spent"
    described as {
      |Total learning time.
    }
  }
} with {
  briefly "Course progress"
  described as {
    |Learner progress in course.
  }
}
type ContentProgress is {
  contentId: ContentId with {
    briefly "Content"
    described as {
      |Content item.
    }
  }
  progressStatus: ProgressStatus with {
    briefly "Status"
    described as {
      |Completion status.
    }
  }
  updatedStartedAt: TimeStamp? with {
    briefly "Started"
    described as {
      |Start time.
    }
  }
  updatedCompletedAt: TimeStamp? with {
    briefly "Completed"
    described as {
      |Completion time.
    }
  }
  attempts: Natural with {
    briefly "Attempts"
    described as {
      |Number of attempts.
    }
  }
  timeSpent: Duration with {
    briefly "Time"
    described as {
      |Time on content.
    }
  }
} with {
  briefly "Content progress"
  described as {
    |Progress on content item.
  }
}
type Assessment is {
  assessmentId: AssessmentId with {
    briefly "Assessment ID"
    described as {
      |Assessment identifier.
    }
  }
  title: String(1,200) with {
    briefly "Title"
    described as {
      |Assessment title.
    }
  }
  assessmentType: AssessmentType with {
    briefly "Type"
    described as {
      |Assessment type.
    }
  }
  moduleId: ModuleId with {
    briefly "Module"
    described as {
      |Associated module.
    }
  }
  passingScore: Decimal(5,2) with {
    briefly "Passing score"
    described as {
      |Minimum passing score.
    }
  }
  maxAttempts: Natural with {
    briefly "Max attempts"
    described as {
      |Allowed attempts.
    }
  }
  timeLimit: Duration? with {
    briefly "Time limit"
    described as {
      |Time allowed.
    }
  }
  questions: Question+ with {
    briefly "Questions"
    described as {
      |Assessment questions.
    }
  }
} with {
  briefly "Assessment"
  described as {
    |Learning assessment definition.
  }
}
type Question is {
  questionId: UUID with {
    briefly "Question ID"
    described as {
      |Question identifier.
    }
  }
  text: String(1,2000) with {
    briefly "Text"
    described as {
      |Question text.
    }
  }
  questionType: QuestionType with {
    briefly "Type"
    described as {
      |Question type.
    }
  }
  points: Natural with {
    briefly "Points"
    described as {
      |Point value.
    }
  }
  options: String(1,500)* with {
    briefly "Options"
    described as {
      |Answer options.
    }
  }
} with {
  briefly "Question"
  described as {
    |Assessment question.
  }
}
type QuestionType is any of {
  MultipleChoice,
  TrueFalse,
  ShortAnswer,
  Essay,
  Matching,
  FillBlank
} with {
  briefly "Question type"
  described as {
    |Type of question.
  }
}
type AssessmentAttempt is {
  attemptId: UUID with {
    briefly "Attempt ID"
    described as {
      |Attempt identifier.
    }
  }
  assessmentId: AssessmentId with {
    briefly "Assessment"
    described as {
      |Assessment taken.
    }
  }
  learnerId: LearnerId with {
    briefly "Learner"
    described as {
      |Learner taking assessment.
    }
  }
  startedAt: TimeStamp with {
    briefly "Started"
    described as {
      |Attempt start time.
    }
  }
  updatedSubmittedAt: TimeStamp? with {
    briefly "Submitted"
    described as {
      |Submission time.
    }
  }
  updatedScore: Decimal(5,2)? with {
    briefly "Score"
    described as {
      |Achieved score.
    }
  }
  updatedPassed: Boolean? with {
    briefly "Passed"
    described as {
      |Whether passed.
    }
  }
  answers: QuestionAnswer+ with {
    briefly "Answers"
    described as {
      |Submitted answers.
    }
  }
} with {
  briefly "Assessment attempt"
  described as {
    |Learner assessment attempt.
  }
}
type QuestionAnswer is {
  questionId: UUID with {
    briefly "Question"
    described as {
      |Question answered.
    }
  }
  answer: String(1,5000) with {
    briefly "Answer"
    described as {
      |Submitted answer.
    }
  }
  correct: Boolean? with {
    briefly "Correct"
    described as {
      |Whether correct.
    }
  }
  pointsAwarded: Natural? with {
    briefly "Points"
    described as {
      |Points awarded.
    }
  }
} with {
  briefly "Question answer"
  described as {
    |Answer to question.
  }
}
