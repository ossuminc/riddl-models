// Student Information - External Contexts

// Financial Aid Service
context FinancialAidService is {

  event FinancialAidAwarded is {
    studentId is StudentId with { briefly "Student" described by "Student ID." }
    awardId is UUID with { briefly "Award" described by "Award ID." }
    amount is Decimal(10, 2) with { briefly "Amount" described by "Award amount." }
    awardType is String(1, 50) with { briefly "Type" described by "Award type." }
    awardedAt is TimeStamp with { briefly "Awarded" described by "Award time." }
  } with {
    briefly "Aid was awarded"
    described by "Emitted when financial aid is awarded."
  }

  event AidStatusChanged is {
    studentId is StudentId with { briefly "Student" described by "Student ID." }
    awardId is UUID with { briefly "Award" described by "Award ID." }
    aidStatus is String(1, 50) with { briefly "Status" described by "New status." }
    changedAt is TimeStamp with { briefly "Changed" described by "Change time." }
  } with {
    briefly "Aid status changed"
    described by "Emitted when aid status changes."
  }

} with {
  option is external
  briefly "External financial aid service"
  described by "External financial aid system."
}

// Admissions Service
context AdmissionsService is {

  event ApplicationReceived is {
    applicationId is UUID with { briefly "Application" described by "Application ID." }
    applicantName is String(1, 200) with { briefly "Name" described by "Applicant name." }
    programId is ProgramId with { briefly "Program" described by "Applied program." }
    receivedAt is TimeStamp with { briefly "Received" described by "Receipt time." }
  } with {
    briefly "Application was received"
    described by "Emitted when application arrives."
  }

  event AdmissionDecisionMade is {
    applicationId is UUID with { briefly "Application" described by "Application ID." }
    decision is String(1, 50) with { briefly "Decision" described by "Admit/Deny/Waitlist." }
    decidedAt is TimeStamp with { briefly "Decided" described by "Decision time." }
  } with {
    briefly "Decision was made"
    described by "Emitted when admission decision is made."
  }

} with {
  option is external
  briefly "External admissions service"
  described by "External admissions system."
}

// Transcript Service
context TranscriptService is {

  command RequestTranscript is {
    studentId is StudentId with { briefly "Student" described by "Student ID." }
    recipientName is String(1, 200) with { briefly "Recipient" described by "Recipient name." }
    recipientAddress is String(1, 500) with { briefly "Address" described by "Delivery address." }
    official is Boolean with { briefly "Official" described by "Is official transcript." }
  } with {
    briefly "Request transcript"
    described by "Requests transcript copy."
  }

  event TranscriptGenerated is {
    transcriptId is TranscriptId with { briefly "Transcript" described by "Transcript ID." }
    studentId is StudentId with { briefly "Student" described by "Student ID." }
    generatedAt is TimeStamp with { briefly "Generated" described by "Generation time." }
  } with {
    briefly "Transcript was generated"
    described by "Emitted when transcript is created."
  }

  event TranscriptDelivered is {
    transcriptId is TranscriptId with { briefly "Transcript" described by "Transcript ID." }
    deliveredAt is TimeStamp with { briefly "Delivered" described by "Delivery time." }
    deliveryMethod is String(1, 50) with { briefly "Method" described by "Delivery method." }
  } with {
    briefly "Transcript was delivered"
    described by "Emitted when transcript is sent."
  }

} with {
  option is external
  briefly "External transcript service"
  described by "External transcript processing system."
}

// Identity Verification Service
context IdentityService is {

  command VerifyIdentity is {
    studentId is StudentId with { briefly "Student" described by "Student ID." }
    documentType is String(1, 50) with { briefly "Document" described by "Document type." }
    documentNumber is String(1, 100) with { briefly "Number" described by "Document number." }
  } with {
    briefly "Verify identity"
    described by "Verifies student identity."
  }

  event IdentityVerified is {
    studentId is StudentId with { briefly "Student" described by "Student ID." }
    verificationId is UUID with { briefly "Verification" described by "Verification ID." }
    verifiedAt is TimeStamp with { briefly "Verified" described by "Verification time." }
  } with {
    briefly "Identity was verified"
    described by "Emitted when identity is confirmed."
  }

} with {
  option is external
  briefly "External identity service"
  described by "External identity verification system."
}
