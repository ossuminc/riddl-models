// Portfolio Operations - Shared Types

type PortfolioCompanyId is Id(PortfolioOpsContext.PortfolioCompany) with {
  briefly "Portfolio company identifier"
  described by "Unique identifier for a portfolio company."
}

type FundId is UUID with {
  briefly "Fund identifier"
  described by "Reference to the PE fund owning the company."
}

type InitiativeId is UUID with {
  briefly "Initiative identifier"
  described by "Reference to a value creation initiative."
}

type BoardMeetingId is UUID with {
  briefly "Board meeting identifier"
  described by "Reference to a board meeting."
}

type CompanyStatus is any of {
  Onboarding,
  Active,
  UnderReview,
  ExitReady,
  ExitInProgress,
  Exited,
  WrittenOff
} with {
  briefly "Company status"
  described by "Portfolio company lifecycle status."
}

type IndustrySegment is any of {
  Technology,
  Healthcare,
  Manufacturing,
  ConsumerGoods,
  FinancialServices,
  BusinessServices,
  IndustrialProducts,
  MediaEntertainment
} with {
  briefly "Industry segment"
  described by "Industry classification of portfolio company."
}

type InitiativeStatus is any of {
  Planned,
  InProgress,
  OnTrack,
  AtRisk,
  Completed,
  Abandoned
} with {
  briefly "Initiative status"
  described by "Status of a value creation initiative."
}

type ExitStrategy is any of {
  StrategicSale,
  SecondaryBuyout,
  InitialPublicOffering,
  Recapitalization,
  Management
} with {
  briefly "Exit strategy"
  described by "Planned exit path for the portfolio company."
}

type ExitReadiness is any of {
  NotReady,
  EarlyPreparation,
  ActivePreparation,
  MarketReady,
  InProcess
} with {
  briefly "Exit readiness"
  described by "Current exit readiness assessment level."
}

type FinancialMetrics is {
  revenue is Decimal(14, 2) with {
    briefly "Revenue"
    described by "Annual revenue."
  }
  ebitda is Decimal(14, 2) with {
    briefly "EBITDA"
    described by "Earnings before interest, taxes, depreciation, amortization."
  }
  ebitdaMargin is Decimal(5, 2) with {
    briefly "EBITDA margin"
    described by "EBITDA as percentage of revenue."
  }
  netDebt is Decimal(14, 2) with {
    briefly "Net debt"
    described by "Total debt minus cash."
  }
  leverageRatio is Decimal(5, 2) with {
    briefly "Leverage ratio"
    described by "Net debt to EBITDA ratio."
  }
  freeCashFlow is Decimal(14, 2) with {
    briefly "Free cash flow"
    described by "Cash flow after capital expenditures."
  }
  reportingPeriod is Date with {
    briefly "Period"
    described by "Financial reporting period end date."
  }
} with {
  briefly "Financial metrics"
  described by "Key financial performance indicators."
}

type OperationalKPI is {
  kpiName is String(3, 100) with {
    briefly "KPI name"
    described by "Name of the operational metric."
  }
  currentValue is Decimal(14, 4) with {
    briefly "Current"
    described by "Current KPI value."
  }
  targetValue is Decimal(14, 4) with {
    briefly "Target"
    described by "Target KPI value."
  }
  unit is String(1, 50) with {
    briefly "Unit"
    described by "Unit of measurement."
  }
  measuredAt is Date with {
    briefly "Measured"
    described by "Measurement date."
  }
} with {
  briefly "Operational KPI"
  described by "An operational key performance indicator."
}

type ValueCreationInitiative is {
  initiativeId is InitiativeId with {
    briefly "Initiative ID"
    described by "Initiative identifier."
  }
  title is String(3, 200) with {
    briefly "Title"
    described by "Initiative title."
  }
  category is String(3, 100) with {
    briefly "Category"
    described by "Initiative category such as revenue growth or cost reduction."
  }
  status is InitiativeStatus with {
    briefly "Status"
    described by "Initiative status."
  }
  targetImpact is Decimal(14, 2) with {
    briefly "Target impact"
    described by "Projected EBITDA impact."
  }
  actualImpact is optional Decimal(14, 2) with {
    briefly "Actual impact"
    described by "Realized EBITDA impact."
  }
  owner is String(3, 100) with {
    briefly "Owner"
    described by "Person responsible for initiative."
  }
  startDate is Date with {
    briefly "Start"
    described by "Initiative start date."
  }
  targetEndDate is Date with {
    briefly "Target end"
    described by "Planned completion date."
  }
} with {
  briefly "Value creation initiative"
  described by "A specific initiative in the value creation plan."
}

type BoardDirector is {
  directorName is String(3, 100) with {
    briefly "Name"
    described by "Director full name."
  }
  role is String(3, 100) with {
    briefly "Role"
    described by "Director role such as Chairman or Independent."
  }
  appointedDate is Date with {
    briefly "Appointed"
    described by "Date appointed to board."
  }
} with {
  briefly "Board director"
  described by "A member of the portfolio company board."
}

type BoardMeeting is {
  meetingId is BoardMeetingId with {
    briefly "Meeting ID"
    described by "Board meeting identifier."
  }
  meetingDate is Date with {
    briefly "Date"
    described by "Meeting date."
  }
  attendees is many String(3, 100) with {
    briefly "Attendees"
    described by "Meeting attendees."
  }
  resolutions is many String(3, 500) with {
    briefly "Resolutions"
    described by "Meeting resolutions."
  }
  nextMeetingDate is optional Date with {
    briefly "Next meeting"
    described by "Next scheduled meeting date."
  }
} with {
  briefly "Board meeting"
  described by "A board governance meeting record."
}

type InvestmentSummary is {
  investedCapital is Decimal(14, 2) with {
    briefly "Invested"
    described by "Total capital invested."
  }
  currentValuation is Decimal(14, 2) with {
    briefly "Valuation"
    described by "Current estimated valuation."
  }
  multipleOnInvested is Decimal(5, 2) with {
    briefly "MOIC"
    described by "Multiple on invested capital."
  }
  internalRateOfReturn is optional Decimal(5, 2) with {
    briefly "IRR"
    described by "Internal rate of return."
  }
  holdingPeriodYears is Decimal(4, 1) with {
    briefly "Holding period"
    described by "Years since acquisition."
  }
} with {
  briefly "Investment summary"
  described by "Investment performance summary."
}
