// Portfolio Management - Shared Types

type Year is Integer with {
  briefly "Year"
  described by "A calendar year."
}

type PortfolioCompanyId is Id(PortfolioContext.PortfolioCompany) with {
  briefly "Portfolio company identifier"
  described by "Unique identifier for a portfolio company."
}

type FundId is UUID with {
  briefly "Fund identifier"
  described by "Reference to the investing fund."
}

type ValuationId is UUID with {
  briefly "Valuation identifier"
  described by "Reference to a valuation record."
}

type BoardMemberId is UUID with {
  briefly "Board member identifier"
  described by "Reference to a board member."
}

type PortfolioStatus is any of {
  Prospective,
  UnderDiligence,
  Committed,
  Active,
  Exited,
  WrittenOff
} with {
  briefly "Portfolio company status"
  described by "Current status of portfolio investment."
}

type ExitType is any of {
  IPO,
  StrategicSale,
  SecondaryBuyout,
  Recapitalization,
  Management,
  WriteOff
} with {
  briefly "Exit type"
  described by "Type of investment exit."
}

type ValuationMethod is any of {
  ComparableCompanies,
  PrecedentTransactions,
  DiscountedCashFlow,
  LastRound,
  RevenueMultiple,
  EBITDAMultiple
} with {
  briefly "Valuation method"
  described by "Method used for valuation."
}

type InvestmentType is any of {
  Equity,
  PreferredEquity,
  ConvertibleNote,
  MezzanineDebt,
  SeniorDebt
} with {
  briefly "Investment type"
  described by "Type of investment instrument."
}

type MonetaryAmount is {
  amount is Decimal(18, 2) with {
    briefly "Amount"
    described by "Monetary amount."
  }
  currency is String(3, 3) with {
    briefly "Currency"
    described by "ISO currency code."
  }
} with {
  briefly "Monetary amount"
  described by "Amount with currency."
}

type CompanyInfo is {
  name is String(1, 200) with {
    briefly "Company name"
    described by "Name of the portfolio company."
  }
  industry is String(1, 100) with {
    briefly "Industry"
    described by "Primary industry sector."
  }
  headquarters is String(1, 200) with {
    briefly "Headquarters"
    described by "Location of headquarters."
  }
  yearFounded is Year with {
    briefly "Year founded"
    described by "Year company was founded."
  }
  employees is Natural with {
    briefly "Employees"
    described by "Number of employees."
  }
  website is optional URL with {
    briefly "Website"
    described by "Company website."
  }
  description is String(1, 2000) with {
    briefly "Description"
    described by "Business description."
  }
} with {
  briefly "Company information"
  described by "Basic portfolio company details."
}

type InvestmentInfo is {
  fundId is FundId with {
    briefly "Fund"
    described by "Investing fund identifier."
  }
  investmentType is InvestmentType with {
    briefly "Investment type"
    described by "Type of investment."
  }
  initialInvestment is MonetaryAmount with {
    briefly "Initial investment"
    described by "Initial investment amount."
  }
  totalInvested is MonetaryAmount with {
    briefly "Total invested"
    described by "Total capital invested."
  }
  ownershipPercent is Decimal(5, 2) with {
    briefly "Ownership"
    described by "Ownership percentage."
  }
  investmentDate is Date with {
    briefly "Investment date"
    described by "Date of initial investment."
  }
  boardSeats is Natural with {
    briefly "Board seats"
    described by "Number of board seats held."
  }
} with {
  briefly "Investment information"
  described by "Details of the investment."
}

type ValuationInfo is {
  valuationId is ValuationId with {
    briefly "Valuation ID"
    described by "Valuation identifier."
  }
  valuationDate is Date with {
    briefly "Valuation date"
    described by "Date of valuation."
  }
  method is ValuationMethod with {
    briefly "Method"
    described by "Valuation method used."
  }
  enterpriseValue is MonetaryAmount with {
    briefly "Enterprise value"
    described by "Total enterprise value."
  }
  equityValue is MonetaryAmount with {
    briefly "Equity value"
    described by "Equity value."
  }
  portionValue is MonetaryAmount with {
    briefly "Our portion"
    described by "Value of our ownership."
  }
  multiple is Decimal(6, 2) with {
    briefly "Multiple"
    described by "Return multiple (MOIC)."
  }
  notes is optional String(1, 2000) with {
    briefly "Notes"
    described by "Valuation notes."
  }
} with {
  briefly "Valuation information"
  described by "Company valuation details."
}

type FinancialMetrics is {
  reportingPeriod is Date with {
    briefly "Period"
    described by "Reporting period end date."
  }
  revenue is MonetaryAmount with {
    briefly "Revenue"
    described by "Total revenue."
  }
  ebitda is MonetaryAmount with {
    briefly "EBITDA"
    described by "EBITDA."
  }
  netIncome is MonetaryAmount with {
    briefly "Net income"
    described by "Net income."
  }
  cashPosition is MonetaryAmount with {
    briefly "Cash"
    described by "Cash and equivalents."
  }
  totalDebt is MonetaryAmount with {
    briefly "Debt"
    described by "Total debt."
  }
  revenueGrowth is Decimal(6, 2) with {
    briefly "Revenue growth"
    described by "Year-over-year revenue growth."
  }
  ebitdaMargin is Decimal(5, 2) with {
    briefly "EBITDA margin"
    described by "EBITDA as percent of revenue."
  }
} with {
  briefly "Financial metrics"
  described by "Company financial performance."
}

type BoardMember is {
  memberId is BoardMemberId with {
    briefly "Member ID"
    described by "Board member identifier."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Board member name."
  }
  role is String(1, 100) with {
    briefly "Role"
    described by "Board role (e.g., Director, Observer)."
  }
  appointedDate is Date with {
    briefly "Appointed"
    described by "Date appointed to board."
  }
  representing is String(1, 100) with {
    briefly "Representing"
    described by "Entity represented."
  }
} with {
  briefly "Board member"
  described by "Board member information."
}

type ExitInfo is {
  exitType is ExitType with {
    briefly "Exit type"
    described by "Type of exit."
  }
  exitDate is Date with {
    briefly "Exit date"
    described by "Date of exit."
  }
  exitProceeds is MonetaryAmount with {
    briefly "Proceeds"
    described by "Exit proceeds received."
  }
  realizedMultiple is Decimal(6, 2) with {
    briefly "Multiple"
    described by "Realized return multiple."
  }
  irr is Decimal(6, 2) with {
    briefly "IRR"
    described by "Internal rate of return."
  }
  buyer is optional String(1, 200) with {
    briefly "Buyer"
    described by "Acquirer or exit counterparty."
  }
  notes is optional String(1, 2000) with {
    briefly "Notes"
    described by "Exit notes."
  }
} with {
  briefly "Exit information"
  described by "Investment exit details."
}

type FollowOnInvestment is {
  investmentDate is Date with {
    briefly "Date"
    described by "Follow-on investment date."
  }
  amount is MonetaryAmount with {
    briefly "Amount"
    described by "Investment amount."
  }
  investmentType is InvestmentType with {
    briefly "Type"
    described by "Investment type."
  }
  round is String(1, 50) with {
    briefly "Round"
    described by "Investment round name."
  }
  notes is optional String(1, 1000) with {
    briefly "Notes"
    described by "Investment notes."
  }
} with {
  briefly "Follow-on investment"
  described by "Additional investment in portfolio company."
}
