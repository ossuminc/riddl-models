// Fund Accounting Domain Model
// Domain for managing investment fund accounting operations including
// NAV calculations, transaction processing, and regulatory reporting.
domain FundAccounting is {
  author OssumInc is {
    name = "Ossum Inc."
    email = "support@ossuminc.com"
    organization ="Ossum Inc."
    title = "Domain Model Author"
  } with {
    briefly "Primary author and maintainer of this domain model"
    described as {
      | Ossum Inc. is the creator and maintainer of this fund accounting
      | domain model, providing industry-standard patterns for investment
      | management systems.
    }
  }
  user PortfolioManager is "A portfolio manager who oversees fund investments" with {
    briefly "Investment professional managing fund portfolios"
    described as {
      | Portfolio managers are responsible for making investment decisions,
      | monitoring fund performance, and ensuring compliance with fund
      | investment mandates and regulatory requirements.
    }
  }
  user FundAccountant is "An accountant responsible for fund accounting operations" with {
    briefly "Accounting professional handling fund financial records"
    described as {
      | Fund accountants handle daily NAV calculations, transaction
      | processing, reconciliation, and preparation of financial
      | statements for investment funds.
    }
  }
  user ComplianceOfficer is "A compliance officer monitoring regulatory adherence" with {
    briefly "Professional ensuring regulatory compliance"
    described as {
      | Compliance officers monitor fund activities to ensure adherence
      | to regulatory requirements, investment guidelines, and internal
      | policies.
    }
  }
  user Investor is "An investor who has capital invested in funds" with {
    briefly "Individual or institution with fund investments"
    described as {
      | Investors are individuals or institutions who have invested
      | capital in one or more funds and receive periodic statements
      | and distributions.
    }
  }
  include "FundContext.riddl"
  include "external-contexts.riddl"
  epic FundOperations is {
    user FundAccountant wants to "manage daily fund accounting operations" so that "accurate NAV values are calculated and reported"
    case CalculateDailyNAV is {
      user FundAccountant wants to "calculate the daily NAV for a fund" so that "investors know the current value of their holdings"
      step from user FundAccountant "initiates NAV calculation" to entity FundContext.Fund
      step send command FundContext.Fund.CalculateNAV from user FundAccountant to entity FundContext.Fund
      step from entity FundContext.Fund "processes market data and calculates NAV" to entity FundContext.Fund
    } with {
      briefly "Process for calculating daily Net Asset Value"
      described as {
        | This use case describes the end-of-day process where a fund
        | accountant initiates the NAV calculation, the system processes
        | current market data and portfolio holdings, and produces the
        | official NAV for the day.
      }
    }
    case ProcessTransaction is {
      user FundAccountant wants to "record a new fund transaction" so that "all portfolio changes are accurately tracked"
      step from user FundAccountant "enters transaction details" to entity FundContext.Fund
      step send command FundContext.Fund.RecordTransaction from user FundAccountant to entity FundContext.Fund
      step from entity FundContext.Fund "validates and records transaction" to entity FundContext.Fund
    } with {
      briefly "Process for recording fund transactions"
      described as {
        | This use case covers the recording of transactions such as
        | security purchases, sales, dividends received, and other
        | portfolio activities that affect fund holdings and NAV.
      }
    }
  } with {
    briefly "Epic covering daily fund accounting operations"
    described as {
      | This epic encompasses the core daily operations performed by
      | fund accountants including NAV calculations, transaction
      | processing, reconciliation, and reporting activities.
    }
  }
} with {
  briefly "Domain model for investment fund accounting"
  described as {
    | The Fund Accounting domain provides a comprehensive model for
    | managing investment fund operations. It supports daily NAV
    | calculations, transaction processing, investor accounting,
    | regulatory reporting, and integration with market data providers
    | and custodian systems.
  }
}
