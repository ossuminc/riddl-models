// Investment Portfolio - Shared Types

type PortfolioId is Id(PortfolioContext.Portfolio) with {
  briefly "Portfolio identifier"
  described by "Unique identifier for an investment portfolio."
}

type AccountId is UUID with {
  briefly "Account identifier"
  described by "Reference to an investment account."
}

type BenchmarkId is UUID with {
  briefly "Benchmark identifier"
  described by "Reference to a benchmark index."
}

type SecurityId is UUID with {
  briefly "Security identifier"
  described by "Reference to a financial security."
}

type TradeId is UUID with {
  briefly "Trade identifier"
  described by "Reference to a trade execution."
}

type PortfolioStatus is any of {
  Draft,
  Active,
  Rebalancing,
  Suspended,
  Closed
} with {
  briefly "Portfolio status"
  described by "Lifecycle status of a portfolio."
}

type AssetClass is any of {
  Equity,
  FixedIncome,
  Cash,
  RealEstate,
  Commodities,
  Alternatives
} with {
  briefly "Asset class"
  described by "Classification of asset types."
}

type TradeAction is any of {
  Buy,
  Sell,
  ShortSell,
  Cover
} with {
  briefly "Trade action"
  described by "Type of trade action to execute."
}

type TradeStatus is any of {
  Pending,
  Submitted,
  Filled,
  PartiallyFilled,
  Rejected,
  Cancelled
} with {
  briefly "Trade status"
  described by "Execution status of a trade."
}

type RiskLevel is any of {
  Low,
  Moderate,
  High,
  Critical
} with {
  briefly "Risk level"
  described by "Portfolio risk assessment level."
}

type AllocationTarget is {
  assetClass is AssetClass with {
    briefly "Asset class"
    described by "Target asset class."
  }
  targetPercent is Decimal(5, 2) with {
    briefly "Target percent"
    described by "Target allocation percentage."
  }
  minPercent is Decimal(5, 2) with {
    briefly "Minimum percent"
    described by "Minimum allowed percentage."
  }
  maxPercent is Decimal(5, 2) with {
    briefly "Maximum percent"
    described by "Maximum allowed percentage."
  }
} with {
  briefly "Allocation target"
  described by "Target allocation for an asset class."
}

type Holding is {
  securityId is SecurityId with {
    briefly "Security"
    described by "Security identifier."
  }
  assetClass is AssetClass with {
    briefly "Asset class"
    described by "Asset classification."
  }
  quantity is Decimal(15, 4) with {
    briefly "Quantity"
    described by "Number of units held."
  }
  marketValue is Decimal(15, 2) with {
    briefly "Market value"
    described by "Current market value."
  }
  costBasis is Decimal(15, 2) with {
    briefly "Cost basis"
    described by "Original cost basis."
  }
  weightPercent is Decimal(5, 2) with {
    briefly "Weight"
    described by "Portfolio weight percentage."
  }
} with {
  briefly "Portfolio holding"
  described by "A security position within a portfolio."
}

type TradeOrder is {
  tradeId is TradeId with {
    briefly "Trade ID"
    described by "Trade identifier."
  }
  securityId is SecurityId with {
    briefly "Security"
    described by "Security to trade."
  }
  action is TradeAction with {
    briefly "Action"
    described by "Buy or sell action."
  }
  quantity is Decimal(15, 4) with {
    briefly "Quantity"
    described by "Number of units to trade."
  }
  limitPrice is optional Decimal(15, 4) with {
    briefly "Limit price"
    described by "Limit price if applicable."
  }
  status is TradeStatus with {
    briefly "Status"
    described by "Current trade status."
  }
  submittedAt is optional TimeStamp with {
    briefly "Submitted"
    described by "Submission timestamp."
  }
  filledAt is optional TimeStamp with {
    briefly "Filled"
    described by "Fill timestamp."
  }
  filledPrice is optional Decimal(15, 4) with {
    briefly "Filled price"
    described by "Execution price."
  }
} with {
  briefly "Trade order"
  described by "An order to buy or sell a security."
}

type BenchmarkComparison is {
  benchmarkId is BenchmarkId with {
    briefly "Benchmark"
    described by "Benchmark identifier."
  }
  benchmarkName is String(3, 100) with {
    briefly "Name"
    described by "Benchmark name."
  }
  portfolioReturn is Decimal(8, 4) with {
    briefly "Portfolio return"
    described by "Portfolio return percentage."
  }
  benchmarkReturn is Decimal(8, 4) with {
    briefly "Benchmark return"
    described by "Benchmark return percentage."
  }
  trackingError is Decimal(8, 4) with {
    briefly "Tracking error"
    described by "Tracking error versus benchmark."
  }
} with {
  briefly "Benchmark comparison"
  described by "Portfolio performance versus benchmark."
}

type RiskMetrics is {
  riskLevel is RiskLevel with {
    briefly "Risk level"
    described by "Overall risk assessment."
  }
  volatility is Decimal(8, 4) with {
    briefly "Volatility"
    described by "Annualized volatility."
  }
  sharpeRatio is Decimal(8, 4) with {
    briefly "Sharpe ratio"
    described by "Risk-adjusted return ratio."
  }
  maxDrawdown is Decimal(8, 4) with {
    briefly "Max drawdown"
    described by "Maximum peak-to-trough decline."
  }
  valueAtRisk is Decimal(15, 2) with {
    briefly "VaR"
    described by "Value at risk at 95 percent confidence."
  }
} with {
  briefly "Risk metrics"
  described by "Portfolio risk analysis metrics."
}
