// Investment Portfolio - Shared Types
type PortfolioId is Id(PortfolioContext.Portfolio)  with {
  briefly "Portfolio identifier"
  described as {
    |Unique identifier for an investment portfolio.
  }
}
type AccountId is UUID with {
  briefly "Account identifier"
  described as {
    |Reference to an investment account.
  }
}
type BenchmarkId is UUID with {
  briefly "Benchmark identifier"
  described as {
    |Reference to a benchmark index.
  }
}
type SecurityId is UUID with {
  briefly "Security identifier"
  described as {
    |Reference to a financial security.
  }
}
type TradeId is UUID with {
  briefly "Trade identifier"
  described as {
    |Reference to a trade execution.
  }
}
type PortfolioStatus is any of {
  Draft,
  Active,
  Rebalancing,
  Suspended,
  Closed
} with {
  briefly "Portfolio status"
  described as {
    |Lifecycle status of a portfolio.
  }
}
type AssetClass is any of {
  Equity,
  FixedIncome,
  Cash,
  RealEstate,
  Commodities,
  Alternatives
} with {
  briefly "Asset class"
  described as {
    |Classification of asset types.
  }
}
type TradeAction is any of {
  Buy,
  Sell,
  ShortSell,
  Cover
} with {
  briefly "Trade action"
  described as {
    |Type of trade action to execute.
  }
}
type TradeStatus is any of {
  Pending,
  Submitted,
  Filled,
  PartiallyFilled,
  Rejected,
  Cancelled
} with {
  briefly "Trade status"
  described as {
    |Execution status of a trade.
  }
}
type RiskLevel is any of {
  Low,
  Moderate,
  High,
  Critical
} with {
  briefly "Risk level"
  described as {
    |Portfolio risk assessment level.
  }
}
type AllocationTarget is {
  assetClass: AssetClass with {
    briefly "Asset class"
    described as {
      |Target asset class.
    }
  }
  targetPercent: Decimal(5,2) with {
    briefly "Target percent"
    described as {
      |Target allocation percentage.
    }
  }
  minPercent: Decimal(5,2) with {
    briefly "Minimum percent"
    described as {
      |Minimum allowed percentage.
    }
  }
  maxPercent: Decimal(5,2) with {
    briefly "Maximum percent"
    described as {
      |Maximum allowed percentage.
    }
  }
} with {
  briefly "Allocation target"
  described as {
    |Target allocation for an asset class.
  }
}
type Holding is {
  securityId: SecurityId with {
    briefly "Security"
    described as {
      |Security identifier.
    }
  }
  assetClass: AssetClass with {
    briefly "Asset class"
    described as {
      |Asset classification.
    }
  }
  quantity: Decimal(15,4) with {
    briefly "Quantity"
    described as {
      |Number of units held.
    }
  }
  marketValue: Decimal(15,2) with {
    briefly "Market value"
    described as {
      |Current market value.
    }
  }
  costBasis: Decimal(15,2) with {
    briefly "Cost basis"
    described as {
      |Original cost basis.
    }
  }
  weightPercent: Decimal(5,2) with {
    briefly "Weight"
    described as {
      |Portfolio weight percentage.
    }
  }
} with {
  briefly "Portfolio holding"
  described as {
    |A security position within a portfolio.
  }
}
type TradeOrder is {
  tradeId: TradeId with {
    briefly "Trade ID"
    described as {
      |Trade identifier.
    }
  }
  securityId: SecurityId with {
    briefly "Security"
    described as {
      |Security to trade.
    }
  }
  action: TradeAction with {
    briefly "Action"
    described as {
      |Buy or sell action.
    }
  }
  quantity: Decimal(15,4) with {
    briefly "Quantity"
    described as {
      |Number of units to trade.
    }
  }
  limitPrice: Decimal(15,4)? with {
    briefly "Limit price"
    described as {
      |Limit price if applicable.
    }
  }
  tradeStatus: TradeStatus with {
    briefly "Trade Status"
    described as {
      |Current trade status.
    }
  }
  tradeSubmittedAt: TimeStamp? with {
    briefly "Submitted"
    described as {
      |Submission timestamp.
    }
  }
  tradeFilledAt: TimeStamp? with {
    briefly "Filled"
    described as {
      |Fill timestamp.
    }
  }
  tradeFilledPrice: Decimal(15,4)? with {
    briefly "Filled price"
    described as {
      |Execution price.
    }
  }
} with {
  briefly "Trade order"
  described as {
    |An order to buy or sell a security.
  }
}
type BenchmarkComparison is {
  benchmarkId: BenchmarkId with {
    briefly "Benchmark"
    described as {
      |Benchmark identifier.
    }
  }
  benchmarkName: String(3,100) with {
    briefly "Name"
    described as {
      |Benchmark name.
    }
  }
  portfolioReturn: Decimal(8,4) with {
    briefly "Portfolio return"
    described as {
      |Portfolio return percentage.
    }
  }
  benchmarkReturn: Decimal(8,4) with {
    briefly "Benchmark return"
    described as {
      |Benchmark return percentage.
    }
  }
  trackingError: Decimal(8,4) with {
    briefly "Tracking error"
    described as {
      |Tracking error versus benchmark.
    }
  }
} with {
  briefly "Benchmark comparison"
  described as {
    |Portfolio performance versus benchmark.
  }
}
type RiskMetrics is {
  riskLevel: RiskLevel with {
    briefly "Risk level"
    described as {
      |Overall risk assessment.
    }
  }
  volatility: Decimal(8,4) with {
    briefly "Volatility"
    described as {
      |Annualized volatility.
    }
  }
  sharpeRatio: Decimal(8,4) with {
    briefly "Sharpe ratio"
    described as {
      |Risk-adjusted return ratio.
    }
  }
  maxDrawdown: Decimal(8,4) with {
    briefly "Max drawdown"
    described as {
      |Maximum peak-to-trough decline.
    }
  }
  valueAtRisk: Decimal(15,2) with {
    briefly "VaR"
    described as {
      |Value at risk at 95 percent confidence.
    }
  }
} with {
  briefly "Risk metrics"
  described as {
    |Portfolio risk analysis metrics.
  }
}
