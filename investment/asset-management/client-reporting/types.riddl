// Client Reporting - Shared Types

type ClientReportId is Id(ReportingContext.ClientReport) with {
  briefly "Client report identifier"
  described by "Unique identifier for a client report."
}

type PortfolioId is UUID with {
  briefly "Portfolio identifier"
  described by "Reference to an investment portfolio."
}

type ClientId is UUID with {
  briefly "Client identifier"
  described by "Reference to an asset management client."
}

type AccountId is UUID with {
  briefly "Account identifier"
  described by "Reference to an investment account."
}

type ReportStatus is any of {
  Requested,
  Gathering,
  Calculating,
  Composing,
  ReviewPending,
  Approved,
  Distributed,
  Failed,
  Archived
} with {
  briefly "Report status"
  described by "Client report processing status."
}

type ReportType is any of {
  Performance,
  Statement,
  Regulatory,
  TaxSummary,
  RiskAnalysis,
  CustomAnalytics
} with {
  briefly "Report type"
  described by "Type of client report."
}

type ReportFrequency is any of {
  Daily,
  Weekly,
  Monthly,
  Quarterly,
  Annual,
  AdHoc
} with {
  briefly "Report frequency"
  described by "How often the report is generated."
}

type DeliveryMethod is any of {
  PortalPublish,
  EmailAttachment,
  SecureDownload,
  PrintedMail,
  APIFeed
} with {
  briefly "Delivery method"
  described by "How the report is delivered to the client."
}

type ReportRequest is {
  reportId is ClientReportId with {
    briefly "Report ID"
    described by "Client report identifier."
  }
  clientId is ClientId with {
    briefly "Client"
    described by "Client identifier."
  }
  portfolioId is PortfolioId with {
    briefly "Portfolio"
    described by "Portfolio identifier."
  }
  reportType is ReportType with {
    briefly "Type"
    described by "Type of report."
  }
  frequency is ReportFrequency with {
    briefly "Frequency"
    described by "Report frequency."
  }
  periodStart is Date with {
    briefly "Period start"
    described by "Reporting period start date."
  }
  periodEnd is Date with {
    briefly "Period end"
    described by "Reporting period end date."
  }
  deliveryMethod is DeliveryMethod with {
    briefly "Delivery"
    described by "Report delivery method."
  }
} with {
  briefly "Report request"
  described by "Client report generation request details."
}

type HoldingRecord is {
  securityName is String(1, 200) with {
    briefly "Security"
    described by "Name of the security."
  }
  ticker is String(1, 20) with {
    briefly "Ticker"
    described by "Security ticker symbol."
  }
  quantity is Decimal(14, 4) with {
    briefly "Quantity"
    described by "Number of shares or units held."
  }
  marketValue is Decimal(14, 2) with {
    briefly "Market value"
    described by "Current market value."
  }
  costBasis is Decimal(14, 2) with {
    briefly "Cost basis"
    described by "Original cost basis."
  }
  unrealizedGain is Decimal(14, 2) with {
    briefly "Unrealized gain"
    described by "Unrealized gain or loss."
  }
  weightPercent is Decimal(5, 2) with {
    briefly "Weight"
    described by "Portfolio weight percentage."
  }
} with {
  briefly "Holding record"
  described by "Individual security holding in the portfolio."
}

type PerformanceMetrics is {
  totalReturn is Decimal(8, 4) with {
    briefly "Total return"
    described by "Total return for the period."
  }
  benchmarkReturn is Decimal(8, 4) with {
    briefly "Benchmark return"
    described by "Benchmark index return for comparison."
  }
  alpha is Decimal(8, 4) with {
    briefly "Alpha"
    described by "Excess return over benchmark."
  }
  volatility is Decimal(8, 4) with {
    briefly "Volatility"
    described by "Portfolio return volatility."
  }
  sharpeRatio is Decimal(8, 4) with {
    briefly "Sharpe ratio"
    described by "Risk-adjusted return ratio."
  }
  maxDrawdown is Decimal(8, 4) with {
    briefly "Max drawdown"
    described by "Maximum peak-to-trough decline."
  }
} with {
  briefly "Performance metrics"
  described by "Portfolio performance calculations."
}

type TransactionSummary is {
  purchases is Decimal(14, 2) with {
    briefly "Purchases"
    described by "Total purchases in period."
  }
  sales is Decimal(14, 2) with {
    briefly "Sales"
    described by "Total sales in period."
  }
  dividends is Decimal(14, 2) with {
    briefly "Dividends"
    described by "Total dividends received."
  }
  interest is Decimal(14, 2) with {
    briefly "Interest"
    described by "Total interest received."
  }
  fees is Decimal(14, 2) with {
    briefly "Fees"
    described by "Total management fees."
  }
  netCashFlow is Decimal(14, 2) with {
    briefly "Net cash flow"
    described by "Net cash flow for period."
  }
} with {
  briefly "Transaction summary"
  described by "Summary of transactions during the period."
}

type RegulatoryDisclosure is {
  disclosureType is String(1, 100) with {
    briefly "Type"
    described by "Disclosure type."
  }
  disclosureText is String(1, 5000) with {
    briefly "Text"
    described by "Disclosure text content."
  }
  effectiveDate is Date with {
    briefly "Effective"
    described by "Effective date of disclosure."
  }
} with {
  briefly "Regulatory disclosure"
  described by "Required regulatory disclosure item."
}

type ReportContent is {
  holdings is many HoldingRecord with {
    briefly "Holdings"
    described by "Portfolio holdings."
  }
  performance is PerformanceMetrics with {
    briefly "Performance"
    described by "Performance metrics."
  }
  transactions is TransactionSummary with {
    briefly "Transactions"
    described by "Transaction summary."
  }
  disclosures is many RegulatoryDisclosure with {
    briefly "Disclosures"
    described by "Regulatory disclosures."
  }
  commentary is optional String(1, 10000) with {
    briefly "Commentary"
    described by "Portfolio manager commentary."
  }
} with {
  briefly "Report content"
  described by "Complete report content sections."
}
