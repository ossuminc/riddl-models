// Deal Flow - Shared Types

type DealId is Id(DealContext.Deal) with {
  briefly "Deal identifier"
  described by "Unique identifier for a deal."
}

type CompanyId is UUID with {
  briefly "Company identifier"
  described by "Reference to a company."
}

type FundId is UUID with {
  briefly "Fund identifier"
  described by "Reference to a fund."
}

type ContactId is UUID with {
  briefly "Contact identifier"
  described by "Reference to a contact."
}

type DealStage is any of {
  Sourced,
  Screening,
  FirstMeeting,
  DueDiligence,
  TermSheet,
  Negotiation,
  Closing,
  Invested,
  Passed,
  Withdrawn
} with {
  briefly "Deal stage"
  described by "Current deal stage."
}

type InvestmentType is any of {
  Seed,
  SeriesA,
  SeriesB,
  SeriesC,
  Growth,
  Bridge,
  Secondary
} with {
  briefly "Investment type"
  described by "Type of investment round."
}

type Sector is any of {
  Software,
  Fintech,
  Healthcare,
  Consumer,
  Enterprise,
  DeepTech,
  Cleantech,
  Crypto,
  Other
} with {
  briefly "Sector"
  described by "Industry sector."
}

type DealSource is any of {
  Inbound,
  NetworkReferral,
  CoInvestor,
  Accelerator,
  Conference,
  ColdOutreach,
  PortfolioFounder,
  Other
} with {
  briefly "Deal source"
  described by "How deal was sourced."
}

type Priority is any of {
  High,
  Medium,
  Low
} with {
  briefly "Priority"
  described by "Deal priority."
}

type CompanyInfo is {
  companyId is CompanyId with {
    briefly "Company"
    described by "Company identifier."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Company name."
  }
  description is String(1, 2000) with {
    briefly "Description"
    described by "Company description."
  }
  website is optional URL with {
    briefly "Website"
    described by "Company website."
  }
  sector is Sector with {
    briefly "Sector"
    described by "Industry sector."
  }
  location is String(1, 200) with {
    briefly "Location"
    described by "Company location."
  }
  foundedYear is optional Natural with {
    briefly "Founded"
    described by "Year founded."
  }
  employeeCount is optional Natural with {
    briefly "Employees"
    described by "Employee count."
  }
} with {
  briefly "Company info"
  described by "Company details."
}

type FounderInfo is {
  contactId is ContactId with {
    briefly "Contact"
    described by "Contact identifier."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Founder name."
  }
  title is String(1, 100) with {
    briefly "Title"
    described by "Founder title."
  }
  email is String(5, 254) with {
    briefly "Email"
    described by "Email address."
  }
  linkedIn is optional URL with {
    briefly "LinkedIn"
    described by "LinkedIn profile."
  }
  background is optional String(1, 1000) with {
    briefly "Background"
    described by "Professional background."
  }
} with {
  briefly "Founder info"
  described by "Founder details."
}

type RoundDetails is {
  investmentType is InvestmentType with {
    briefly "Type"
    described by "Investment type."
  }
  targetRaise is Decimal(12, 2) with {
    briefly "Target"
    described by "Target raise amount."
  }
  preMoneyValuation is optional Decimal(12, 2) with {
    briefly "Pre-money"
    described by "Pre-money valuation."
  }
  minimumCheck is optional Decimal(12, 2) with {
    briefly "Minimum"
    described by "Minimum check size."
  }
  leadInvestor is optional String(1, 200) with {
    briefly "Lead"
    described by "Lead investor if any."
  }
  amountRaised is optional Decimal(12, 2) with {
    briefly "Raised"
    described by "Amount raised so far."
  }
  expectedCloseDate is optional Date with {
    briefly "Close date"
    described by "Expected close date."
  }
} with {
  briefly "Round details"
  described by "Funding round details."
}

type Metrics is {
  arr is optional Decimal(12, 2) with {
    briefly "ARR"
    described by "Annual recurring revenue."
  }
  mrr is optional Decimal(12, 2) with {
    briefly "MRR"
    described by "Monthly recurring revenue."
  }
  growth is optional Decimal(5, 2) with {
    briefly "Growth"
    described by "Growth rate percent."
  }
  burnRate is optional Decimal(12, 2) with {
    briefly "Burn"
    described by "Monthly burn rate."
  }
  runway is optional Natural with {
    briefly "Runway"
    described by "Months of runway."
  }
  customersCount is optional Natural with {
    briefly "Customers"
    described by "Customer count."
  }
  ltv is optional Decimal(12, 2) with {
    briefly "LTV"
    described by "Customer lifetime value."
  }
  cac is optional Decimal(12, 2) with {
    briefly "CAC"
    described by "Customer acquisition cost."
  }
} with {
  briefly "Metrics"
  described by "Company metrics."
}

type InvestmentThesis is {
  summary is String(1, 2000) with {
    briefly "Summary"
    described by "Thesis summary."
  }
  marketSize is optional String(1, 500) with {
    briefly "Market"
    described by "Market size assessment."
  }
  competitiveAdvantage is optional String(1, 500) with {
    briefly "Moat"
    described by "Competitive advantage."
  }
  risks is many optional String(1, 500) with {
    briefly "Risks"
    described by "Key risks."
  }
  exitPotential is optional String(1, 500) with {
    briefly "Exit"
    described by "Exit potential."
  }
} with {
  briefly "Investment thesis"
  described by "Investment thesis."
}

type DealNote is {
  noteId is UUID with {
    briefly "Note"
    described by "Note identifier."
  }
  author is String(1, 200) with {
    briefly "Author"
    described by "Note author."
  }
  content is String(1, 5000) with {
    briefly "Content"
    described by "Note content."
  }
  createdAt is TimeStamp with {
    briefly "Created"
    described by "Creation time."
  }
} with {
  briefly "Deal note"
  described by "Note on deal."
}

type MeetingRecord is {
  meetingId is UUID with {
    briefly "Meeting"
    described by "Meeting identifier."
  }
  meetingType is String(1, 50) with {
    briefly "Type"
    described by "Meeting type."
  }
  date is Date with {
    briefly "Date"
    described by "Meeting date."
  }
  attendees is many String(1, 200) with {
    briefly "Attendees"
    described by "Meeting attendees."
  }
  meetingNotes is String(1, 5000) with {
    briefly "Notes"
    described by "Meeting notes."
  }
} with {
  briefly "Meeting record"
  described by "Meeting details."
}

type InvestmentTerms is {
  checkSize is Decimal(12, 2) with {
    briefly "Check"
    described by "Investment amount."
  }
  ownership is Decimal(5, 2) with {
    briefly "Ownership"
    described by "Ownership percentage."
  }
  boardSeat is Boolean with {
    briefly "Board"
    described by "Board seat included."
  }
  proRataRights is Boolean with {
    briefly "Pro-rata"
    described by "Pro-rata rights."
  }
  otherTerms is optional String(1, 2000) with {
    briefly "Other"
    described by "Other terms."
  }
} with {
  briefly "Investment terms"
  described by "Proposed terms."
}
