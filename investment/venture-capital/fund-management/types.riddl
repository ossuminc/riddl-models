// Fund Management - Shared Types
type FundId is Id(FundContext.Fund)  with {
  briefly "Fund identifier"
  described as {
    |Unique identifier for a VC fund.
  }
}
type LPId is UUID with {
  briefly "LP identifier"
  described as {
    |Reference to a limited partner.
  }
}
type CapitalCallId is UUID with {
  briefly "Capital call identifier"
  described as {
    |Reference to a capital call.
  }
}
type DistributionId is UUID with {
  briefly "Distribution identifier"
  described as {
    |Reference to a distribution.
  }
}
type FundStatus is any of {
  Fundraising,
  FirstClose,
  FinalClose,
  InvestmentPeriod,
  HarvestPeriod,
  Liquidating,
  Closed
} with {
  briefly "Fund status"
  described as {
    |Fund lifecycle status.
  }
}
type LPStatus is any of {
  Prospective,
  Committed,
  Active,
  FullyInvested,
  FullyDistributed,
  Withdrawn
} with {
  briefly "LP status"
  described as {
    |Limited partner status.
  }
}
type FundInfo is {
  fundName: String(1,200) with {
    briefly "Name"
    described as {
      |Fund name.
    }
  }
  vintage: Natural with {
    briefly "Vintage"
    described as {
      |Fund vintage year.
    }
  }
  targetSize: Decimal(15,2) with {
    briefly "Target"
    described as {
      |Target fund size.
    }
  }
  managementFeeRate: Decimal(4,4) with {
    briefly "Mgmt fee"
    described as {
      |Annual management fee rate.
    }
  }
  carriedInterest: Decimal(4,4) with {
    briefly "Carry"
    described as {
      |Carried interest rate.
    }
  }
  investmentPeriodYears: Natural with {
    briefly "Investment period"
    described as {
      |Investment period in years.
    }
  }
  fundLifeYears: Natural with {
    briefly "Fund life"
    described as {
      |Total fund life in years.
    }
  }
} with {
  briefly "Fund info"
  described as {
    |Fund structure details.
  }
}
type LPCommitment is {
  lpId: LPId with {
    briefly "LP"
    described as {
      |LP identifier.
    }
  }
  lpName: String(1,200) with {
    briefly "Name"
    described as {
      |LP name.
    }
  }
  commitmentAmount: Decimal(15,2) with {
    briefly "Commitment"
    described as {
      |Committed capital.
    }
  }
  calledAmount: Decimal(15,2) with {
    briefly "Called"
    described as {
      |Capital called.
    }
  }
  distributedAmount: Decimal(15,2) with {
    briefly "Distributed"
    described as {
      |Capital distributed.
    }
  }
  unfulfilledCommitment: Decimal(15,2) with {
    briefly "Unfulfilled"
    described as {
      |Uncalled commitment.
    }
  }
  lpStatus: LPStatus with {
    briefly "Status"
    described as {
      |LP status.
    }
  }
} with {
  briefly "LP commitment"
  described as {
    |Limited partner commitment.
  }
}
type CapitalCall is {
  callId: CapitalCallId with {
    briefly "Call"
    described as {
      |Capital call ID.
    }
  }
  callDate: Date with {
    briefly "Date"
    described as {
      |Call date.
    }
  }
  dueDate: Date with {
    briefly "Due"
    described as {
      |Payment due date.
    }
  }
  totalAmount: Decimal(15,2) with {
    briefly "Total"
    described as {
      |Total call amount.
    }
  }
  purpose: String(1,500) with {
    briefly "Purpose"
    described as {
      |Call purpose.
    }
  }
  callPercentage: Decimal(5,4) with {
    briefly "Percentage"
    described as {
      |Percent of commitment.
    }
  }
} with {
  briefly "Capital call"
  described as {
    |Fund capital call.
  }
}
type Distribution is {
  distributionId: DistributionId with {
    briefly "Distribution"
    described as {
      |Distribution ID.
    }
  }
  distributionDate: Date with {
    briefly "Date"
    described as {
      |Distribution date.
    }
  }
  totalAmount: Decimal(15,2) with {
    briefly "Total"
    described as {
      |Total distribution.
    }
  }
  distributionType: String(1,50) with {
    briefly "Type"
    described as {
      |Distribution type.
    }
  }
  returnOfCapital: Decimal(15,2) with {
    briefly "ROC"
    described as {
      |Return of capital.
    }
  }
  gains: Decimal(15,2) with {
    briefly "Gains"
    described as {
      |Capital gains.
    }
  }
} with {
  briefly "Distribution"
  described as {
    |Fund distribution.
  }
}
type FundMetrics is {
  totalCommitments: Decimal(15,2) with {
    briefly "Commitments"
    described as {
      |Total commitments.
    }
  }
  totalCalled: Decimal(15,2) with {
    briefly "Called"
    described as {
      |Total called.
    }
  }
  totalDistributed: Decimal(15,2) with {
    briefly "Distributed"
    described as {
      |Total distributed.
    }
  }
  totalInvested: Decimal(15,2) with {
    briefly "Invested"
    described as {
      |Total invested.
    }
  }
  currentNAV: Decimal(15,2) with {
    briefly "NAV"
    described as {
      |Current net asset value.
    }
  }
  totalValue: Decimal(15,2) with {
    briefly "Total value"
    described as {
      |NAV plus distributions.
    }
  }
  tvpi: Decimal(6,2) with {
    briefly "TVPI"
    described as {
      |Total value to paid in.
    }
  }
  dpi: Decimal(6,2) with {
    briefly "DPI"
    described as {
      |Distributions to paid in.
    }
  }
  irr: Decimal(6,2)? with {
    briefly "IRR"
    described as {
      |Internal rate of return.
    }
  }
} with {
  briefly "Fund metrics"
  described as {
    |Fund performance metrics.
  }
}
type ManagementFee is {
  feeDate: Date with {
    briefly "Date"
    described as {
      |Fee date.
    }
  }
  feeAmount: Decimal(12,2) with {
    briefly "Amount"
    described as {
      |Fee amount.
    }
  }
  basisAmount: Decimal(15,2) with {
    briefly "Basis"
    described as {
      |Fee basis amount.
    }
  }
  feeRate: Decimal(4,4) with {
    briefly "Rate"
    described as {
      |Fee rate applied.
    }
  }
} with {
  briefly "Management fee"
  described as {
    |Periodic management fee.
  }
}
