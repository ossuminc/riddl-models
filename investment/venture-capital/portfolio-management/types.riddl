// Portfolio Management - Shared Types

type InvestmentId is Id(VCPortfolioContext.PortfolioInvestment) with {
  briefly "Investment identifier"
  described by "Unique identifier for a portfolio investment."
}

type CompanyId is UUID with {
  briefly "Company identifier"
  described by "Reference to a portfolio company."
}

type FundId is UUID with {
  briefly "Fund identifier"
  described by "Reference to a venture capital fund."
}

type BoardSeatId is UUID with {
  briefly "Board seat identifier"
  described by "Reference to a board seat assignment."
}

type MilestoneId is UUID with {
  briefly "Milestone identifier"
  described by "Reference to a company milestone."
}

type InvestmentStatus is any of {
  Prospective,
  DueDiligence,
  TermSheet,
  Committed,
  Funded,
  Active,
  FollowOn,
  MarkingDown,
  Exited,
  WrittenOff
} with {
  briefly "Investment status"
  described by "Lifecycle status of an investment."
}

type InvestmentStage is any of {
  PreSeed,
  Seed,
  SeriesA,
  SeriesB,
  SeriesC,
  SeriesD,
  LateStage,
  Growth,
  PreIPO
} with {
  briefly "Investment stage"
  described by "Funding stage of the investment."
}

type MilestoneStatus is any of {
  Planned,
  InProgress,
  Achieved,
  Missed,
  Deferred
} with {
  briefly "Milestone status"
  described by "Status of a company milestone."
}

type BoardRole is any of {
  Observer,
  BoardMember,
  BoardChair,
  LeadDirector
} with {
  briefly "Board role"
  described by "Role held on a portfolio company board."
}

type ExitType is any of {
  IPO,
  Acquisition,
  SecondarySale,
  Merger,
  Buyback,
  Liquidation
} with {
  briefly "Exit type"
  described by "Type of investment exit."
}

type CompanyInfo is {
  companyId is CompanyId with {
    briefly "Company ID"
    described by "Portfolio company identifier."
  }
  companyName is String(3, 200) with {
    briefly "Name"
    described by "Portfolio company name."
  }
  sector is String(3, 100) with {
    briefly "Sector"
    described by "Industry sector."
  }
  foundedDate is Date with {
    briefly "Founded"
    described by "Company founding date."
  }
  headquarters is String(3, 200) with {
    briefly "HQ"
    described by "Company headquarters location."
  }
  website is optional String(3, 300) with {
    briefly "Website"
    described by "Company website URL."
  }
} with {
  briefly "Company info"
  described by "Portfolio company details."
}

type InvestmentTerms is {
  fundId is FundId with {
    briefly "Fund"
    described by "Investing fund identifier."
  }
  stage is InvestmentStage with {
    briefly "Stage"
    described by "Funding stage."
  }
  investmentAmount is Decimal(14, 2) with {
    briefly "Amount"
    described by "Investment amount in USD."
  }
  preMoneyValuation is Decimal(14, 2) with {
    briefly "Pre-money"
    described by "Pre-money valuation in USD."
  }
  postMoneyValuation is Decimal(14, 2) with {
    briefly "Post-money"
    described by "Post-money valuation in USD."
  }
  ownershipPercentage is Decimal(5, 2) with {
    briefly "Ownership"
    described by "Ownership percentage acquired."
  }
  investmentDate is Date with {
    briefly "Invested"
    described by "Date of investment."
  }
  instrumentType is String(3, 50) with {
    briefly "Instrument"
    described by "Investment instrument type (equity, SAFE, note)."
  }
} with {
  briefly "Investment terms"
  described by "Financial terms of the investment."
}

type MilestoneInfo is {
  milestoneId is MilestoneId with {
    briefly "Milestone ID"
    described by "Milestone identifier."
  }
  title is String(3, 200) with {
    briefly "Title"
    described by "Milestone title."
  }
  description is String(3, 1000) with {
    briefly "Description"
    described by "Milestone description."
  }
  targetDate is Date with {
    briefly "Target"
    described by "Target completion date."
  }
  milestoneStatus is MilestoneStatus with {
    briefly "Status"
    described by "Milestone status."
  }
  completedDate is optional Date with {
    briefly "Completed"
    described by "Actual completion date."
  }
} with {
  briefly "Milestone info"
  described by "Company milestone details."
}

type BoardSeatInfo is {
  seatId is BoardSeatId with {
    briefly "Seat ID"
    described by "Board seat identifier."
  }
  representative is String(3, 200) with {
    briefly "Representative"
    described by "Board representative name."
  }
  role is BoardRole with {
    briefly "Role"
    described by "Board seat role."
  }
  appointedDate is Date with {
    briefly "Appointed"
    described by "Appointment date."
  }
  term is optional String(3, 100) with {
    briefly "Term"
    described by "Board seat term."
  }
} with {
  briefly "Board seat info"
  described by "Board seat assignment details."
}

type FollowOnRound is {
  roundStage is InvestmentStage with {
    briefly "Stage"
    described by "Follow-on round stage."
  }
  amount is Decimal(14, 2) with {
    briefly "Amount"
    described by "Follow-on investment amount."
  }
  valuation is Decimal(14, 2) with {
    briefly "Valuation"
    described by "Round valuation."
  }
  roundDate is Date with {
    briefly "Date"
    described by "Follow-on round date."
  }
  proRata is Boolean with {
    briefly "Pro-rata"
    described by "Whether pro-rata rights were exercised."
  }
} with {
  briefly "Follow-on round"
  described by "Follow-on funding round details."
}

type PortfolioMetric is {
  metricName is String(3, 100) with {
    briefly "Metric"
    described by "Metric name."
  }
  metricValue is Decimal(14, 2) with {
    briefly "Value"
    described by "Metric value."
  }
  reportDate is Date with {
    briefly "Date"
    described by "Reporting date."
  }
} with {
  briefly "Portfolio metric"
  described by "Key portfolio performance metric."
}

type ExitDetails is {
  exitType is ExitType with {
    briefly "Type"
    described by "Exit type."
  }
  exitDate is Date with {
    briefly "Date"
    described by "Exit date."
  }
  exitValuation is Decimal(14, 2) with {
    briefly "Valuation"
    described by "Exit valuation in USD."
  }
  proceedsReceived is Decimal(14, 2) with {
    briefly "Proceeds"
    described by "Total proceeds received in USD."
  }
  multipleOnInvested is Decimal(6, 2) with {
    briefly "MOIC"
    described by "Multiple on invested capital."
  }
} with {
  briefly "Exit details"
  described by "Investment exit details."
}
