// Customs Brokerage - Shared Types
type EntryId is Id(EntryContext.Entry)  with {
  briefly "Entry identifier"
  described as {
    |Unique identifier for a customs entry.
  }
}
type ShipmentId is UUID with {
  briefly "Shipment identifier"
  described as {
    |Reference to a shipment.
  }
}
type ImporterId is UUID with {
  briefly "Importer identifier"
  described as {
    |Reference to an importer.
  }
}
type BrokerId is UUID with {
  briefly "Broker identifier"
  described as {
    |Reference to a customs broker.
  }
}
type EntryStatus is any of {
  Draft,
  Submitted,
  UnderReview,
  InformationRequested,
  Released,
  Held,
  Liquidated,
  Cancelled
} with {
  briefly "Entry status"
  described as {
    |Current entry processing status.
  }
}
type EntryType is any of {
  FormalEntry,
  InformalEntry,
  ForeignTradeZone,
  TemporaryImport,
  Drawback,
  InBond
} with {
  briefly "Entry type"
  described as {
    |Type of customs entry.
  }
}
type TransportMode is any of {
  Ocean,
  Air,
  Rail,
  Truck,
  Pipeline,
  Mail
} with {
  briefly "Transport mode"
  described as {
    |Mode of transportation.
  }
}
type DocumentType is any of {
  CommercialInvoice,
  BillOfLading,
  AirWaybill,
  PackingList,
  CertificateOfOrigin,
  FDAEntry,
  FSISImportPermit,
  LaceyActDeclaration,
  ISFBond
} with {
  briefly "Document type"
  described as {
    |Type of supporting document.
  }
}
type ImporterInfo is {
  importerId: ImporterId with {
    briefly "Importer"
    described as {
      |Importer identifier.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Importer name.
    }
  }
  importerOfRecordNumber: String(1,50) with {
    briefly "IOR"
    described as {
      |Importer of record number.
    }
  }
  address: Address with {
    briefly "Address"
    described as {
      |Business address.
    }
  }
  bondNumber: String(1,50) with {
    briefly "Bond"
    described as {
      |Customs bond number.
    }
  }
} with {
  briefly "Importer information"
  described as {
    |Importer of record details.
  }
}
type Address is {
  street: String(1,200) with {
    briefly "Street"
    described as {
      |Street address.
    }
  }
  city: String(1,100) with {
    briefly "City"
    described as {
      |City.
    }
  }
  state: String(2,50) with {
    briefly "State"
    described as {
      |State or province.
    }
  }
  postalCode: String(5,20) with {
    briefly "Postal"
    described as {
      |Postal code.
    }
  }
  country: String(2,3) with {
    briefly "Country"
    described as {
      |Country code.
    }
  }
} with {
  briefly "Address"
  described as {
    |Physical address.
  }
}
type ShipmentInfo is {
  shipmentId: ShipmentId with {
    briefly "Shipment"
    described as {
      |Shipment identifier.
    }
  }
  masterBillNumber: String(1,50) with {
    briefly "Master bill"
    described as {
      |Master bill of lading.
    }
  }
  houseBillNumber: String(1,50)? with {
    briefly "House bill"
    described as {
      |House bill of lading.
    }
  }
  transportMode: TransportMode with {
    briefly "Mode"
    described as {
      |Transport mode.
    }
  }
  carrierCode: String(4,4) with {
    briefly "Carrier"
    described as {
      |SCAC code.
    }
  }
  vesselName: String(1,200)? with {
    briefly "Vessel"
    described as {
      |Vessel name.
    }
  }
  flightNumber: String(1,20)? with {
    briefly "Flight"
    described as {
      |Flight number.
    }
  }
  portOfEntry: String(4,4) with {
    briefly "Port"
    described as {
      |Port of entry code.
    }
  }
  countryOfOrigin: String(2,3) with {
    briefly "Origin"
    described as {
      |Country of origin.
    }
  }
  countryOfExport: String(2,3) with {
    briefly "Export"
    described as {
      |Country of export.
    }
  }
  arrivalDate: Date with {
    briefly "Arrival"
    described as {
      |Arrival date.
    }
  }
} with {
  briefly "Shipment information"
  described as {
    |Shipment transport details.
  }
}
type LineItem is {
  lineNumber: Natural with {
    briefly "Line"
    described as {
      |Line number.
    }
  }
  htsCode: String(8,10) with {
    briefly "HTS"
    described as {
      |Harmonized tariff code.
    }
  }
  description: String(1,500) with {
    briefly "Description"
    described as {
      |Merchandise description.
    }
  }
  countryOfOrigin: String(2,3) with {
    briefly "Origin"
    described as {
      |Country of origin.
    }
  }
  quantity: Decimal(12,3) with {
    briefly "Quantity"
    described as {
      |Quantity.
    }
  }
  unitOfMeasure: String(1,20) with {
    briefly "UOM"
    described as {
      |Unit of measure.
    }
  }
  enteredValue: Decimal(14,2) with {
    briefly "Value"
    described as {
      |Entered value.
    }
  }
  dutyRate: Decimal(8,4) with {
    briefly "Rate"
    described as {
      |Duty rate.
    }
  }
  estimatedDuty: Decimal(12,2) with {
    briefly "Duty"
    described as {
      |Estimated duty.
    }
  }
  otherFees: Decimal(10,2) with {
    briefly "Fees"
    described as {
      |Other fees (MPF, HMF).
    }
  }
  specialProgram: String(1,20)? with {
    briefly "Program"
    described as {
      |Special trade program code.
    }
  }
} with {
  briefly "Line item"
  described as {
    |Customs entry line item.
  }
}
type EntryDocument is {
  documentType: DocumentType with {
    briefly "Type"
    described as {
      |Document type.
    }
  }
  documentNumber: String(1,100) with {
    briefly "Number"
    described as {
      |Document number.
    }
  }
  issuedDate: Date with {
    briefly "Issued"
    described as {
      |Issue date.
    }
  }
  expiryDate: Date? with {
    briefly "Expiry"
    described as {
      |Expiry date.
    }
  }
  fileReference: String(1,500) with {
    briefly "File"
    described as {
      |Document file reference.
    }
  }
} with {
  briefly "Entry document"
  described as {
    |Supporting document details.
  }
}
type DutyPayment is {
  entryNumber: String(1,50) with {
    briefly "Entry"
    described as {
      |Entry number.
    }
  }
  totalDuty: Decimal(14,2) with {
    briefly "Duty"
    described as {
      |Total duty.
    }
  }
  merchandiseProcessingFee: Decimal(10,2) with {
    briefly "MPF"
    described as {
      |Merchandise processing fee.
    }
  }
  harborMaintenanceFee: Decimal(10,2) with {
    briefly "HMF"
    described as {
      |Harbor maintenance fee.
    }
  }
  otherFees: Decimal(10,2) with {
    briefly "Other"
    described as {
      |Other fees.
    }
  }
  totalAmount: Decimal(14,2) with {
    briefly "Total"
    described as {
      |Total payment due.
    }
  }
  paymentMethod: String(1,50) with {
    briefly "Method"
    described as {
      |Payment method.
    }
  }
  paidAt: TimeStamp? with {
    briefly "Paid"
    described as {
      |Payment time.
    }
  }
} with {
  briefly "Duty payment"
  described as {
    |Duty and fee payment details.
  }
}
type CBPResponse is {
  responseCode: String(1,10) with {
    briefly "Code"
    described as {
      |Response code.
    }
  }
  responseMessage: String(1,500) with {
    briefly "Message"
    described as {
      |Response message.
    }
  }
  assignedEntryNumber: String(1,50)? with {
    briefly "Entry"
    described as {
      |Assigned entry number.
    }
  }
  expectedReleaseDate: Date? with {
    briefly "Release"
    described as {
      |Release date.
    }
  }
  holdReasons: String(1,200)* with {
    briefly "Holds"
    described as {
      |Hold reasons.
    }
  }
  receivedAt: TimeStamp with {
    briefly "Received"
    described as {
      |Response time.
    }
  }
} with {
  briefly "CBP response"
  described as {
    |Customs response details.
  }
}
type LiquidationRecord is {
  liquidationDate: Date with {
    briefly "Date"
    described as {
      |Liquidation date.
    }
  }
  originalDuty: Decimal(14,2) with {
    briefly "Original"
    described as {
      |Original duty.
    }
  }
  assessedDuty: Decimal(14,2) with {
    briefly "Assessed"
    described as {
      |Assessed duty.
    }
  }
  refundDue: Decimal(12,2) with {
    briefly "Refund"
    described as {
      |Refund amount.
    }
  }
  additionalDue: Decimal(12,2) with {
    briefly "Additional"
    described as {
      |Additional duty due.
    }
  }
  protestDeadline: Date with {
    briefly "Protest"
    described as {
      |Protest deadline.
    }
  }
} with {
  briefly "Liquidation record"
  described as {
    |Entry liquidation details.
  }
}
