// Customs Brokerage Domain Model
// Import/export customs clearance management
domain CustomsBrokerage is {
  author OssumInc is {
    name = "Ossum Inc."
    email = "support@ossuminc.com"
  } with {
    briefly "Domain author"
    described as {
      |Organization maintaining this domain model.
    }
  }
  user CustomsBroker is "person managing customs clearance" with {
    briefly "Customs Broker"
    described as {
      |Licensed customs broker handling entries.
    }
  }
  user Importer is "person importing goods" with {
    briefly "Importer"
    described as {
      |Business importing merchandise.
    }
  }
  user ComplianceOfficer is "person overseeing trade compliance" with {
    briefly "Compliance Officer"
    described as {
      |Staff ensuring regulatory compliance.
    }
  }
  epic CustomsEpic is {
    user Importer wants to "to clear goods through customs" so that "merchandise can enter the country"
    case FileCustomsEntry is {
      user CustomsBroker wants to "to file a customs entry" so that "goods can be released"
      step is "Broker receives" "shipping documents" "from importer" with {
        briefly "Receive docs"
        described as {
          |Gather documentation.
        }
      }
      step send command EntryContext.Entry.CreateEntry from user CustomsBroker to entity EntryContext.Entry with {
        briefly "Create entry"
        described as {
          |File customs entry.
        }
      }
      step is "Customs reviews" "and releases" "goods for import" with {
        briefly "Release"
        described as {
          |Obtain release.
        }
      }
    } with {
      briefly "File customs entry"
      described as {
        |Customs entry filing workflow.
      }
    }
  } with {
    briefly "Customs brokerage"
    described as {
      | Epic covering customs entries, compliance,
      | and goods release.
    }
  }
  include "EntryContext.riddl"
  include "external-contexts.riddl"
} with {
  briefly "Customs brokerage domain"
  described as {
    | The CustomsBrokerage domain handles import/export
    | customs clearance and compliance.
  }
}
