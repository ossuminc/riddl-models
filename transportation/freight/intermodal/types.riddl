// Intermodal - Shared Types

type MoveId is Id(MoveContext.Move) with {
  briefly "Move identifier"
  described by "Unique identifier for an intermodal move."
}

type TerminalId is UUID with {
  briefly "Terminal identifier"
  described by "Reference to an intermodal terminal."
}

type ContainerId is UUID with {
  briefly "Container identifier"
  described by "Reference to a container."
}

type TrainId is UUID with {
  briefly "Train identifier"
  described by "Reference to a train."
}

type MoveStatus is any of {
  Booked,
  OriginDrayScheduledStatus,
  AtOriginTerminal,
  Loaded,
  InRailTransit,
  AtDestinationTerminal,
  DestinationDrayScheduledStatus,
  OutForDelivery,
  Delivered,
  Cancelled
} with {
  briefly "Move status"
  described by "Current intermodal move status."
}

type TransportMode is any of {
  Rail,
  Truck,
  Barge
} with {
  briefly "Transport mode"
  described by "Mode of transportation."
}

type ContainerType is any of {
  DRY20,
  DRY40,
  DRY45,
  DRY48,
  DRY53,
  REEFER40,
  REEFER53,
  TANKTAINER
} with {
  briefly "Container type"
  described by "Type of intermodal container."
}

type EquipmentType is any of {
  Container,
  Trailer,
  Chassis,
  RailCar
} with {
  briefly "Equipment type"
  described by "Type of equipment."
}

type Address is {
  name is String(1, 200) with {
    briefly "Name"
    described by "Location name."
  }
  street is String(1, 200) with {
    briefly "Street"
    described by "Street address."
  }
  city is String(1, 100) with {
    briefly "City"
    described by "City."
  }
  state is String(2, 50) with {
    briefly "State"
    described by "State."
  }
  postalCode is String(5, 10) with {
    briefly "Postal"
    described by "ZIP code."
  }
} with {
  briefly "Address"
  described by "Physical address."
}

type ContainerInfo is {
  containerId is ContainerId with {
    briefly "Container"
    described by "Container ID."
  }
  containerNumber is String(1, 20) with {
    briefly "Number"
    described by "Container number."
  }
  containerType is ContainerType with {
    briefly "Type"
    described by "Container type."
  }
  sealNumber is optional String(1, 50) with {
    briefly "Seal"
    described by "Seal number."
  }
  grossWeight is Decimal(10, 2) with {
    briefly "Weight"
    described by "Gross weight (lbs)."
  }
  length is Natural with {
    briefly "Length"
    described by "Length (feet)."
  }
  isHazmat is Boolean with {
    briefly "Hazmat"
    described by "Contains hazmat."
  }
  isReefer is Boolean with {
    briefly "Reefer"
    described by "Is refrigerated."
  }
  temperatureSetting is optional Decimal(5, 2) with {
    briefly "Temp"
    described by "Temperature setting (F)."
  }
} with {
  briefly "Container info"
  described by "Container details."
}

type TerminalInfo is {
  terminalId is TerminalId with {
    briefly "Terminal"
    described by "Terminal ID."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Terminal name."
  }
  railroadCode is String(2, 4) with {
    briefly "Railroad"
    described by "Railroad SCAC code."
  }
  city is String(1, 100) with {
    briefly "City"
    described by "City."
  }
  state is String(2, 2) with {
    briefly "State"
    described by "State."
  }
  splc is String(6, 9) with {
    briefly "SPLC"
    described by "Standard point location code."
  }
} with {
  briefly "Terminal info"
  described by "Intermodal terminal details."
}

type DrayLeg is {
  legType is String(1, 20) with {
    briefly "Type"
    described by "Origin or destination dray."
  }
  carrier is String(1, 200) with {
    briefly "Carrier"
    described by "Dray carrier."
  }
  pickupAddress is Address with {
    briefly "Pickup"
    described by "Pickup location."
  }
  deliveryAddress is Address with {
    briefly "Delivery"
    described by "Delivery location."
  }
  scheduledDate is Date with {
    briefly "Date"
    described by "Scheduled date."
  }
  appointmentTime is optional TimeStamp with {
    briefly "Appointment"
    described by "Appointment time."
  }
  updatedDriverName is optional String(1, 200) with {
    briefly "Driver"
    described by "Driver name."
  }
  updatedTractorNumber is optional String(1, 20) with {
    briefly "Tractor"
    described by "Tractor number."
  }
} with {
  briefly "Dray leg"
  described by "Truck dray segment."
}

type RailLeg is {
  originTerminal is TerminalInfo with {
    briefly "Origin"
    described by "Origin terminal."
  }
  destinationTerminal is TerminalInfo with {
    briefly "Destination"
    described by "Destination terminal."
  }
  railroadCode is String(2, 4) with {
    briefly "Railroad"
    described by "Railroad code."
  }
  assignedTrainId is optional TrainId with {
    briefly "Train"
    described by "Train ID."
  }
  assignedTrainSymbol is optional String(1, 20) with {
    briefly "Symbol"
    described by "Train symbol."
  }
  assignedCarNumber is optional String(1, 20) with {
    briefly "Car"
    described by "Rail car number."
  }
  assignedCarPosition is optional Natural with {
    briefly "Position"
    described by "Car position in train."
  }
  scheduledDeparture is TimeStamp with {
    briefly "Departure"
    described by "Scheduled departure."
  }
  scheduledArrival is TimeStamp with {
    briefly "Arrival"
    described by "Scheduled arrival."
  }
  actualDeparture is optional TimeStamp with {
    briefly "Actual dep"
    described by "Actual departure."
  }
  actualArrival is optional TimeStamp with {
    briefly "Actual arr"
    described by "Actual arrival."
  }
} with {
  briefly "Rail leg"
  described by "Rail segment details."
}

type TerminalEvent is {
  eventType is String(1, 50) with {
    briefly "Type"
    described by "Event type."
  }
  terminal is TerminalInfo with {
    briefly "Terminal"
    described by "Terminal."
  }
  occurredAt is TimeStamp with {
    briefly "Occurred"
    described by "Event time."
  }
  notes is optional String(1, 500) with {
    briefly "Notes"
    described by "Event notes."
  }
} with {
  briefly "Terminal event"
  described by "Terminal activity event."
}

type MoveCharges is {
  railRate is Decimal(10, 2) with {
    briefly "Rail"
    described by "Rail charges."
  }
  originDrayCharge is Decimal(8, 2) with {
    briefly "Origin dray"
    described by "Origin dray charges."
  }
  destinationDrayCharge is Decimal(8, 2) with {
    briefly "Dest dray"
    described by "Destination dray charges."
  }
  fuelSurcharge is Decimal(8, 2) with {
    briefly "Fuel"
    described by "Fuel surcharge."
  }
  chassisCharge is Decimal(8, 2) with {
    briefly "Chassis"
    described by "Chassis charges."
  }
  accessorialCharges is Decimal(8, 2) with {
    briefly "Accessorial"
    described by "Accessorial charges."
  }
  totalCharges is Decimal(12, 2) with {
    briefly "Total"
    described by "Total charges."
  }
} with {
  briefly "Move charges"
  described by "Intermodal move pricing."
}
