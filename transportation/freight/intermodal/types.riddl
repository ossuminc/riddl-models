// Intermodal - Shared Types
type MoveId is Id(MoveContext.Move)  with {
  briefly "Move identifier"
  described as {
    |Unique identifier for an intermodal move.
  }
}
type TerminalId is UUID with {
  briefly "Terminal identifier"
  described as {
    |Reference to an intermodal terminal.
  }
}
type ContainerId is UUID with {
  briefly "Container identifier"
  described as {
    |Reference to a container.
  }
}
type TrainId is UUID with {
  briefly "Train identifier"
  described as {
    |Reference to a train.
  }
}
type MoveStatus is any of {
  Booked,
  OriginDrayScheduledStatus,
  AtOriginTerminal,
  Loaded,
  InRailTransit,
  AtDestinationTerminal,
  DestinationDrayScheduledStatus,
  OutForDelivery,
  Delivered,
  Cancelled
} with {
  briefly "Move status"
  described as {
    |Current intermodal move status.
  }
}
type TransportMode is any of {
  Rail,
  Truck,
  Barge
} with {
  briefly "Transport mode"
  described as {
    |Mode of transportation.
  }
}
type ContainerType is any of {
  DRY20,
  DRY40,
  DRY45,
  DRY48,
  DRY53,
  REEFER40,
  REEFER53,
  TANKTAINER
} with {
  briefly "Container type"
  described as {
    |Type of intermodal container.
  }
}
type EquipmentType is any of {
  Container,
  Trailer,
  Chassis,
  RailCar
} with {
  briefly "Equipment type"
  described as {
    |Type of equipment.
  }
}
type Address is {
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Location name.
    }
  }
  street: String(1,200) with {
    briefly "Street"
    described as {
      |Street address.
    }
  }
  city: String(1,100) with {
    briefly "City"
    described as {
      |City.
    }
  }
  state: String(2,50) with {
    briefly "State"
    described as {
      |State.
    }
  }
  postalCode: String(5,10) with {
    briefly "Postal"
    described as {
      |ZIP code.
    }
  }
} with {
  briefly "Address"
  described as {
    |Physical address.
  }
}
type ContainerInfo is {
  containerId: ContainerId with {
    briefly "Container"
    described as {
      |Container ID.
    }
  }
  containerNumber: String(1,20) with {
    briefly "Number"
    described as {
      |Container number.
    }
  }
  containerType: ContainerType with {
    briefly "Type"
    described as {
      |Container type.
    }
  }
  sealNumber: String(1,50)? with {
    briefly "Seal"
    described as {
      |Seal number.
    }
  }
  grossWeight: Decimal(10,2) with {
    briefly "Weight"
    described as {
      |Gross weight (lbs).
    }
  }
  length: Natural with {
    briefly "Length"
    described as {
      |Length (feet).
    }
  }
  isHazmat: Boolean with {
    briefly "Hazmat"
    described as {
      |Contains hazmat.
    }
  }
  isReefer: Boolean with {
    briefly "Reefer"
    described as {
      |Is refrigerated.
    }
  }
  temperatureSetting: Decimal(5,2)? with {
    briefly "Temp"
    described as {
      |Temperature setting (F).
    }
  }
} with {
  briefly "Container info"
  described as {
    |Container details.
  }
}
type TerminalInfo is {
  terminalId: TerminalId with {
    briefly "Terminal"
    described as {
      |Terminal ID.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Terminal name.
    }
  }
  railroadCode: String(2,4) with {
    briefly "Railroad"
    described as {
      |Railroad SCAC code.
    }
  }
  city: String(1,100) with {
    briefly "City"
    described as {
      |City.
    }
  }
  state: String(2,2) with {
    briefly "State"
    described as {
      |State.
    }
  }
  splc: String(6,9) with {
    briefly "SPLC"
    described as {
      |Standard point location code.
    }
  }
} with {
  briefly "Terminal info"
  described as {
    |Intermodal terminal details.
  }
}
type DrayLeg is {
  legType: String(1,20) with {
    briefly "Type"
    described as {
      |Origin or destination dray.
    }
  }
  carrier: String(1,200) with {
    briefly "Carrier"
    described as {
      |Dray carrier.
    }
  }
  pickupAddress: Address with {
    briefly "Pickup"
    described as {
      |Pickup location.
    }
  }
  deliveryAddress: Address with {
    briefly "Delivery"
    described as {
      |Delivery location.
    }
  }
  scheduledDate: Date with {
    briefly "Date"
    described as {
      |Scheduled date.
    }
  }
  appointmentTime: TimeStamp? with {
    briefly "Appointment"
    described as {
      |Appointment time.
    }
  }
  updatedDriverName: String(1,200)? with {
    briefly "Driver"
    described as {
      |Driver name.
    }
  }
  updatedTractorNumber: String(1,20)? with {
    briefly "Tractor"
    described as {
      |Tractor number.
    }
  }
} with {
  briefly "Dray leg"
  described as {
    |Truck dray segment.
  }
}
type RailLeg is {
  originTerminal: TerminalInfo with {
    briefly "Origin"
    described as {
      |Origin terminal.
    }
  }
  destinationTerminal: TerminalInfo with {
    briefly "Destination"
    described as {
      |Destination terminal.
    }
  }
  railroadCode: String(2,4) with {
    briefly "Railroad"
    described as {
      |Railroad code.
    }
  }
  assignedTrainId: TrainId? with {
    briefly "Train"
    described as {
      |Train ID.
    }
  }
  assignedTrainSymbol: String(1,20)? with {
    briefly "Symbol"
    described as {
      |Train symbol.
    }
  }
  assignedCarNumber: String(1,20)? with {
    briefly "Car"
    described as {
      |Rail car number.
    }
  }
  assignedCarPosition: Natural? with {
    briefly "Position"
    described as {
      |Car position in train.
    }
  }
  scheduledDeparture: TimeStamp with {
    briefly "Departure"
    described as {
      |Scheduled departure.
    }
  }
  scheduledArrival: TimeStamp with {
    briefly "Arrival"
    described as {
      |Scheduled arrival.
    }
  }
  actualDeparture: TimeStamp? with {
    briefly "Actual dep"
    described as {
      |Actual departure.
    }
  }
  actualArrival: TimeStamp? with {
    briefly "Actual arr"
    described as {
      |Actual arrival.
    }
  }
} with {
  briefly "Rail leg"
  described as {
    |Rail segment details.
  }
}
type TerminalEvent is {
  eventType: String(1,50) with {
    briefly "Type"
    described as {
      |Event type.
    }
  }
  terminal: TerminalInfo with {
    briefly "Terminal"
    described as {
      |Terminal.
    }
  }
  occurredAt: TimeStamp with {
    briefly "Occurred"
    described as {
      |Event time.
    }
  }
  notes: String(1,500)? with {
    briefly "Notes"
    described as {
      |Event notes.
    }
  }
} with {
  briefly "Terminal event"
  described as {
    |Terminal activity event.
  }
}
type MoveCharges is {
  railRate: Decimal(10,2) with {
    briefly "Rail"
    described as {
      |Rail charges.
    }
  }
  originDrayCharge: Decimal(8,2) with {
    briefly "Origin dray"
    described as {
      |Origin dray charges.
    }
  }
  destinationDrayCharge: Decimal(8,2) with {
    briefly "Dest dray"
    described as {
      |Destination dray charges.
    }
  }
  fuelSurcharge: Decimal(8,2) with {
    briefly "Fuel"
    described as {
      |Fuel surcharge.
    }
  }
  chassisCharge: Decimal(8,2) with {
    briefly "Chassis"
    described as {
      |Chassis charges.
    }
  }
  accessorialCharges: Decimal(8,2) with {
    briefly "Accessorial"
    described as {
      |Accessorial charges.
    }
  }
  totalCharges: Decimal(12,2) with {
    briefly "Total"
    described as {
      |Total charges.
    }
  }
} with {
  briefly "Move charges"
  described as {
    |Intermodal move pricing.
  }
}
