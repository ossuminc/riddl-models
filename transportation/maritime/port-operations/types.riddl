// Port Operations - Shared Types
type BerthId is Id(BerthContext.Berth)  with {
  briefly "Berth identifier"
  described as {
    |Unique identifier for a berth.
  }
}
type PortCallId is UUID with {
  briefly "Port call identifier"
  described as {
    |Reference to a vessel port call.
  }
}
type VesselId is UUID with {
  briefly "Vessel identifier"
  described as {
    |Reference to a vessel.
  }
}
type TerminalId is UUID with {
  briefly "Terminal identifier"
  described as {
    |Reference to a port terminal.
  }
}
type PilotId is UUID with {
  briefly "Pilot identifier"
  described as {
    |Reference to a harbor pilot.
  }
}
type BerthStatus is any of {
  Available,
  Reserved,
  Occupied,
  UnderMaintenance,
  Restricted
} with {
  briefly "Berth status"
  described as {
    |Current berth availability.
  }
}
type PortCallStatus is any of {
  Requested,
  Confirmed,
  Arriving,
  Berthed,
  CargoOperations,
  Departing,
  Completed,
  Cancelled
} with {
  briefly "Port call status"
  described as {
    |Current port call state.
  }
}
type VesselType is any of {
  Container,
  BulkCarrier,
  Tanker,
  RoRo,
  GeneralCargo,
  Cruise,
  LNG,
  Offshore
} with {
  briefly "Vessel type"
  described as {
    |Classification of vessel.
  }
}
type CargoType is any of {
  Container,
  DryBulk,
  LiquidBulk,
  BreakBulk,
  RoRoCargo,
  Passengers,
  Project
} with {
  briefly "Cargo type"
  described as {
    |Type of cargo handled.
  }
}
type ServiceType is any of {
  Pilotage,
  Towage,
  Mooring,
  Bunkering,
  FreshWater,
  WasteRemoval,
  ShipChandler,
  CrewChange,
  Repairs
} with {
  briefly "Service type"
  described as {
    |Type of port service.
  }
}
type GpsLocation is {
  latitude: Decimal(10,7) with {
    briefly "Latitude"
    described as {
      |GPS latitude.
    }
  }
  longitude: Decimal(10,7) with {
    briefly "Longitude"
    described as {
      |GPS longitude.
    }
  }
} with {
  briefly "GPS location"
  described as {
    |Geographic coordinates.
  }
}
type VesselInfo is {
  vesselId: VesselId with {
    briefly "Vessel"
    described as {
      |Vessel identifier.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Vessel name.
    }
  }
  imoNumber: String(7,7) with {
    briefly "IMO"
    described as {
      |IMO number.
    }
  }
  callSign: String(1,20) with {
    briefly "Call sign"
    described as {
      |Radio call sign.
    }
  }
  flag: String(2,100) with {
    briefly "Flag"
    described as {
      |Flag state.
    }
  }
  vesselType: VesselType with {
    briefly "Type"
    described as {
      |Vessel type.
    }
  }
  grossTonnage: Natural with {
    briefly "GT"
    described as {
      |Gross tonnage.
    }
  }
  loa: Decimal(6,2) with {
    briefly "LOA"
    described as {
      |Length overall in meters.
    }
  }
  beam: Decimal(5,2) with {
    briefly "Beam"
    described as {
      |Width in meters.
    }
  }
  draft: Decimal(4,2) with {
    briefly "Draft"
    described as {
      |Current draft in meters.
    }
  }
} with {
  briefly "Vessel information"
  described as {
    |Vessel details.
  }
}
type BerthDetails is {
  berthNumber: String(1,20) with {
    briefly "Number"
    described as {
      |Berth number.
    }
  }
  terminalId: TerminalId with {
    briefly "Terminal"
    described as {
      |Terminal location.
    }
  }
  maxLoa: Decimal(6,2) with {
    briefly "Max LOA"
    described as {
      |Maximum vessel length.
    }
  }
  maxBeam: Decimal(5,2) with {
    briefly "Max beam"
    described as {
      |Maximum vessel width.
    }
  }
  maxDraft: Decimal(4,2) with {
    briefly "Max draft"
    described as {
      |Maximum draft at berth.
    }
  }
  berthingType: String(1,50) with {
    briefly "Type"
    described as {
      |Berthing configuration.
    }
  }
  craneCount: Natural with {
    briefly "Cranes"
    described as {
      |Number of cranes.
    }
  }
  cargoTypes: CargoType+ with {
    briefly "Cargo types"
    described as {
      |Supported cargo types.
    }
  }
} with {
  briefly "Berth details"
  described as {
    |Physical berth characteristics.
  }
}
type PortCallRequest is {
  portCallId: PortCallId with {
    briefly "Port call"
    described as {
      |Port call identifier.
    }
  }
  vessel: VesselInfo with {
    briefly "Vessel"
    described as {
      |Vessel details.
    }
  }
  eta: TimeStamp with {
    briefly "ETA"
    described as {
      |Estimated arrival.
    }
  }
  etd: TimeStamp with {
    briefly "ETD"
    described as {
      |Estimated departure.
    }
  }
  cargoType: CargoType with {
    briefly "Cargo"
    described as {
      |Primary cargo type.
    }
  }
  cargoVolume: Decimal(12,2) with {
    briefly "Volume"
    described as {
      |Cargo volume (TEU or MT).
    }
  }
  servicesRequired: ServiceType+ with {
    briefly "Services"
    described as {
      |Required port services.
    }
  }
  agentCompany: String(1,200) with {
    briefly "Agent"
    described as {
      |Ship agent company.
    }
  }
  agentContact: String(1,200) with {
    briefly "Contact"
    described as {
      |Agent contact person.
    }
  }
} with {
  briefly "Port call request"
  described as {
    |Vessel port call request details.
  }
}
type BerthAssignment is {
  berthId: BerthId with {
    briefly "Berth"
    described as {
      |Assigned berth.
    }
  }
  assignedFrom: TimeStamp with {
    briefly "From"
    described as {
      |Assignment start.
    }
  }
  assignedTo: TimeStamp with {
    briefly "To"
    described as {
      |Assignment end.
    }
  }
  side: String(1,20) with {
    briefly "Side"
    described as {
      |Berthing side (port/starboard).
    }
  }
} with {
  briefly "Berth assignment"
  described as {
    |Berth allocation details.
  }
}
type PilotageInfo is {
  pilotId: PilotId with {
    briefly "Pilot"
    described as {
      |Assigned pilot.
    }
  }
  pilotName: String(1,200) with {
    briefly "Name"
    described as {
      |Pilot name.
    }
  }
  boardingTime: TimeStamp with {
    briefly "Boarding"
    described as {
      |Pilot boarding time.
    }
  }
  boardingLocation: GpsLocation with {
    briefly "Location"
    described as {
      |Boarding location.
    }
  }
} with {
  briefly "Pilotage information"
  described as {
    |Pilot assignment details.
  }
}
type TugService is {
  tugCount: Natural with {
    briefly "Tugs"
    described as {
      |Number of tugs.
    }
  }
  tugNames: String(1,100)+ with {
    briefly "Names"
    described as {
      |Tug names.
    }
  }
  bollardPull: Natural with {
    briefly "Pull"
    described as {
      |Total bollard pull (tons).
    }
  }
} with {
  briefly "Tug service"
  described as {
    |Towage service details.
  }
}
type MooringOperation is {
  mooringTeam: String(1,100) with {
    briefly "Team"
    described as {
      |Mooring team.
    }
  }
  linesUsed: Natural with {
    briefly "Lines"
    described as {
      |Number of lines.
    }
  }
  startedAt: TimeStamp with {
    briefly "Started"
    described as {
      |Operation start.
    }
  }
  completedAt: TimeStamp with {
    briefly "Completed"
    described as {
      |Operation end.
    }
  }
} with {
  briefly "Mooring operation"
  described as {
    |Mooring details.
  }
}
type CargoOperation is {
  operationType: String(1,50) with {
    briefly "Type"
    described as {
      |Load or discharge.
    }
  }
  cargoType: CargoType with {
    briefly "Cargo"
    described as {
      |Cargo type.
    }
  }
  plannedVolume: Decimal(12,2) with {
    briefly "Planned"
    described as {
      |Planned volume.
    }
  }
  actualVolume: Decimal(12,2) with {
    briefly "Actual"
    described as {
      |Actual volume.
    }
  }
  startedAt: TimeStamp with {
    briefly "Started"
    described as {
      |Operation start.
    }
  }
  operationCompletedAt: TimeStamp? with {
    briefly "Completed"
    described as {
      |Operation end.
    }
  }
  craneHours: Decimal(8,2)? with {
    briefly "Crane hours"
    described as {
      |Crane operating hours.
    }
  }
} with {
  briefly "Cargo operation"
  described as {
    |Cargo handling details.
  }
}
type PortCharges is {
  berthageFee: Decimal(12,2) with {
    briefly "Berthage"
    described as {
      |Berthage charges.
    }
  }
  pilotFee: Decimal(10,2) with {
    briefly "Pilot"
    described as {
      |Pilotage charges.
    }
  }
  towageFee: Decimal(10,2) with {
    briefly "Towage"
    described as {
      |Towage charges.
    }
  }
  mooringFee: Decimal(8,2) with {
    briefly "Mooring"
    described as {
      |Mooring charges.
    }
  }
  cargoHandlingFee: Decimal(12,2) with {
    briefly "Cargo"
    described as {
      |Cargo handling charges.
    }
  }
  otherFees: Decimal(10,2) with {
    briefly "Other"
    described as {
      |Other charges.
    }
  }
  totalCharges: Decimal(14,2) with {
    briefly "Total"
    described as {
      |Total port charges.
    }
  }
  currency: String(3,3) with {
    briefly "Currency"
    described as {
      |Currency code.
    }
  }
} with {
  briefly "Port charges"
  described as {
    |Port call fee breakdown.
  }
}
