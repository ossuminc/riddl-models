// Vessel Management - Shared Types

type Year is Integer with {
  briefly "Year"
  described by "A calendar year."
}

type VesselId is Id(VesselContext.Vessel) with {
  briefly "Vessel identifier"
  described by "Unique identifier for a vessel."
}

type VoyageId is UUID with {
  briefly "Voyage identifier"
  described by "Reference to a voyage."
}

type PortCallId is UUID with {
  briefly "Port call identifier"
  described by "Reference to a port call."
}

type CrewMemberId is UUID with {
  briefly "Crew member identifier"
  described by "Reference to a crew member."
}

type CertificateId is UUID with {
  briefly "Certificate identifier"
  described by "Reference to a certificate."
}

type VesselStatus is any of {
  InService,
  AtSea,
  InPort,
  AtAnchor,
  DrydDocked,
  UnderRepair,
  LayUp,
  Scrapped
} with {
  briefly "Vessel status"
  described by "Current vessel operational status."
}

type VesselType is any of {
  Container,
  BulkCarrier,
  Tanker,
  ChemicalTanker,
  LNGCarrier,
  RoRo,
  GeneralCargo,
  Reefer,
  Cruise,
  Offshore
} with {
  briefly "Vessel type"
  described by "Classification of vessel."
}

type VoyageStatus is any of {
  Planned,
  InProgress,
  Completed,
  Cancelled
} with {
  briefly "Voyage status"
  described by "Current voyage state."
}

type PortCallStatus is any of {
  Scheduled,
  Arrived,
  Berthed,
  Departed,
  Cancelled,
  Skipped
} with {
  briefly "Port call status"
  described by "Port call state."
}

type CertificateType is any of {
  ClassCertificate,
  SafetyConstruction,
  SafetyEquipment,
  SafetyRadio,
  LoadLine,
  ISPS,
  SMC,
  IOPP,
  CLC,
  MLC
} with {
  briefly "Certificate type"
  described by "Type of vessel certificate."
}

type GpsLocation is {
  latitude is Decimal(10, 7) with {
    briefly "Latitude"
    described by "GPS latitude."
  }
  longitude is Decimal(10, 7) with {
    briefly "Longitude"
    described by "GPS longitude."
  }
} with {
  briefly "GPS location"
  described by "Geographic coordinates."
}

type VesselSpecifications is {
  name is String(1, 200) with {
    briefly "Name"
    described by "Vessel name."
  }
  imoNumber is String(7, 7) with {
    briefly "IMO"
    described by "IMO number."
  }
  callSign is String(1, 20) with {
    briefly "Call sign"
    described by "Radio call sign."
  }
  mmsi is String(9, 9) with {
    briefly "MMSI"
    described by "Maritime mobile service ID."
  }
  flag is String(2, 100) with {
    briefly "Flag"
    described by "Flag state."
  }
  vesselType is VesselType with {
    briefly "Type"
    described by "Vessel type."
  }
  classificationSociety is String(1, 100) with {
    briefly "Class"
    described by "Classification society."
  }
  yearBuilt is Year with {
    briefly "Built"
    described by "Year built."
  }
  grossTonnage is Natural with {
    briefly "GT"
    described by "Gross tonnage."
  }
  netTonnage is Natural with {
    briefly "NT"
    described by "Net tonnage."
  }
  deadweight is Natural with {
    briefly "DWT"
    described by "Deadweight tonnage."
  }
  loa is Decimal(6, 2) with {
    briefly "LOA"
    described by "Length overall in meters."
  }
  beam is Decimal(5, 2) with {
    briefly "Beam"
    described by "Width in meters."
  }
  summerDraft is Decimal(4, 2) with {
    briefly "Draft"
    described by "Summer draft in meters."
  }
} with {
  briefly "Vessel specifications"
  described by "Physical vessel characteristics."
}

type VesselPosition is {
  location is GpsLocation with {
    briefly "Location"
    described by "Current position."
  }
  heading is Decimal(5, 2) with {
    briefly "Heading"
    described by "Course heading in degrees."
  }
  speed is Decimal(5, 2) with {
    briefly "Speed"
    described by "Speed in knots."
  }
  course is Decimal(5, 2) with {
    briefly "Course"
    described by "Course over ground."
  }
  draft is Decimal(4, 2) with {
    briefly "Draft"
    described by "Current draft."
  }
  timestamp is TimeStamp with {
    briefly "Time"
    described by "Position timestamp."
  }
} with {
  briefly "Vessel position"
  described by "Current navigation data."
}

type VoyageDetails is {
  voyageId is VoyageId with {
    briefly "Voyage"
    described by "Voyage identifier."
  }
  voyageNumber is String(1, 50) with {
    briefly "Number"
    described by "Voyage number."
  }
  tradeRoute is String(1, 200) with {
    briefly "Route"
    described by "Trade route name."
  }
  commencementDate is Date with {
    briefly "Start"
    described by "Voyage start date."
  }
  completionDate is optional Date with {
    briefly "End"
    described by "Voyage end date."
  }
  charterer is optional String(1, 200) with {
    briefly "Charterer"
    described by "Charter party."
  }
  cargoDescription is String(1, 500) with {
    briefly "Cargo"
    described by "Cargo description."
  }
} with {
  briefly "Voyage details"
  described by "Voyage information."
}

type PortCallInfo is {
  portCallId is PortCallId with {
    briefly "Port call"
    described by "Port call ID."
  }
  portName is String(1, 200) with {
    briefly "Port"
    described by "Port name."
  }
  portCode is String(5, 5) with {
    briefly "Code"
    described by "UN/LOCODE."
  }
  purpose is String(1, 100) with {
    briefly "Purpose"
    described by "Call purpose."
  }
  eta is TimeStamp with {
    briefly "ETA"
    described by "Estimated arrival."
  }
  etd is TimeStamp with {
    briefly "ETD"
    described by "Estimated departure."
  }
  ata is optional TimeStamp with {
    briefly "ATA"
    described by "Actual arrival."
  }
  atd is optional TimeStamp with {
    briefly "ATD"
    described by "Actual departure."
  }
  callStatus is PortCallStatus with {
    briefly "Status"
    described by "Call status."
  }
} with {
  briefly "Port call info"
  described by "Port call details."
}

type CrewMember is {
  crewMemberId is CrewMemberId with {
    briefly "ID"
    described by "Crew member ID."
  }
  firstName is String(1, 100) with {
    briefly "First name"
    described by "First name."
  }
  lastName is String(1, 100) with {
    briefly "Last name"
    described by "Last name."
  }
  rank is String(1, 100) with {
    briefly "Rank"
    described by "Position on vessel."
  }
  nationality is String(2, 100) with {
    briefly "Nationality"
    described by "Nationality."
  }
  certificateOfCompetency is String(1, 100) with {
    briefly "CoC"
    described by "Certificate of competency."
  }
  signOnDate is Date with {
    briefly "Sign on"
    described by "Embarked date."
  }
  expectedSignOff is Date with {
    briefly "Sign off"
    described by "Expected departure."
  }
} with {
  briefly "Crew member"
  described by "Crew member details."
}

type VesselCertificate is {
  certificateId is CertificateId with {
    briefly "Certificate"
    described by "Certificate ID."
  }
  certificateType is CertificateType with {
    briefly "Type"
    described by "Certificate type."
  }
  certificateNumber is String(1, 100) with {
    briefly "Number"
    described by "Certificate number."
  }
  issuedBy is String(1, 200) with {
    briefly "Issued by"
    described by "Issuing authority."
  }
  issueDate is Date with {
    briefly "Issue"
    described by "Issue date."
  }
  expiryDate is Date with {
    briefly "Expiry"
    described by "Expiry date."
  }
  nextSurveyDate is optional Date with {
    briefly "Survey"
    described by "Next survey due."
  }
} with {
  briefly "Vessel certificate"
  described by "Certificate details."
}

type BunkerReport is {
  reportDate is Date with {
    briefly "Date"
    described by "Report date."
  }
  hfoOnBoard is Decimal(10, 2) with {
    briefly "HFO"
    described by "Heavy fuel oil (MT)."
  }
  mdoOnBoard is Decimal(10, 2) with {
    briefly "MDO"
    described by "Marine diesel oil (MT)."
  }
  freshWater is Decimal(10, 2) with {
    briefly "Water"
    described by "Fresh water (MT)."
  }
  lubeOil is Decimal(8, 2) with {
    briefly "Lube"
    described by "Lube oil (liters)."
  }
} with {
  briefly "Bunker report"
  described by "Fuel and supplies report."
}

type MaintenanceRecord is {
  description is String(1, 500) with {
    briefly "Description"
    described by "Maintenance description."
  }
  category is String(1, 100) with {
    briefly "Category"
    described by "Maintenance category."
  }
  completedDate is Date with {
    briefly "Completed"
    described by "Completion date."
  }
  nextDueDate is optional Date with {
    briefly "Due"
    described by "Next due date."
  }
  runningHours is optional Natural with {
    briefly "Hours"
    described by "Equipment running hours."
  }
} with {
  briefly "Maintenance record"
  described by "Maintenance activity details."
}
