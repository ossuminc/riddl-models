// Order Management - Shared Types
type OrderId is Id(OrderContext.TradingOrder)  with {
  briefly "Order identifier"
  described as {
    |Unique identifier for a trading order.
  }
}
type AccountId is UUID with {
  briefly "Account identifier"
  described as {
    |Reference to trading account.
  }
}
type SecurityId is String(1,20) with {
  briefly "Security identifier"
  described as {
    |Symbol or CUSIP for security.
  }
}
type ExecutionId is UUID with {
  briefly "Execution identifier"
  described as {
    |Reference to an execution/fill.
  }
}
type OrderStatus is any of {
  New,
  PendingNew,
  Accepted,
  PartiallyFilled,
  Filled,
  PendingCancel,
  Canceled,
  Rejected,
  Expired,
  Suspended
} with {
  briefly "Order status"
  described as {
    |Current order status.
  }
}
type OrderType is any of {
  Market,
  Limit,
  Stop,
  StopLimit,
  MarketOnClose,
  LimitOnClose
} with {
  briefly "Order type"
  described as {
    |Type of order.
  }
}
type OrderSide is any of {
  Buy,
  Sell,
  SellShort,
  BuyToCover
} with {
  briefly "Order side"
  described as {
    |Buy or sell direction.
  }
}
type TimeInForce is any of {
  Day,
  GTC,
  IOC,
  FOK,
  GTD,
  OPG,
  CLO
} with {
  briefly "Time in force"
  described as {
    |Order duration instruction.
  }
}
type SecurityType is any of {
  Equity,
  Option,
  Future,
  Bond,
  ETF,
  MutualFund,
  Currency
} with {
  briefly "Security type"
  described as {
    |Type of security.
  }
}
type Exchange is any of {
  NYSE,
  NASDAQ,
  AMEX,
  ARCA,
  BATS,
  IEX,
  CME,
  CBOE
} with {
  briefly "Exchange"
  described as {
    |Trading exchange/venue.
  }
}
type SecurityInfo is {
  securityId: SecurityId with {
    briefly "Security"
    described as {
      |Security identifier.
    }
  }
  securityType: SecurityType with {
    briefly "Type"
    described as {
      |Security type.
    }
  }
  symbol: String(1,10) with {
    briefly "Symbol"
    described as {
      |Trading symbol.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Security name.
    }
  }
  exchange: Exchange with {
    briefly "Exchange"
    described as {
      |Primary exchange.
    }
  }
} with {
  briefly "Security information"
  described as {
    |Security details.
  }
}
type OrderDetails is {
  accountId: AccountId with {
    briefly "Account"
    described as {
      |Trading account.
    }
  }
  security: SecurityInfo with {
    briefly "Security"
    described as {
      |Security to trade.
    }
  }
  side: OrderSide with {
    briefly "Side"
    described as {
      |Buy or sell.
    }
  }
  orderType: OrderType with {
    briefly "Type"
    described as {
      |Order type.
    }
  }
  quantity: Natural with {
    briefly "Quantity"
    described as {
      |Order quantity.
    }
  }
  limitPrice: Decimal(12,4)? with {
    briefly "Limit"
    described as {
      |Limit price.
    }
  }
  stopPrice: Decimal(12,4)? with {
    briefly "Stop"
    described as {
      |Stop price.
    }
  }
  timeInForce: TimeInForce with {
    briefly "TIF"
    described as {
      |Time in force.
    }
  }
  goodTilDate: Date? with {
    briefly "GTD"
    described as {
      |Good til date.
    }
  }
} with {
  briefly "Order details"
  described as {
    |Order specification.
  }
}
type Execution is {
  executionId: ExecutionId with {
    briefly "Execution"
    described as {
      |Execution identifier.
    }
  }
  filledQuantity: Natural with {
    briefly "Quantity"
    described as {
      |Filled quantity.
    }
  }
  executionPrice: Decimal(12,4) with {
    briefly "Price"
    described as {
      |Execution price.
    }
  }
  exchange: Exchange with {
    briefly "Exchange"
    described as {
      |Execution venue.
    }
  }
  executedAt: TimeStamp with {
    briefly "Executed"
    described as {
      |Execution time.
    }
  }
  commission: Decimal(10,4) with {
    briefly "Commission"
    described as {
      |Trading commission.
    }
  }
  fees: Decimal(10,4) with {
    briefly "Fees"
    described as {
      |Exchange fees.
    }
  }
} with {
  briefly "Execution"
  described as {
    |Trade execution/fill.
  }
}
type OrderAmendment is {
  newQuantity: Natural? with {
    briefly "Quantity"
    described as {
      |New quantity.
    }
  }
  newLimitPrice: Decimal(12,4)? with {
    briefly "Limit"
    described as {
      |New limit price.
    }
  }
  newStopPrice: Decimal(12,4)? with {
    briefly "Stop"
    described as {
      |New stop price.
    }
  }
} with {
  briefly "Order amendment"
  described as {
    |Order modification details.
  }
}
type CancelReason is any of {
  UserRequested,
  Expired,
  RiskLimit,
  ComplianceBlock,
  BrokerAction,
  SystemError
} with {
  briefly "Cancel reason"
  described as {
    |Reason for cancellation.
  }
}
type RejectReason is {
  code: String(1,10) with {
    briefly "Code"
    described as {
      |Rejection code.
    }
  }
  message: String(1,500) with {
    briefly "Message"
    described as {
      |Rejection message.
    }
  }
} with {
  briefly "Reject reason"
  described as {
    |Order rejection details.
  }
}
type RiskCheck is {
  passed: Boolean with {
    briefly "Passed"
    described as {
      |Risk check passed.
    }
  }
  checkType: String(1,50) with {
    briefly "Type"
    described as {
      |Check type.
    }
  }
  checkMessage: String(1,200)? with {
    briefly "Check Message"
    described as {
      |Check result message.
    }
  }
} with {
  briefly "Risk check"
  described as {
    |Risk validation result.
  }
}
