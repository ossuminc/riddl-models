// Payment Processing - Shared Types
type PaymentId is Id(PaymentContext.Payment)  with {
  briefly "Payment identifier"
  described as {
    |Unique identifier for a payment transaction.
  }
}
type MerchantId is UUID with {
  briefly "Merchant identifier"
  described as {
    |Reference to a merchant.
  }
}
type CardId is UUID with {
  briefly "Card identifier"
  described as {
    |Reference to a payment card.
  }
}
type TransactionId is UUID with {
  briefly "Transaction identifier"
  described as {
    |Network transaction reference.
  }
}
type PaymentMethod is any of {
  CreditCard,
  DebitCard,
  PrepaidCard,
  DigitalWallet,
  BankTransfer
} with {
  briefly "Payment method"
  described as {
    |Type of payment method.
  }
}
type PaymentStatus is any of {
  Initiated,
  Authorized,
  Captured,
  Settled,
  Declined,
  Voided,
  Refunded,
  Disputed
} with {
  briefly "Payment status"
  described as {
    |Current payment status.
  }
}
type CardBrand is any of {
  Visa,
  Mastercard,
  AmericanExpress,
  Discover,
  JCB,
  UnionPay
} with {
  briefly "Card brand"
  described as {
    |Payment card brand.
  }
}
type EntryMode is any of {
  CardPresent,
  CardNotPresent,
  Swiped,
  ChipRead,
  Contactless,
  Manual
} with {
  briefly "Entry mode"
  described as {
    |How card was captured.
  }
}
type PaymentInfo is {
  amount: Decimal(12,2) with {
    briefly "Amount"
    described as {
      |Payment amount.
    }
  }
  currency: String(1,3) with {
    briefly "Currency"
    described as {
      |Payment currency.
    }
  }
  paymentMethod: PaymentMethod with {
    briefly "Method"
    described as {
      |Payment method.
    }
  }
  merchantId: MerchantId with {
    briefly "Merchant"
    described as {
      |Processing merchant.
    }
  }
  description: String(1,200)? with {
    briefly "Description"
    described as {
      |Payment description.
    }
  }
  orderId: String(1,50)? with {
    briefly "Order ID"
    described as {
      |Merchant order reference.
    }
  }
} with {
  briefly "Payment information"
  described as {
    |Core payment details.
  }
}
type CardDetails is {
  cardBrand: CardBrand with {
    briefly "Brand"
    described as {
      |Card brand.
    }
  }
  lastFour: String(4,4) with {
    briefly "Last four"
    described as {
      |Last four digits.
    }
  }
  expiryMonth: Natural with {
    briefly "Expiry month"
    described as {
      |Expiration month.
    }
  }
  expiryYear: Natural with {
    briefly "Expiry year"
    described as {
      |Expiration year.
    }
  }
  cardholderName: String(1,100) with {
    briefly "Name"
    described as {
      |Cardholder name.
    }
  }
  entryMode: EntryMode with {
    briefly "Entry"
    described as {
      |Entry mode.
    }
  }
} with {
  briefly "Card details"
  described as {
    |Payment card information.
  }
}
type AuthorizationResult is {
  approved: Boolean with {
    briefly "Approved"
    described as {
      |Is approved.
    }
  }
  authCode: String(1,20)? with {
    briefly "Auth code"
    described as {
      |Authorization code.
    }
  }
  declineCode: String(1,10)? with {
    briefly "Decline code"
    described as {
      |Decline reason code.
    }
  }
  declineReason: String(1,200)? with {
    briefly "Reason"
    described as {
      |Decline reason.
    }
  }
  networkTransactionId: TransactionId? with {
    briefly "Network ID"
    described as {
      |Network reference.
    }
  }
} with {
  briefly "Authorization result"
  described as {
    |Authorization response.
  }
}
type SettlementInfo is {
  settlementDate: Date with {
    briefly "Date"
    described as {
      |Settlement date.
    }
  }
  grossAmount: Decimal(12,2) with {
    briefly "Gross"
    described as {
      |Gross amount.
    }
  }
  fees: Decimal(10,4) with {
    briefly "Fees"
    described as {
      |Processing fees.
    }
  }
  netAmount: Decimal(12,2) with {
    briefly "Net"
    described as {
      |Net amount.
    }
  }
  batchId: String(1,50) with {
    briefly "Batch"
    described as {
      |Settlement batch ID.
    }
  }
} with {
  briefly "Settlement info"
  described as {
    |Settlement details.
  }
}
type RefundInfo is {
  originalPaymentId: PaymentId with {
    briefly "Original"
    described as {
      |Original payment.
    }
  }
  refundAmount: Decimal(12,2) with {
    briefly "Amount"
    described as {
      |Refund amount.
    }
  }
  reason: String(1,200) with {
    briefly "Reason"
    described as {
      |Refund reason.
    }
  }
  isPartial: Boolean with {
    briefly "Partial"
    described as {
      |Is partial refund.
    }
  }
} with {
  briefly "Refund info"
  described as {
    |Refund details.
  }
}
type DisputeInfo is {
  disputeId: UUID with {
    briefly "Dispute ID"
    described as {
      |Dispute identifier.
    }
  }
  reason: String(1,200) with {
    briefly "Reason"
    described as {
      |Dispute reason.
    }
  }
  amount: Decimal(12,2) with {
    briefly "Amount"
    described as {
      |Disputed amount.
    }
  }
  dueDate: Date with {
    briefly "Due"
    described as {
      |Response due date.
    }
  }
} with {
  briefly "Dispute info"
  described as {
    |Chargeback dispute details.
  }
}
