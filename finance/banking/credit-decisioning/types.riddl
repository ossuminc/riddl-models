// Credit Decisioning - Shared Types
type DecisionId is Id(DecisionContext.Decision)  with {
  briefly "Decision identifier"
  described as {
    |Unique identifier for a credit decision.
  }
}
type ApplicationId is UUID with {
  briefly "Application identifier"
  described as {
    |Reference to loan application.
  }
}
type ApplicantId is UUID with {
  briefly "Applicant identifier"
  described as {
    |Reference to credit applicant.
  }
}
type DecisionStatus is any of {
  Pending,
  InReview,
  AutoApproved,
  AutoDeclined,
  ManualReview,
  Approved,
  Declined,
  Expired
} with {
  briefly "Decision status"
  described as {
    |Current decision status.
  }
}
type ProductType is any of {
  PersonalLoan,
  AutoLoan,
  Mortgage,
  CreditCard,
  LineOfCredit,
  BusinessLoan
} with {
  briefly "Product type"
  described as {
    |Type of credit product.
  }
}
type RiskTier is any of {
  SuperPrime,
  Prime,
  NearPrime,
  Subprime,
  DeepSubprime
} with {
  briefly "Risk tier"
  described as {
    |Credit risk classification.
  }
}
type DecisionOutcome is any of {
  Approved,
  ApprovedWithConditions,
  CounterOffer,
  Declined,
  ReferToUnderwriterOutcome
} with {
  briefly "Decision outcome"
  described as {
    |Result of credit decision.
  }
}
type ApplicantInfo is {
  applicantId: ApplicantId with {
    briefly "Applicant"
    described as {
      |Applicant identifier.
    }
  }
  firstName: String(1,100) with {
    briefly "First name"
    described as {
      |Applicant first name.
    }
  }
  lastName: String(1,100) with {
    briefly "Last name"
    described as {
      |Applicant last name.
    }
  }
  ssn: String(9,9) with {
    briefly "SSN"
    described as {
      |Social security number.
    }
  }
  dateOfBirth: Date with {
    briefly "DOB"
    described as {
      |Date of birth.
    }
  }
  annualIncome: Decimal(12,2) with {
    briefly "Income"
    described as {
      |Annual income.
    }
  }
  employmentStatus: String(1,50) with {
    briefly "Employment"
    described as {
      |Employment status.
    }
  }
  employmentYears: Natural with {
    briefly "Years employed"
    described as {
      |Years at current employer.
    }
  }
} with {
  briefly "Applicant information"
  described as {
    |Core applicant details.
  }
}
type CreditRequest is {
  productType: ProductType with {
    briefly "Product"
    described as {
      |Credit product type.
    }
  }
  requestedAmount: Decimal(12,2) with {
    briefly "Amount"
    described as {
      |Requested credit amount.
    }
  }
  requestedTerm: Natural with {
    briefly "Term"
    described as {
      |Requested term in months.
    }
  }
  purpose: String(1,200)? with {
    briefly "Purpose"
    described as {
      |Loan purpose.
    }
  }
} with {
  briefly "Credit request"
  described as {
    |Credit request details.
  }
}
type CreditBureauData is {
  bureauName: String(1,50) with {
    briefly "Bureau"
    described as {
      |Credit bureau name.
    }
  }
  creditScore: Natural with {
    briefly "Score"
    described as {
      |Credit score.
    }
  }
  scoreDate: Date with {
    briefly "Score date"
    described as {
      |Date of score.
    }
  }
  totalAccounts: Natural with {
    briefly "Accounts"
    described as {
      |Total credit accounts.
    }
  }
  openAccounts: Natural with {
    briefly "Open"
    described as {
      |Open accounts.
    }
  }
  totalBalance: Decimal(12,2) with {
    briefly "Balance"
    described as {
      |Total outstanding balance.
    }
  }
  utilizationRate: Decimal(5,4) with {
    briefly "Utilization"
    described as {
      |Credit utilization rate.
    }
  }
  delinquencies30: Natural with {
    briefly "30 day"
    described as {
      |30-day delinquencies.
    }
  }
  delinquencies60: Natural with {
    briefly "60 day"
    described as {
      |60-day delinquencies.
    }
  }
  delinquencies90: Natural with {
    briefly "90 day"
    described as {
      |90-day delinquencies.
    }
  }
  bankruptcies: Natural with {
    briefly "Bankruptcies"
    described as {
      |Bankruptcy count.
    }
  }
  inquiries: Natural with {
    briefly "Inquiries"
    described as {
      |Recent credit inquiries.
    }
  }
} with {
  briefly "Credit bureau data"
  described as {
    |Credit report data.
  }
}
type CreditScore is {
  internalScore: Natural with {
    briefly "Internal"
    described as {
      |Internal risk score.
    }
  }
  bureauScore: Natural with {
    briefly "Bureau"
    described as {
      |Bureau credit score.
    }
  }
  riskTier: RiskTier with {
    briefly "Tier"
    described as {
      |Risk tier.
    }
  }
  probabilityOfDefault: Decimal(5,4) with {
    briefly "PD"
    described as {
      |Probability of default.
    }
  }
  expectedLoss: Decimal(12,2) with {
    briefly "EL"
    described as {
      |Expected loss.
    }
  }
} with {
  briefly "Credit score"
  described as {
    |Calculated credit scores.
  }
}
type DecisionResult is {
  outcome: DecisionOutcome with {
    briefly "Outcome"
    described as {
      |Decision outcome.
    }
  }
  approvedAmount: Decimal(12,2)? with {
    briefly "Amount"
    described as {
      |Approved amount.
    }
  }
  approvedTerm: Natural? with {
    briefly "Term"
    described as {
      |Approved term.
    }
  }
  interestRate: Decimal(6,4)? with {
    briefly "Rate"
    described as {
      |Interest rate.
    }
  }
  declineReasons: String(1,200)* with {
    briefly "Reasons"
    described as {
      |Decline reasons.
    }
  }
  conditions: String(1,200)* with {
    briefly "Conditions"
    described as {
      |Approval conditions.
    }
  }
} with {
  briefly "Decision result"
  described as {
    |Credit decision outcome.
  }
}
type PolicyRule is {
  ruleId: String(1,50) with {
    briefly "Rule ID"
    described as {
      |Policy rule identifier.
    }
  }
  ruleName: String(1,100) with {
    briefly "Name"
    described as {
      |Rule name.
    }
  }
  passed: Boolean with {
    briefly "Passed"
    described as {
      |Rule passed.
    }
  }
  message: String(1,200)? with {
    briefly "Message"
    described as {
      |Rule result message.
    }
  }
} with {
  briefly "Policy rule"
  described as {
    |Credit policy rule result.
  }
}
type OverrideInfo is {
  overrideBy: String(1,100) with {
    briefly "Override by"
    described as {
      |Person who overrode.
    }
  }
  reason: String(1,500) with {
    briefly "Reason"
    described as {
      |Override reason.
    }
  }
  overrideAt: TimeStamp with {
    briefly "Override time"
    described as {
      |When overridden.
    }
  }
} with {
  briefly "Override info"
  described as {
    |Decision override details.
  }
}
