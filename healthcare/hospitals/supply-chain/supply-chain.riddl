domain HospitalSupplyChain is {

  author OssumInc is {
    name is "Ossum Inc."
    email is "support@ossuminc.com"
  } with {
    briefly "The author of this domain model"
    described by "Ossum Inc. provides reactive system design and RIDDL tooling."
  }

  user MaterialsManager is "healthcare supply chain manager responsible for inventory levels and procurement"
    with {
      briefly "Materials management professional"
      described by {
        | The Materials Manager oversees the entire supply chain operation
        | for the hospital, ensuring adequate stock levels while minimizing
        | carrying costs and preventing stockouts of critical medical supplies.
      }
    }

  user Buyer is "procurement specialist who places and manages purchase orders"
    with {
      briefly "Procurement specialist"
      described by {
        | The Buyer handles vendor relationships, negotiates contracts,
        | places purchase orders, and tracks order fulfillment. They work
        | closely with Materials Managers to ensure timely procurement.
      }
    }

  user StoreKeeper is "warehouse staff who receives, stores, and issues supplies"
    with {
      briefly "Warehouse operations staff"
      described by {
        | The StoreKeeper manages physical inventory operations including
        | receiving shipments, verifying quantities, storing items properly,
        | and issuing supplies to clinical departments on request.
      }
    }

  epic MedicalSupplyManagement is {
    user MaterialsManager wants "to manage hospital medical supply inventory efficiently"
      so that "clinical departments always have necessary supplies without excessive stockpiling"

    case RequisitionWorkflow is {
      user MaterialsManager wants "to create and approve supply requisitions"
        so that "procurement can begin for needed items"
      step from user MaterialsManager
        "reviews inventory levels and par levels"
        to context SupplyContext
      step from user MaterialsManager
        "creates requisition for low-stock items"
        to context SupplyContext
      step from user MaterialsManager
        "approves requisition for procurement"
        to context SupplyContext
    } with {
      briefly "Workflow for creating and approving requisitions"
      described by {
        | This use case covers the requisition workflow from identifying
        | low inventory through approval for procurement. Materials managers
        | monitor par levels and initiate requisitions when stock falls below
        | minimum thresholds.
      }
    }

    case ProcurementWorkflow is {
      user Buyer wants "to convert requisitions into purchase orders"
        so that "vendors can fulfill supply needs"
      step from user Buyer
        "reviews approved requisitions"
        to context SupplyContext
      step from user Buyer
        "selects vendor and creates purchase order"
        to context VendorCatalog
      step from context SupplyContext
        "sends order to vendor"
        to context VendorCatalog
      step from context VendorCatalog
        "acknowledges order"
        to context SupplyContext
    } with {
      briefly "Workflow for purchasing from vendors"
      described by {
        | This use case covers the procurement process where buyers convert
        | approved requisitions into purchase orders, select appropriate
        | vendors based on pricing and availability, and submit orders for
        | fulfillment.
      }
    }

    case ReceivingWorkflow is {
      user StoreKeeper wants "to receive and verify incoming shipments"
        so that "inventory is accurately updated and discrepancies are caught"
      step from user StoreKeeper
        "receives shipment from vendor"
        to context SupplyContext
      step from user StoreKeeper
        "verifies quantities against purchase order"
        to context SupplyContext
      step from context SupplyContext
        "updates inventory quantities"
        to context SupplyContext
      step from context SupplyContext
        "notifies finance of receipt"
        to context FinanceAP
    } with {
      briefly "Workflow for receiving shipments"
      described by {
        | This use case covers the receiving process where storekeepers
        | accept incoming shipments, verify quantities and quality against
        | purchase orders, and update inventory records. Discrepancies are
        | documented for vendor follow-up.
      }
    }

    case IssuanceWorkflow is {
      user StoreKeeper wants "to issue supplies to clinical departments"
        so that "patient care areas have necessary materials"
      step from context ClinicalUsage
        "requests supplies from store"
        to context SupplyContext
      step from user StoreKeeper
        "picks items from warehouse"
        to context SupplyContext
      step from user StoreKeeper
        "delivers to requesting department"
        to context ClinicalUsage
      step from context SupplyContext
        "decrements inventory"
        to context SupplyContext
    } with {
      briefly "Workflow for issuing supplies to departments"
      described by {
        | This use case covers the issuance process where clinical departments
        | request supplies and storekeepers fulfill those requests by picking,
        | delivering, and recording the inventory decrement.
      }
    }
  } with {
    briefly "Medical supply management epic"
    described by {
      | This epic encompasses the complete lifecycle of medical supply
      | management in a hospital setting, from identifying reorder needs
      | through procurement, receiving, and issuance to clinical departments.
      | It ensures continuity of patient care through reliable supply availability.
    }
  }

  include "types.riddl"
  include "SupplyContext.riddl"
  include "external-contexts.riddl"

} with {
  briefly "Hospital supply chain management domain"
  described by {
    | The Hospital Supply Chain domain manages the procurement, storage,
    | and distribution of medical supplies within a healthcare facility.
    | It ensures clinical departments have access to necessary supplies
    | while optimizing inventory costs and preventing stockouts of
    | critical items. The domain integrates with vendor systems, finance,
    | and clinical usage tracking to provide end-to-end supply visibility.
  }
}
