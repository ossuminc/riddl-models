// Hospital Admission/Discharge - Shared Types

type AdmissionId is Id(AdmissionContext.Admission) with {
  briefly "Admission identifier"
  described by "Unique identifier for a hospital admission."
}

type BedId is UUID with {
  briefly "Bed identifier"
  described by "Unique identifier for a hospital bed."
}

type UnitId is UUID with {
  briefly "Unit identifier"
  described by "Unique identifier for a hospital unit or floor."
}

type PatientId is UUID with {
  briefly "Patient identifier"
  described by "Reference to patient record in registration system."
}

type PhysicianId is UUID with {
  briefly "Physician identifier"
  described by "Reference to attending physician."
}

type AdmissionStatus is any of {
  Pending,
  Admitted,
  Transferred,
  Discharged,
  Deceased
} with {
  briefly "Admission status"
  described by "Current status of the patient admission."
}

type AdmissionType is any of {
  Emergency,
  Urgent,
  Elective,
  Newborn,
  Trauma,
  Observation
} with {
  briefly "Admission type"
  described by "Category of hospital admission."
}

type AccommodationType is any of {
  Private,
  SemiPrivate,
  Ward,
  ICU,
  StepDown,
  Isolation,
  Pediatric,
  Maternity
} with {
  briefly "Accommodation type"
  described by "Type of room or bed accommodation."
}

type DischargeDisposition is any of {
  Home,
  HomeCare,
  SkilledNursingFacility,
  RehabFacility,
  LongTermAcuteCare,
  AnotherHospital,
  Hospice,
  AMA,
  Expired
} with {
  briefly "Discharge disposition"
  described by "Where patient goes after discharge."
}

type PatientCondition is any of {
  Critical,
  Serious,
  Fair,
  Good,
  Stable
} with {
  briefly "Patient condition"
  described by "Current medical condition assessment."
}

type AdmissionInfo is {
  admissionId is AdmissionId with {
    briefly "Admission ID"
    described by "Unique admission identifier."
  }
  patientId is PatientId with {
    briefly "Patient"
    described by "Patient being admitted."
  }
  admissionType is AdmissionType with {
    briefly "Type"
    described by "Type of admission."
  }
  admittingPhysicianId is PhysicianId with {
    briefly "Admitting physician"
    described by "Physician ordering admission."
  }
  attendingPhysicianId is PhysicianId with {
    briefly "Attending physician"
    described by "Primary physician responsible for care."
  }
  admitDiagnosis is String(1, 500) with {
    briefly "Admit diagnosis"
    described by "Primary reason for admission."
  }
  admitDateTime is TimeStamp with {
    briefly "Admit date/time"
    described by "When patient was admitted."
  }
  expectedLOS is optional Natural with {
    briefly "Expected LOS"
    described by "Expected length of stay in days."
  }
  insuranceVerified is Boolean with {
    briefly "Insurance verified"
    described by "Whether insurance has been verified."
  }
} with {
  briefly "Admission information"
  described by "Core admission details."
}

type BedAssignment is {
  bedId is BedId with {
    briefly "Bed"
    described by "Assigned bed identifier."
  }
  unitId is UnitId with {
    briefly "Unit"
    described by "Hospital unit containing the bed."
  }
  unitName is String(1, 100) with {
    briefly "Unit name"
    described by "Name of hospital unit."
  }
  roomNumber is String(1, 20) with {
    briefly "Room"
    described by "Room number."
  }
  bedNumber is String(1, 10) with {
    briefly "Bed"
    described by "Bed designation within room."
  }
  accommodationType is AccommodationType with {
    briefly "Accommodation"
    described by "Type of bed accommodation."
  }
  assignedAt is TimeStamp with {
    briefly "Assigned"
    described by "When bed was assigned."
  }
} with {
  briefly "Bed assignment"
  described by "Patient bed assignment details."
}

type TransferRequest is {
  requestId is UUID with {
    briefly "Request ID"
    described by "Transfer request identifier."
  }
  fromUnitId is UnitId with {
    briefly "From unit"
    described by "Current unit."
  }
  toUnitId is UnitId with {
    briefly "To unit"
    described by "Destination unit."
  }
  reason is String(1, 500) with {
    briefly "Reason"
    described by "Reason for transfer."
  }
  priority is String(1, 20) with {
    briefly "Priority"
    described by "Transfer urgency."
  }
  requestedBy is PhysicianId with {
    briefly "Requested by"
    described by "Physician requesting transfer."
  }
  requestedAt is TimeStamp with {
    briefly "Requested"
    described by "When transfer was requested."
  }
} with {
  briefly "Transfer request"
  described by "Request to transfer patient between units."
}

type DischargeOrder is {
  orderedBy is PhysicianId with {
    briefly "Ordered by"
    described by "Discharging physician."
  }
  disposition is DischargeDisposition with {
    briefly "Disposition"
    described by "Discharge destination."
  }
  dischargeDiagnoses is many String(1, 500) with {
    briefly "Diagnoses"
    described by "Discharge diagnoses."
  }
  dischargeInstructions is String(1, 5000) with {
    briefly "Instructions"
    described by "Patient discharge instructions."
  }
  followUpRequired is Boolean with {
    briefly "Follow-up"
    described by "Whether follow-up appointment needed."
  }
  followUpDays is optional Natural with {
    briefly "Follow-up days"
    described by "Days until follow-up appointment."
  }
  medicationsReconciled is Boolean with {
    briefly "Meds reconciled"
    described by "Whether medications have been reconciled."
  }
  orderedAt is TimeStamp with {
    briefly "Ordered"
    described by "When discharge was ordered."
  }
} with {
  briefly "Discharge order"
  described by "Physician discharge order details."
}

type LengthOfStay is {
  admitDateTime is TimeStamp with {
    briefly "Admit"
    described by "Admission date/time."
  }
  dischargeDateTime is TimeStamp with {
    briefly "Discharge"
    described by "Discharge date/time."
  }
  totalDays is Natural with {
    briefly "Days"
    described by "Total days in hospital."
  }
  icuDays is optional Natural with {
    briefly "ICU days"
    described by "Days in intensive care."
  }
  observationHours is optional Natural with {
    briefly "Obs hours"
    described by "Hours in observation status."
  }
} with {
  briefly "Length of stay"
  described by "Patient length of stay metrics."
}

type TransferHistory is {
  transferId is UUID with {
    briefly "Transfer ID"
    described by "Transfer record identifier."
  }
  fromBed is BedAssignment with {
    briefly "From"
    described by "Previous bed assignment."
  }
  toBed is BedAssignment with {
    briefly "To"
    described by "New bed assignment."
  }
  reason is String(1, 500) with {
    briefly "Reason"
    described by "Reason for transfer."
  }
  transferredAt is TimeStamp with {
    briefly "Transferred"
    described by "When transfer occurred."
  }
} with {
  briefly "Transfer history"
  described by "Record of a patient transfer."
}
