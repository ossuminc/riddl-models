// Hospital Admission/Discharge Domain Model
// Patient admission, bed management, transfers, and discharge
domain AdmissionDischarge is {
  author OssumInc is {
    name = "Ossum Inc."
    email = "support@ossuminc.com"
  } with {
    briefly "Domain author"
    described as {
      |Organization maintaining this domain model.
    }
  }
  user AdmissionsClerk is "staff member handling patient admissions" with {
    briefly "Admissions Clerk"
    described as {
      |Staff responsible for patient registration and admission processing.
    }
  }
  user NurseManager is "nurse managing unit staffing and beds" with {
    briefly "Nurse Manager"
    described as {
      |Nursing leader responsible for unit bed management and patient flow.
    }
  }
  user CaseManager is "case manager coordinating discharge planning" with {
    briefly "Case Manager"
    described as {
      |Staff coordinating care transitions and discharge arrangements.
    }
  }
  user Physician is "attending physician responsible for patient care" with {
    briefly "Physician"
    described as {
      |Doctor responsible for admission orders and discharge decisions.
    }
  }
  epic AdmissionManagementEpic is {
    user AdmissionsClerk wants to "to admit patients efficiently" so that "beds are assigned and care can begin promptly"
    case AdmitPatient is {
      user Physician wants to "to admit a patient to the hospital" so that "inpatient care can be provided"
      step is "Physician writes" "admission orders" "for the patient" with {
        briefly "Admission order"
        described as {
          |Physician creates admission order.
        }
      }
      step is "AdmissionsClerk verifies" "insurance and demographics" "in registration system" with {
        briefly "Verify info"
        described as {
          |Confirm patient information.
        }
      }
      step send command AdmissionContext.Admission.CreateAdmission from user AdmissionsClerk to entity AdmissionContext.Admission with {
        briefly "Create admission"
        described as {
          |Initiate admission record.
        }
      }
      step is "NurseManager identifies" "available bed" "on appropriate unit" with {
        briefly "Find bed"
        described as {
          |Locate suitable bed assignment.
        }
      }
      step send command AdmissionContext.Admission.AssignBed from user NurseManager to entity AdmissionContext.Admission with {
        briefly "Assign bed"
        described as {
          |Assign patient to bed.
        }
      }
    } with {
      briefly "Patient admission workflow"
      described as {
        |Standard process for admitting a patient to the hospital.
      }
    }
    case TransferPatientCase is {
      user NurseManager wants to "to transfer a patient to another unit" so that "the patient receives appropriate level of care"
      step is "Physician requests" "patient transfer" "to different unit" with {
        briefly "Transfer request"
        described as {
          |Physician orders transfer.
        }
      }
      step send command AdmissionContext.Admission.RequestTransfer from user NurseManager to entity AdmissionContext.Admission with {
        briefly "Request transfer"
        described as {
          |Submit transfer request.
        }
      }
      step is "Receiving unit confirms" "bed availability" "for the patient" with {
        briefly "Confirm bed"
        described as {
          |Verify receiving unit has capacity.
        }
      }
      step send command AdmissionContext.Admission.TransferPatient from user NurseManager to entity AdmissionContext.Admission with {
        briefly "Complete transfer"
        described as {
          |Execute patient transfer.
        }
      }
    } with {
      briefly "Patient transfer workflow"
      described as {
        |Process for transferring patient between units.
      }
    }
    case DischargePatient is {
      user CaseManager wants to "to coordinate patient discharge" so that "the patient has a safe transition home or to next level of care"
      step is "Physician determines" "patient ready for discharge" "based on clinical criteria" with {
        briefly "Discharge decision"
        described as {
          |Physician decides patient can be discharged.
        }
      }
      step send command AdmissionContext.Admission.InitiateDischarge from user Physician to entity AdmissionContext.Admission with {
        briefly "Initiate discharge"
        described as {
          |Begin discharge process.
        }
      }
      step is "CaseManager arranges" "post-discharge services" "and follow-up care" with {
        briefly "Arrange services"
        described as {
          |Coordinate discharge needs.
        }
      }
      step is "Nurse provides" "discharge instructions" "to patient and family" with {
        briefly "Discharge teaching"
        described as {
          |Educate patient on post-discharge care.
        }
      }
      step send command AdmissionContext.Admission.CompleteDischarge from user NurseManager to entity AdmissionContext.Admission with {
        briefly "Complete discharge"
        described as {
          |Finalize discharge and release bed.
        }
      }
    } with {
      briefly "Patient discharge workflow"
      described as {
        |Process for safely discharging patient from hospital.
      }
    }
  } with {
    briefly "Admission management epic"
    described as {
      | Epic covering the full patient admission lifecycle from
      | initial admission through transfers and final discharge.
    }
  }
  include "AdmissionContext.riddl"
  include "external-contexts.riddl"
} with {
  briefly "Hospital admission and discharge domain"
  described as {
    | The AdmissionDischarge domain handles inpatient admission,
    | bed management, inter-unit transfers, and discharge planning.
  }
}
