// Hospital Admission/Discharge Domain Model
// Patient admission, bed management, transfers, and discharge

domain AdmissionDischarge is {

  author OssumInc is {
    name is "Ossum Inc."
    email is "support@ossuminc.com"
  } with {
    briefly "Domain author"
    described by "Organization maintaining this domain model."
  }

  user AdmissionsClerk is "staff member handling patient admissions" with {
    briefly "Admissions Clerk"
    described by "Staff responsible for patient registration and admission processing."
  }

  user NurseManager is "nurse managing unit staffing and beds" with {
    briefly "Nurse Manager"
    described by "Nursing leader responsible for unit bed management and patient flow."
  }

  user CaseManager is "case manager coordinating discharge planning" with {
    briefly "Case Manager"
    described by "Staff coordinating care transitions and discharge arrangements."
  }

  user Physician is "attending physician responsible for patient care" with {
    briefly "Physician"
    described by "Doctor responsible for admission orders and discharge decisions."
  }

  epic AdmissionManagementEpic is {
    user AdmissionsClerk wants "to admit patients efficiently"
      so that "beds are assigned and care can begin promptly"

    case AdmitPatient is {
      user Physician wants "to admit a patient to the hospital"
        so that "inpatient care can be provided"
      step is "Physician writes" "admission orders" "for the patient"
        with { briefly "Admission order" described by "Physician creates admission order." }
      step is "AdmissionsClerk verifies" "insurance and demographics" "in registration system"
        with { briefly "Verify info" described by "Confirm patient information." }
      step send command AdmissionContext.Admission.CreateAdmission from user AdmissionsClerk to entity AdmissionContext.Admission
        with { briefly "Create admission" described by "Initiate admission record." }
      step is "NurseManager identifies" "available bed" "on appropriate unit"
        with { briefly "Find bed" described by "Locate suitable bed assignment." }
      step send command AdmissionContext.Admission.AssignBed from user NurseManager to entity AdmissionContext.Admission
        with { briefly "Assign bed" described by "Assign patient to bed." }
    } with {
      briefly "Patient admission workflow"
      described by "Standard process for admitting a patient to the hospital."
    }

    case TransferPatientCase is {
      user NurseManager wants "to transfer a patient to another unit"
        so that "the patient receives appropriate level of care"
      step is "Physician requests" "patient transfer" "to different unit"
        with { briefly "Transfer request" described by "Physician orders transfer." }
      step send command AdmissionContext.Admission.RequestTransfer from user NurseManager to entity AdmissionContext.Admission
        with { briefly "Request transfer" described by "Submit transfer request." }
      step is "Receiving unit confirms" "bed availability" "for the patient"
        with { briefly "Confirm bed" described by "Verify receiving unit has capacity." }
      step send command AdmissionContext.Admission.TransferPatient from user NurseManager to entity AdmissionContext.Admission
        with { briefly "Complete transfer" described by "Execute patient transfer." }
    } with {
      briefly "Patient transfer workflow"
      described by "Process for transferring patient between units."
    }

    case DischargePatient is {
      user CaseManager wants "to coordinate patient discharge"
        so that "the patient has a safe transition home or to next level of care"
      step is "Physician determines" "patient ready for discharge" "based on clinical criteria"
        with { briefly "Discharge decision" described by "Physician decides patient can be discharged." }
      step send command AdmissionContext.Admission.InitiateDischarge from user Physician to entity AdmissionContext.Admission
        with { briefly "Initiate discharge" described by "Begin discharge process." }
      step is "CaseManager arranges" "post-discharge services" "and follow-up care"
        with { briefly "Arrange services" described by "Coordinate discharge needs." }
      step is "Nurse provides" "discharge instructions" "to patient and family"
        with { briefly "Discharge teaching" described by "Educate patient on post-discharge care." }
      step send command AdmissionContext.Admission.CompleteDischarge from user NurseManager to entity AdmissionContext.Admission
        with { briefly "Complete discharge" described by "Finalize discharge and release bed." }
    } with {
      briefly "Patient discharge workflow"
      described by "Process for safely discharging patient from hospital."
    }
  } with {
    briefly "Admission management epic"
    described by {
      | Epic covering the full patient admission lifecycle from
      | initial admission through transfers and final discharge.
    }
  }

  include "AdmissionContext.riddl"
  include "external-contexts.riddl"

} with {
  briefly "Hospital admission and discharge domain"
  described by {
    | The AdmissionDischarge domain handles inpatient admission,
    | bed management, inter-unit transfers, and discharge planning.
  }
}
