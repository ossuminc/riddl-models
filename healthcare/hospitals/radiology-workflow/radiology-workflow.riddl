// Radiology Workflow Domain Model
// Comprehensive model for managing imaging orders, scheduling, acquisition,
// and interpretation in a hospital radiology department
domain RadiologyWorkflow is {
  // ==========================================================================
  // Author
  // ==========================================================================
  author OssumInc is {
    name = "Ossum Inc."
    email = "support@ossuminc.com"
  } with {
    briefly "Domain model author"
    described as {
      | Ossum Inc. develops domain-driven design tools and models
      | for healthcare and other industries.
    }
  }
  // ==========================================================================
  // Users
  // ==========================================================================
  user Radiologist is "a physician who interprets imaging studies" with {
    briefly "Interpreting radiologist"
    described as {
      | A board-certified radiologist who reviews medical images and creates
      | diagnostic reports. Responsible for study interpretation, critical
      | finding communication, and report finalization.
    }
  }
  user RadTechnologist is "a technician who performs imaging procedures" with {
    briefly "Radiology technologist"
    described as {
      | A licensed radiologic technologist who operates imaging equipment,
      | positions patients, and acquires diagnostic images. Ensures image
      | quality and patient safety during examinations.
    }
  }
  user OrderingPhysician is "a physician who orders imaging studies" with {
    briefly "Ordering clinician"
    described as {
      | A physician who requests imaging examinations for diagnostic purposes.
      | Provides clinical indication and receives the radiology report with
      | findings and recommendations.
    }
  }
  user RadScheduler is "staff who schedule imaging appointments" with {
    briefly "Radiology scheduler"
    described as {
      | Administrative staff responsible for scheduling imaging examinations,
      | managing modality capacity, and coordinating patient appointments.
      | Handles exam prioritization and resource allocation.
    }
  }
  // ==========================================================================
  // Epic
  // ==========================================================================
  epic ImagingWorkflow is {
    user RadiologyWorkflow.OrderingPhysician wants to "to order imaging studies with clinical context" so that "patients receive appropriate diagnostic imaging"
    case OrderAndScheduleExam is {
      user RadiologyWorkflow.OrderingPhysician wants to "to order an imaging study" so that "the patient can be scheduled for diagnostic imaging"
      step from user RadiologyWorkflow.OrderingPhysician "submits imaging order with clinical indication" to context RadiologyContext
      step from context RadiologyContext "validates order and creates exam" to user RadiologyWorkflow.RadScheduler
      step from user RadiologyWorkflow.RadScheduler "schedules exam on available modality" to context RadiologyContext
      step from context RadiologyContext "confirms appointment" to user RadiologyWorkflow.OrderingPhysician
    } with {
      briefly "Order and schedule imaging examination"
      described as {
        | Covers the workflow from physician order entry through scheduling
        | confirmation. Includes order validation, protocol selection, and
        | appointment booking.
      }
    }
    case AcquireImages is {
      user RadiologyWorkflow.RadTechnologist wants to "to perform the imaging examination" so that "diagnostic images are acquired for interpretation"
      step from user RadiologyWorkflow.RadTechnologist "checks in patient and verifies identity" to context RadiologyContext
      step from context RadiologyContext "retrieves exam protocol and worklist" to user RadiologyWorkflow.RadTechnologist
      step from user RadiologyWorkflow.RadTechnologist "performs imaging procedure" to context RadiologyContext
      step from context RadiologyContext "sends images to PACS" to context PACSIntegration
    } with {
      briefly "Acquire diagnostic images"
      described as {
        | Covers the workflow from patient check-in through image acquisition
        | and storage. Includes safety screening, protocol execution, and
        | PACS integration.
      }
    }
    case InterpretAndReport is {
      user RadiologyWorkflow.Radiologist wants to "to interpret the imaging study" so that "diagnostic findings are communicated to the ordering physician"
      step from context RadiologyContext "notifies radiologist of completed study" to user RadiologyWorkflow.Radiologist
      step from user RadiologyWorkflow.Radiologist "reviews images and dictates findings" to context SpeechRecognition
      step from context SpeechRecognition "transcribes dictation" to context RadiologyContext
      step from user RadiologyWorkflow.Radiologist "reviews and signs report" to context RadiologyContext
      step from context RadiologyContext "distributes report" to user RadiologyWorkflow.OrderingPhysician
    } with {
      briefly "Interpret study and create report"
      described as {
        | Covers the interpretation workflow from study notification through
        | report finalization and distribution. Includes speech recognition
        | integration and critical finding communication.
      }
    }
  } with {
    briefly "Complete imaging workflow epic"
    described as {
      | The ImagingWorkflow epic encompasses the entire radiology workflow
      | from order entry through report distribution. It integrates ordering,
      | scheduling, acquisition, and interpretation processes while ensuring
      | efficient resource utilization and timely communication of results.
    }
  }
  // ==========================================================================
  // Includes
  // ==========================================================================
  include "RadiologyContext.riddl"
  include "external-contexts.riddl"
} with {
  briefly "Radiology workflow domain"
  described as {
    | The RadiologyWorkflow domain models the complete lifecycle of imaging
    | examinations in a hospital radiology department. It covers order
    | management, scheduling, image acquisition, interpretation, and reporting
    | while integrating with PACS, RIS, and speech recognition systems.
    |
    | Key capabilities:
    | - Imaging order management with clinical decision support
    | - Modality scheduling and capacity optimization
    | - Patient workflow tracking from check-in to completion
    | - Radiologist worklist and interpretation workflow
    | - Critical finding communication and compliance tracking
    | - Operational analytics for turnaround time and utilization
  }
}
