// Patient Registration Domain Model
// Patient demographics and registration management

domain PatientRegistration is {

  author OssumInc is {
    name is "Ossum Inc."
    email is "support@ossuminc.com"
  } with {
    briefly "Domain author"
    described by "Organization maintaining this domain model."
  }

  user Registrar is "person registering patients" with {
    briefly "Registrar"
    described by "Person handling patient registration."
  }

  user PatientUser is "patient accessing their information" with {
    briefly "Patient"
    described by "Person receiving healthcare."
  }

  user HealthInformationManager is "person managing patient data" with {
    briefly "HIM Staff"
    described by "Health information management staff."
  }

  epic RegistrationEpic is {
    user Registrar wants "to register patients efficiently"
      so that "patients can receive care"

    case RegisterNewPatient is {
      user Registrar wants "to register a new patient"
        so that "they can be seen by providers"
      step is "Patient provides" "demographic information" "to registrar"
        with { briefly "Collect info" described by "Get demographics." }
      step is "System validates" "patient identity" "and insurance"
        with { briefly "Validate" described by "Verify information." }
      step send command PatientContext.Patient.RegisterPatient from user Registrar to entity PatientContext.Patient
        with { briefly "Register" described by "Create patient record." }
      step is "System assigns" "medical record number" "to patient"
        with { briefly "Assign MRN" described by "Generate identifier." }
    } with {
      briefly "Registration workflow"
      described by "New patient registration process."
    }
  } with {
    briefly "Patient registration"
    described by {
      | Epic covering patient registration from initial
      | intake through record creation and verification.
    }
  }

  include "PatientContext.riddl"
  include "external-contexts.riddl"

} with {
  briefly "Patient registration domain"
  described by {
    | The PatientRegistration domain handles patient
    | demographics, identity, and registration management.
  }
}
