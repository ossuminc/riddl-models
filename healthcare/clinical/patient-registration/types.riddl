// Patient Registration - Shared Types

type PatientId is Id(PatientContext.Patient) with {
  briefly "Patient identifier"
  described by "Unique identifier for a patient."
}

type MRN is String(1, 20) with {
  briefly "Medical record number"
  described by "Facility medical record number."
}

type SSN is String(9, 9) with {
  briefly "Social security number"
  described by "Patient SSN for identity."
}

type InsuranceId is UUID with {
  briefly "Insurance identifier"
  described by "Reference to insurance coverage."
}

type PatientStatus is any of {
  Active,
  Inactive,
  Deceased,
  Merged,
  Deleted
} with {
  briefly "Patient status"
  described by "Current patient status."
}

type Gender is any of {
  Male,
  Female,
  Other,
  Unknown
} with {
  briefly "Gender"
  described by "Patient gender."
}

type MaritalStatus is any of {
  Single,
  Married,
  Divorced,
  Widowed,
  Separated,
  Unknown
} with {
  briefly "Marital status"
  described by "Patient marital status."
}

type Demographics is {
  firstName is String(1, 100) with {
    briefly "First name"
    described by "Legal first name."
  }
  middleName is optional String(1, 100) with {
    briefly "Middle name"
    described by "Middle name."
  }
  lastName is String(1, 100) with {
    briefly "Last name"
    described by "Legal last name."
  }
  dateOfBirth is Date with {
    briefly "DOB"
    described by "Date of birth."
  }
  gender is Gender with {
    briefly "Gender"
    described by "Patient gender."
  }
  ssn is optional SSN with {
    briefly "SSN"
    described by "Social security number."
  }
  maritalStatus is optional MaritalStatus with {
    briefly "Marital status"
    described by "Marital status."
  }
  preferredLanguage is optional String(2, 5) with {
    briefly "Language"
    described by "Preferred language code."
  }
  race is optional String(1, 50) with {
    briefly "Race"
    described by "Patient race."
  }
  ethnicity is optional String(1, 50) with {
    briefly "Ethnicity"
    described by "Patient ethnicity."
  }
} with {
  briefly "Demographics"
  described by "Patient demographic information."
}

type AddressInfo is {
  addressLine1 is String(1, 200) with {
    briefly "Line 1"
    described by "Street address."
  }
  addressLine2 is optional String(1, 200) with {
    briefly "Line 2"
    described by "Additional address."
  }
  city is String(1, 100) with {
    briefly "City"
    described by "City name."
  }
  state is String(2, 2) with {
    briefly "State"
    described by "State code."
  }
  zipCode is String(5, 10) with {
    briefly "ZIP"
    described by "ZIP code."
  }
  country is String(2, 3) with {
    briefly "Country"
    described by "Country code."
  }
  addressType is String(1, 20) with {
    briefly "Type"
    described by "Address type."
  }
} with {
  briefly "Address"
  described by "Patient address."
}

type ContactInfo is {
  homePhone is optional String(10, 15) with {
    briefly "Home"
    described by "Home phone."
  }
  mobilePhone is optional String(10, 15) with {
    briefly "Mobile"
    described by "Mobile phone."
  }
  workPhone is optional String(10, 15) with {
    briefly "Work"
    described by "Work phone."
  }
  email is optional String(5, 254) with {
    briefly "Email"
    described by "Email address."
  }
  preferredContact is String(1, 20) with {
    briefly "Preferred"
    described by "Preferred contact method."
  }
} with {
  briefly "Contact info"
  described by "Patient contact information."
}

type EmergencyContact is {
  name is String(1, 200) with {
    briefly "Name"
    described by "Contact name."
  }
  relationship is String(1, 50) with {
    briefly "Relationship"
    described by "Relationship to patient."
  }
  phone is String(10, 15) with {
    briefly "Phone"
    described by "Contact phone."
  }
} with {
  briefly "Emergency contact"
  described by "Emergency contact information."
}

type InsuranceCoverage is {
  insuranceId is InsuranceId with {
    briefly "Insurance"
    described by "Insurance identifier."
  }
  payerName is String(1, 200) with {
    briefly "Payer"
    described by "Insurance company name."
  }
  policyNumber is String(1, 50) with {
    briefly "Policy"
    described by "Policy number."
  }
  groupNumber is optional String(1, 50) with {
    briefly "Group"
    described by "Group number."
  }
  subscriberId is String(1, 50) with {
    briefly "Subscriber"
    described by "Subscriber ID."
  }
  subscriberRelationship is String(1, 20) with {
    briefly "Relationship"
    described by "Relationship to subscriber."
  }
  effectiveDate is Date with {
    briefly "Effective"
    described by "Coverage start date."
  }
  terminationDate is optional Date with {
    briefly "Termination"
    described by "Coverage end date."
  }
  isPrimary is Boolean with {
    briefly "Primary"
    described by "Is primary insurance."
  }
} with {
  briefly "Insurance coverage"
  described by "Patient insurance information."
}

type Consent is {
  consentType is String(1, 50) with {
    briefly "Type"
    described by "Consent type."
  }
  granted is Boolean with {
    briefly "Granted"
    described by "Was consent given."
  }
  grantedAt is TimeStamp with {
    briefly "Granted at"
    described by "When consent was given."
  }
  expiresAt is optional TimeStamp with {
    briefly "Expires"
    described by "When consent expires."
  }
} with {
  briefly "Consent"
  described by "Patient consent record."
}
