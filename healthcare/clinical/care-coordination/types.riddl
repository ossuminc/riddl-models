// Care Coordination - Shared Types
type CarePlanId is Id(CarePlanContext.CarePlan)  with {
  briefly "Care plan identifier"
  described as {
    |Unique identifier for a care plan.
  }
}
type PatientId is UUID with {
  briefly "Patient identifier"
  described as {
    |Reference to patient.
  }
}
type ProviderId is UUID with {
  briefly "Provider identifier"
  described as {
    |Reference to care team member.
  }
}
type ReferralId is UUID with {
  briefly "Referral identifier"
  described as {
    |Reference to a referral.
  }
}
type GoalId is UUID with {
  briefly "Goal identifier"
  described as {
    |Reference to a care goal.
  }
}
type TaskId is UUID with {
  briefly "Task identifier"
  described as {
    |Reference to a care task.
  }
}
type CarePlanStatus is any of {
  Draft,
  Active,
  OnHold,
  Completed,
  Canceled
} with {
  briefly "Care plan status"
  described as {
    |Current plan status.
  }
}
type GoalStatus is any of {
  NotStarted,
  InProgress,
  Achieved,
  NotAchieved,
  Deferred
} with {
  briefly "Goal status"
  described as {
    |Current goal status.
  }
}
type ReferralStatus is any of {
  Pending,
  Sent,
  Received,
  Scheduled,
  Completed,
  Canceled
} with {
  briefly "Referral status"
  described as {
    |Current referral status.
  }
}
type TaskStatus is any of {
  Pending,
  InProgress,
  Completed,
  Canceled,
  Overdue
} with {
  briefly "Task status"
  described as {
    |Current task status.
  }
}
type CareTeamRole is any of {
  PrimaryCarePhysician,
  Specialist,
  Nurse,
  CareCoordinatorRole,
  SocialWorker,
  Pharmacist,
  Therapist,
  FamilyMember
} with {
  briefly "Care team role"
  described as {
    |Role on care team.
  }
}
type CareTeamMember is {
  providerId: ProviderId with {
    briefly "Provider"
    described as {
      |Team member ID.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Member name.
    }
  }
  role: CareTeamRole with {
    briefly "Role"
    described as {
      |Team role.
    }
  }
  memberSpecialty: String(1,100)? with {
    briefly "Specialty"
    described as {
      |Medical specialty.
    }
  }
  isPrimary: Boolean with {
    briefly "Primary"
    described as {
      |Is primary for role.
    }
  }
} with {
  briefly "Care team member"
  described as {
    |Member of care team.
  }
}
type CareGoal is {
  goalId: GoalId with {
    briefly "Goal"
    described as {
      |Goal identifier.
    }
  }
  description: String(1,500) with {
    briefly "Description"
    described as {
      |Goal description.
    }
  }
  targetDate: Date? with {
    briefly "Target"
    described as {
      |Target date.
    }
  }
  goalStatus: GoalStatus with {
    briefly "Status"
    described as {
      |Goal status.
    }
  }
  goalAssignedTo: ProviderId? with {
    briefly "Assigned"
    described as {
      |Responsible provider.
    }
  }
  progress: String(1,1000)? with {
    briefly "Progress"
    described as {
      |Progress notes.
    }
  }
} with {
  briefly "Care goal"
  described as {
    |Patient care goal.
  }
}
type CareTask is {
  taskId: TaskId with {
    briefly "Task"
    described as {
      |Task identifier.
    }
  }
  description: String(1,500) with {
    briefly "Description"
    described as {
      |Task description.
    }
  }
  taskAssignedTo: ProviderId with {
    briefly "Assigned"
    described as {
      |Assigned provider.
    }
  }
  dueDate: Date with {
    briefly "Due"
    described as {
      |Due date.
    }
  }
  taskStatus: TaskStatus with {
    briefly "Status"
    described as {
      |Task status.
    }
  }
  relatedGoalId: GoalId? with {
    briefly "Goal"
    described as {
      |Related goal.
    }
  }
} with {
  briefly "Care task"
  described as {
    |Care plan task.
  }
}
type Referral is {
  referralId: ReferralId with {
    briefly "Referral"
    described as {
      |Referral identifier.
    }
  }
  referringProvider: ProviderId with {
    briefly "Referring"
    described as {
      |Referring provider.
    }
  }
  receivingProvider: ProviderId with {
    briefly "Receiving"
    described as {
      |Receiving provider.
    }
  }
  referralSpecialty: String(1,100) with {
    briefly "Specialty"
    described as {
      |Referral specialty.
    }
  }
  reason: String(1,500) with {
    briefly "Reason"
    described as {
      |Referral reason.
    }
  }
  urgency: String(1,20) with {
    briefly "Urgency"
    described as {
      |Referral urgency.
    }
  }
  referralStatus: ReferralStatus with {
    briefly "Status"
    described as {
      |Referral status.
    }
  }
  createdAt: TimeStamp with {
    briefly "Created"
    described as {
      |Creation time.
    }
  }
} with {
  briefly "Referral"
  described as {
    |Provider referral.
  }
}
type Condition is {
  code: String(3,10) with {
    briefly "Code"
    described as {
      |ICD-10 code.
    }
  }
  description: String(1,500) with {
    briefly "Description"
    described as {
      |Condition description.
    }
  }
  isPrimary: Boolean with {
    briefly "Primary"
    described as {
      |Is primary condition.
    }
  }
} with {
  briefly "Condition"
  described as {
    |Patient condition.
  }
}
