// Appointment Scheduling - Shared Types

type AppointmentId is Id(AppointmentContext.Appointment) with {
  briefly "Appointment identifier"
  described by "Unique identifier for an appointment."
}

type PatientId is UUID with {
  briefly "Patient identifier"
  described by "Reference to patient."
}

type ProviderId is UUID with {
  briefly "Provider identifier"
  described by "Reference to provider."
}

type LocationId is UUID with {
  briefly "Location identifier"
  described by "Reference to facility location."
}

type SlotId is UUID with {
  briefly "Slot identifier"
  described by "Reference to schedule slot."
}

type AppointmentStatus is any of {
  Scheduled,
  Confirmed,
  CheckedIn,
  InProgress,
  Completed,
  Canceled,
  NoShow,
  Rescheduled
} with {
  briefly "Appointment status"
  described by "Current appointment status."
}

type AppointmentType is any of {
  NewPatient,
  FollowUp,
  Routine,
  Urgent,
  Telehealth,
  Procedure,
  Consultation,
  WellVisit
} with {
  briefly "Appointment type"
  described by "Type of visit."
}

type RecurrencePattern is any of {
  None,
  Weekly,
  BiWeekly,
  Monthly,
  Quarterly,
  Annual
} with {
  briefly "Recurrence"
  described by "Recurring appointment pattern."
}

type AppointmentDetails is {
  appointmentType is AppointmentType with {
    briefly "Type"
    described by "Appointment type."
  }
  visitReason is String(1, 500) with {
    briefly "Reason"
    described by "Visit reason."
  }
  duration is Natural with {
    briefly "Duration"
    described by "Duration in minutes."
  }
  notes is optional String(1, 1000) with {
    briefly "Notes"
    described by "Additional notes."
  }
} with {
  briefly "Appointment details"
  described by "Appointment information."
}

type TimeSlot is {
  slotId is SlotId with {
    briefly "Slot"
    described by "Slot identifier."
  }
  startTime is TimeStamp with {
    briefly "Start"
    described by "Slot start time."
  }
  endTime is TimeStamp with {
    briefly "End"
    described by "Slot end time."
  }
  isAvailable is Boolean with {
    briefly "Available"
    described by "Is slot available."
  }
} with {
  briefly "Time slot"
  described by "Schedulable time slot."
}

type ProviderSchedule is {
  providerId is ProviderId with {
    briefly "Provider"
    described by "Provider identifier."
  }
  locationId is LocationId with {
    briefly "Location"
    described by "Practice location."
  }
  scheduleDate is Date with {
    briefly "Date"
    described by "Schedule date."
  }
  slots is many TimeSlot with {
    briefly "Slots"
    described by "Available slots."
  }
} with {
  briefly "Provider schedule"
  described by "Provider's daily schedule."
}

type ReminderSettings is {
  sendEmail is Boolean with {
    briefly "Email"
    described by "Send email reminder."
  }
  sendSMS is Boolean with {
    briefly "SMS"
    described by "Send SMS reminder."
  }
  reminderHours is Natural with {
    briefly "Hours"
    described by "Hours before appointment."
  }
} with {
  briefly "Reminder settings"
  described by "Appointment reminder preferences."
}

type CancellationInfo is {
  cancellationReason is String(1, 200) with {
    briefly "Reason"
    described by "Cancellation reason."
  }
  canceledBy is String(1, 100) with {
    briefly "Canceled by"
    described by "Who canceled."
  }
  canceledAt is TimeStamp with {
    briefly "Canceled"
    described by "Cancellation time."
  }
} with {
  briefly "Cancellation info"
  described by "Cancellation details."
}

type RescheduleInfo is {
  previousTime is TimeStamp with {
    briefly "Previous"
    described by "Original time."
  }
  newTime is TimeStamp with {
    briefly "New"
    described by "New appointment time."
  }
  rescheduleReason is optional String(1, 200) with {
    briefly "Reason"
    described by "Reschedule reason."
  }
  rescheduledBy is String(1, 100) with {
    briefly "Rescheduled by"
    described by "Who rescheduled."
  }
} with {
  briefly "Reschedule info"
  described by "Reschedule details."
}

type CheckInInfo is {
  checkedInAt is TimeStamp with {
    briefly "Checked in"
    described by "Check-in time."
  }
  checkedInBy is String(1, 100) with {
    briefly "Checked in by"
    described by "Who checked patient in."
  }
} with {
  briefly "Check-in info"
  described by "Patient check-in details."
}
