// Clinical Encounter Domain Model
// Patient visit documentation and clinical notes

domain ClinicalEncounter is {

  author OssumInc is {
    name is "Ossum Inc."
    email is "support@ossuminc.com"
  } with {
    briefly "Domain author"
    described by "Organization maintaining this domain model."
  }

  user Physician is "medical doctor providing care" with {
    briefly "Physician"
    described by "Doctor seeing the patient."
  }

  user Nurse is "nursing staff member" with {
    briefly "Nurse"
    described by "Nurse supporting patient care."
  }

  user MedicalCoder is "person coding encounters for billing" with {
    briefly "Medical Coder"
    described by "Person assigning diagnosis and procedure codes."
  }

  epic EncounterEpic is {
    user Physician wants "to document patient encounters"
      so that "care is properly recorded"

    case DocumentVisit is {
      user Physician wants "to document a patient visit"
        so that "clinical notes are complete"
      step is "Patient arrives" "for scheduled appointment" "at clinic"
        with { briefly "Patient arrives" described by "Check-in." }
      step is "Nurse performs" "vitals and preliminary assessment" "on patient"
        with { briefly "Vitals" described by "Record vitals." }
      step send command EncounterContext.Encounter.StartEncounter from user Physician to entity EncounterContext.Encounter
        with { briefly "Start" described by "Begin encounter." }
      step is "Physician documents" "assessment and plan" "in chart"
        with { briefly "Document" described by "Record findings." }
    } with {
      briefly "Visit documentation"
      described by "Standard clinical visit workflow."
    }
  } with {
    briefly "Clinical encounters"
    described by {
      | Epic covering clinical encounters from patient
      | arrival through documentation and coding.
    }
  }

  include "EncounterContext.riddl"
  include "external-contexts.riddl"

} with {
  briefly "Clinical encounter domain"
  described by {
    | The ClinicalEncounter domain handles patient visit
    | documentation, clinical notes, and encounter coding.
  }
}
