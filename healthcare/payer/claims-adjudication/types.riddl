// Claims Adjudication - Shared Types
type ClaimId is Id(ClaimContext.Claim)  with {
  briefly "Claim identifier"
  described as {
    |Unique identifier for a claim.
  }
}
type MemberId is UUID with {
  briefly "Member identifier"
  described as {
    |Reference to insured member.
  }
}
type ProviderId is UUID with {
  briefly "Provider identifier"
  described as {
    |Reference to healthcare provider.
  }
}
type PolicyId is UUID with {
  briefly "Policy identifier"
  described as {
    |Reference to insurance policy.
  }
}
type ServiceLineId is UUID with {
  briefly "Service line identifier"
  described as {
    |Reference to claim service line.
  }
}
type ClaimStatus is any of {
  Received,
  InProcess,
  Pended,
  Approved,
  PartiallyApproved,
  Denied,
  Paid,
  Appealed,
  Voided
} with {
  briefly "Claim status"
  described as {
    |Current claim status.
  }
}
type ClaimType is any of {
  Professional,
  Institutional,
  Pharmacy,
  Dental,
  Vision
} with {
  briefly "Claim type"
  described as {
    |Type of claim.
  }
}
type DenialReason is any of {
  NotCovered,
  NotEligible,
  NotAuthorized,
  DuplicateClaim,
  TimingExceeded,
  CodingError,
  IncompleteInformation,
  MedicalNecessity
} with {
  briefly "Denial reason"
  described as {
    |Reason for claim denial.
  }
}
type PendReason is any of {
  AdditionalInfoRequired,
  MedicalReview,
  CoordinationOfBenefits,
  PreAuthorizationRequired,
  ProviderContract
} with {
  briefly "Pend reason"
  described as {
    |Reason claim is pended.
  }
}
type DiagnosisCode is String(3,10) with {
  briefly "Diagnosis code"
  described as {
    |ICD-10 diagnosis code.
  }
}
type ProcedureCode is String(5,10) with {
  briefly "Procedure code"
  described as {
    |CPT/HCPCS procedure code.
  }
}
type MemberInfo is {
  memberId: MemberId with {
    briefly "Member"
    described as {
      |Member identifier.
    }
  }
  firstName: String(1,100) with {
    briefly "First name"
    described as {
      |Member first name.
    }
  }
  lastName: String(1,100) with {
    briefly "Last name"
    described as {
      |Member last name.
    }
  }
  dateOfBirth: Date with {
    briefly "DOB"
    described as {
      |Date of birth.
    }
  }
  policyId: PolicyId with {
    briefly "Policy"
    described as {
      |Insurance policy.
    }
  }
} with {
  briefly "Member info"
  described as {
    |Insured member information.
  }
}
type ProviderInfo is {
  providerId: ProviderId with {
    briefly "Provider"
    described as {
      |Provider identifier.
    }
  }
  npi: String(10,10) with {
    briefly "NPI"
    described as {
      |National provider identifier.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Provider name.
    }
  }
  taxId: String(9,9) with {
    briefly "Tax ID"
    described as {
      |Tax identifier.
    }
  }
  isInNetwork: Boolean with {
    briefly "In-network"
    described as {
      |Is in-network provider.
    }
  }
} with {
  briefly "Provider info"
  described as {
    |Healthcare provider information.
  }
}
type ServiceLine is {
  lineId: ServiceLineId with {
    briefly "Line"
    described as {
      |Service line ID.
    }
  }
  lineNumber: Natural with {
    briefly "Number"
    described as {
      |Line number.
    }
  }
  procedureCode: ProcedureCode with {
    briefly "Procedure"
    described as {
      |Procedure code.
    }
  }
  modifiers: String(2,2)* with {
    briefly "Modifiers"
    described as {
      |Procedure modifiers.
    }
  }
  serviceDate: Date with {
    briefly "Service date"
    described as {
      |Date of service.
    }
  }
  units: Natural with {
    briefly "Units"
    described as {
      |Service units.
    }
  }
  chargedAmount: Decimal(10,2) with {
    briefly "Charged"
    described as {
      |Charged amount.
    }
  }
  allowedAmount: Decimal(10,2)? with {
    briefly "Allowed"
    described as {
      |Allowed amount.
    }
  }
  paidAmount: Decimal(10,2)? with {
    briefly "Paid"
    described as {
      |Paid amount.
    }
  }
  denialReason: DenialReason? with {
    briefly "Denial"
    described as {
      |Line denial reason.
    }
  }
} with {
  briefly "Service line"
  described as {
    |Claim service line.
  }
}
type ClaimHeader is {
  claimType: ClaimType with {
    briefly "Type"
    described as {
      |Claim type.
    }
  }
  placeOfService: String(2,2) with {
    briefly "POS"
    described as {
      |Place of service code.
    }
  }
  diagnoses: DiagnosisCode+ with {
    briefly "Diagnoses"
    described as {
      |Diagnosis codes.
    }
  }
  serviceFromDate: Date with {
    briefly "From"
    described as {
      |Service start date.
    }
  }
  serviceToDate: Date with {
    briefly "To"
    described as {
      |Service end date.
    }
  }
  totalCharged: Decimal(12,2) with {
    briefly "Total charged"
    described as {
      |Total charged amount.
    }
  }
} with {
  briefly "Claim header"
  described as {
    |Claim header information.
  }
}
type PaymentInfo is {
  allowedAmount: Decimal(12,2) with {
    briefly "Allowed"
    described as {
      |Total allowed amount.
    }
  }
  paidAmount: Decimal(12,2) with {
    briefly "Paid"
    described as {
      |Amount paid to provider.
    }
  }
  memberResponsibility: Decimal(10,2) with {
    briefly "Member"
    described as {
      |Member responsibility.
    }
  }
  copay: Decimal(8,2) with {
    briefly "Copay"
    described as {
      |Copay amount.
    }
  }
  deductible: Decimal(8,2) with {
    briefly "Deductible"
    described as {
      |Deductible applied.
    }
  }
  coinsurance: Decimal(8,2) with {
    briefly "Coinsurance"
    described as {
      |Coinsurance amount.
    }
  }
  checkNumber: String(1,30)? with {
    briefly "Check"
    described as {
      |Payment check number.
    }
  }
  paidDate: Date? with {
    briefly "Paid date"
    described as {
      |Payment date.
    }
  }
} with {
  briefly "Payment info"
  described as {
    |Claim payment details.
  }
}
type AppealInfo is {
  appealReason: String(1,500) with {
    briefly "Reason"
    described as {
      |Appeal reason.
    }
  }
  appealedBy: String(1,100) with {
    briefly "Appealed by"
    described as {
      |Who filed appeal.
    }
  }
  appealedAt: TimeStamp with {
    briefly "Appealed"
    described as {
      |Appeal time.
    }
  }
  supportingDocs: String(1,200)* with {
    briefly "Documents"
    described as {
      |Supporting documents.
    }
  }
} with {
  briefly "Appeal info"
  described as {
    |Claim appeal information.
  }
}
