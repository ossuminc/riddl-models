// Claims Adjudication - Shared Types

type ClaimId is Id(ClaimContext.Claim) with {
  briefly "Claim identifier"
  described by "Unique identifier for a claim."
}

type MemberId is UUID with {
  briefly "Member identifier"
  described by "Reference to insured member."
}

type ProviderId is UUID with {
  briefly "Provider identifier"
  described by "Reference to healthcare provider."
}

type PolicyId is UUID with {
  briefly "Policy identifier"
  described by "Reference to insurance policy."
}

type ServiceLineId is UUID with {
  briefly "Service line identifier"
  described by "Reference to claim service line."
}

type ClaimStatus is any of {
  Received,
  InProcess,
  Pended,
  Approved,
  PartiallyApproved,
  Denied,
  Paid,
  Appealed,
  Voided
} with {
  briefly "Claim status"
  described by "Current claim status."
}

type ClaimType is any of {
  Professional,
  Institutional,
  Pharmacy,
  Dental,
  Vision
} with {
  briefly "Claim type"
  described by "Type of claim."
}

type DenialReason is any of {
  NotCovered,
  NotEligible,
  NotAuthorized,
  DuplicateClaim,
  TimingExceeded,
  CodingError,
  IncompleteInformation,
  MedicalNecessity
} with {
  briefly "Denial reason"
  described by "Reason for claim denial."
}

type PendReason is any of {
  AdditionalInfoRequired,
  MedicalReview,
  CoordinationOfBenefits,
  PreAuthorizationRequired,
  ProviderContract
} with {
  briefly "Pend reason"
  described by "Reason claim is pended."
}

type DiagnosisCode is String(3, 10) with {
  briefly "Diagnosis code"
  described by "ICD-10 diagnosis code."
}

type ProcedureCode is String(5, 10) with {
  briefly "Procedure code"
  described by "CPT/HCPCS procedure code."
}

type MemberInfo is {
  memberId is MemberId with {
    briefly "Member"
    described by "Member identifier."
  }
  firstName is String(1, 100) with {
    briefly "First name"
    described by "Member first name."
  }
  lastName is String(1, 100) with {
    briefly "Last name"
    described by "Member last name."
  }
  dateOfBirth is Date with {
    briefly "DOB"
    described by "Date of birth."
  }
  policyId is PolicyId with {
    briefly "Policy"
    described by "Insurance policy."
  }
} with {
  briefly "Member info"
  described by "Insured member information."
}

type ProviderInfo is {
  providerId is ProviderId with {
    briefly "Provider"
    described by "Provider identifier."
  }
  npi is String(10, 10) with {
    briefly "NPI"
    described by "National provider identifier."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Provider name."
  }
  taxId is String(9, 9) with {
    briefly "Tax ID"
    described by "Tax identifier."
  }
  isInNetwork is Boolean with {
    briefly "In-network"
    described by "Is in-network provider."
  }
} with {
  briefly "Provider info"
  described by "Healthcare provider information."
}

type ServiceLine is {
  lineId is ServiceLineId with {
    briefly "Line"
    described by "Service line ID."
  }
  lineNumber is Natural with {
    briefly "Number"
    described by "Line number."
  }
  procedureCode is ProcedureCode with {
    briefly "Procedure"
    described by "Procedure code."
  }
  modifiers is many optional String(2, 2) with {
    briefly "Modifiers"
    described by "Procedure modifiers."
  }
  serviceDate is Date with {
    briefly "Service date"
    described by "Date of service."
  }
  units is Natural with {
    briefly "Units"
    described by "Service units."
  }
  chargedAmount is Decimal(10, 2) with {
    briefly "Charged"
    described by "Charged amount."
  }
  allowedAmount is optional Decimal(10, 2) with {
    briefly "Allowed"
    described by "Allowed amount."
  }
  paidAmount is optional Decimal(10, 2) with {
    briefly "Paid"
    described by "Paid amount."
  }
  denialReason is optional DenialReason with {
    briefly "Denial"
    described by "Line denial reason."
  }
} with {
  briefly "Service line"
  described by "Claim service line."
}

type ClaimHeader is {
  claimType is ClaimType with {
    briefly "Type"
    described by "Claim type."
  }
  placeOfService is String(2, 2) with {
    briefly "POS"
    described by "Place of service code."
  }
  diagnoses is many DiagnosisCode with {
    briefly "Diagnoses"
    described by "Diagnosis codes."
  }
  serviceFromDate is Date with {
    briefly "From"
    described by "Service start date."
  }
  serviceToDate is Date with {
    briefly "To"
    described by "Service end date."
  }
  totalCharged is Decimal(12, 2) with {
    briefly "Total charged"
    described by "Total charged amount."
  }
} with {
  briefly "Claim header"
  described by "Claim header information."
}

type PaymentInfo is {
  allowedAmount is Decimal(12, 2) with {
    briefly "Allowed"
    described by "Total allowed amount."
  }
  paidAmount is Decimal(12, 2) with {
    briefly "Paid"
    described by "Amount paid to provider."
  }
  memberResponsibility is Decimal(10, 2) with {
    briefly "Member"
    described by "Member responsibility."
  }
  copay is Decimal(8, 2) with {
    briefly "Copay"
    described by "Copay amount."
  }
  deductible is Decimal(8, 2) with {
    briefly "Deductible"
    described by "Deductible applied."
  }
  coinsurance is Decimal(8, 2) with {
    briefly "Coinsurance"
    described by "Coinsurance amount."
  }
  checkNumber is optional String(1, 30) with {
    briefly "Check"
    described by "Payment check number."
  }
  paidDate is optional Date with {
    briefly "Paid date"
    described by "Payment date."
  }
} with {
  briefly "Payment info"
  described by "Claim payment details."
}

type AppealInfo is {
  appealReason is String(1, 500) with {
    briefly "Reason"
    described by "Appeal reason."
  }
  appealedBy is String(1, 100) with {
    briefly "Appealed by"
    described by "Who filed appeal."
  }
  appealedAt is TimeStamp with {
    briefly "Appealed"
    described by "Appeal time."
  }
  supportingDocs is many optional String(1, 200) with {
    briefly "Documents"
    described by "Supporting documents."
  }
} with {
  briefly "Appeal info"
  described by "Claim appeal information."
}
