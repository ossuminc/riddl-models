// Pipeline Operations - Shared Types
type SegmentId is Id(PipelineContext.PipelineSegment)  with {
  briefly "Segment identifier"
  described as {
    |Unique identifier for a pipeline segment.
  }
}
type PipelineId is UUID with {
  briefly "Pipeline identifier"
  described as {
    |Reference to a pipeline.
  }
}
type InspectionId is UUID with {
  briefly "Inspection identifier"
  described as {
    |Reference to an inspection record.
  }
}
type WorkOrderId is UUID with {
  briefly "Work order identifier"
  described as {
    |Reference to a maintenance work order.
  }
}
type SegmentStatus is any of {
  Commissioning,
  Operational,
  Degraded,
  MaintenanceRequired,
  UnderMaintenance,
  ShutDown,
  Decommissioned
} with {
  briefly "Segment status"
  described as {
    |Operational status of a pipeline segment.
  }
}
type FlowMedium is any of {
  CrudeOil,
  NaturalGas,
  RefinedProduct,
  NaturalGasLiquids,
  Water,
  Multiphase
} with {
  briefly "Flow medium"
  described as {
    |Type of fluid transported in the pipeline.
  }
}
type AlertSeverity is any of {
  Informational,
  Warning,
  Critical,
  Emergency
} with {
  briefly "Alert severity"
  described as {
    |Severity level of a pipeline alert.
  }
}
type MaintenanceType is any of {
  Preventive,
  Corrective,
  Predictive,
  Emergency,
  Regulatory
} with {
  briefly "Maintenance type"
  described as {
    |Category of maintenance activity.
  }
}
type SegmentInfo is {
  segmentId: SegmentId with {
    briefly "Segment ID"
    described as {
      |Pipeline segment identifier.
    }
  }
  pipelineId: PipelineId with {
    briefly "Pipeline"
    described as {
      |Parent pipeline identifier.
    }
  }
  segmentName: String(3,200) with {
    briefly "Name"
    described as {
      |Segment name.
    }
  }
  medium: FlowMedium with {
    briefly "Medium"
    described as {
      |Transported medium.
    }
  }
  lengthKm: Decimal(8,3) with {
    briefly "Length"
    described as {
      |Segment length in kilometers.
    }
  }
  diameterMm: Decimal(8,2) with {
    briefly "Diameter"
    described as {
      |Pipe diameter in millimeters.
    }
  }
  maxPressureKpa: Decimal(10,2) with {
    briefly "Max pressure"
    described as {
      |Maximum allowable operating pressure in kPa.
    }
  }
  installDate: Date with {
    briefly "Installed"
    described as {
      |Installation date.
    }
  }
} with {
  briefly "Segment info"
  described as {
    |Pipeline segment details.
  }
}
type FlowReading is {
  flowRateLpm: Decimal(12,3) with {
    briefly "Flow rate"
    described as {
      |Flow rate in liters per minute.
    }
  }
  pressureKpa: Decimal(10,2) with {
    briefly "Pressure"
    described as {
      |Pressure reading in kPa.
    }
  }
  temperatureC: Decimal(6,2) with {
    briefly "Temperature"
    described as {
      |Temperature in Celsius.
    }
  }
  recordedAt: TimeStamp with {
    briefly "Recorded"
    described as {
      |Reading timestamp.
    }
  }
} with {
  briefly "Flow reading"
  described as {
    |Pipeline flow and pressure telemetry reading.
  }
}
type LeakIndicator is {
  location: String(3,300) with {
    briefly "Location"
    described as {
      |Suspected leak location.
    }
  }
  pressureDropKpa: Decimal(10,2) with {
    briefly "Pressure drop"
    described as {
      |Observed pressure drop in kPa.
    }
  }
  flowDiscrepancyPct: Decimal(6,3) with {
    briefly "Flow discrepancy"
    described as {
      |Flow discrepancy percentage.
    }
  }
  severity: AlertSeverity with {
    briefly "Severity"
    described as {
      |Alert severity.
    }
  }
  detectedAt: TimeStamp with {
    briefly "Detected"
    described as {
      |Detection timestamp.
    }
  }
} with {
  briefly "Leak indicator"
  described as {
    |Leak detection indicator data.
  }
}
type MaintenanceRecord is {
  workOrderId: WorkOrderId with {
    briefly "Work order"
    described as {
      |Work order identifier.
    }
  }
  maintenanceType: MaintenanceType with {
    briefly "Type"
    described as {
      |Maintenance type.
    }
  }
  description: String(3,1000) with {
    briefly "Description"
    described as {
      |Maintenance description.
    }
  }
  scheduledDate: Date with {
    briefly "Scheduled"
    described as {
      |Scheduled date.
    }
  }
  updatedCompletedAt: TimeStamp? with {
    briefly "Completed"
    described as {
      |Completion timestamp.
    }
  }
  performedBy: String(3,200)? with {
    briefly "Performed by"
    described as {
      |Person who performed maintenance.
    }
  }
  findings: String(3,2000)? with {
    briefly "Findings"
    described as {
      |Maintenance findings.
    }
  }
} with {
  briefly "Maintenance record"
  described as {
    |Pipeline maintenance activity record.
  }
}
type InspectionReport is {
  inspectionId: InspectionId with {
    briefly "Inspection ID"
    described as {
      |Inspection identifier.
    }
  }
  inspectorName: String(3,200) with {
    briefly "Inspector"
    described as {
      |Inspector name.
    }
  }
  inspectionDate: Date with {
    briefly "Date"
    described as {
      |Inspection date.
    }
  }
  wallThicknessMm: Decimal(6,2)? with {
    briefly "Wall thickness"
    described as {
      |Measured wall thickness in millimeters.
    }
  }
  corrosionRateMmPerYear: Decimal(6,4)? with {
    briefly "Corrosion rate"
    described as {
      |Corrosion rate in mm per year.
    }
  }
  overallCondition: String(3,100) with {
    briefly "Condition"
    described as {
      |Overall segment condition assessment.
    }
  }
  recommendations: String(3,500)+ with {
    briefly "Recommendations"
    described as {
      |Inspector recommendations.
    }
  }
} with {
  briefly "Inspection report"
  described as {
    |Pipeline inspection report.
  }
}
type ComplianceFiling is {
  filingId: UUID with {
    briefly "Filing ID"
    described as {
      |Compliance filing identifier.
    }
  }
  regulatoryBody: String(3,200) with {
    briefly "Regulatory body"
    described as {
      |Regulatory authority name.
    }
  }
  filingType: String(3,200) with {
    briefly "Filing type"
    described as {
      |Type of regulatory filing.
    }
  }
  filedAt: TimeStamp with {
    briefly "Filed"
    described as {
      |Filing timestamp.
    }
  }
  filingStatus: String(3,100) with {
    briefly "Status"
    described as {
      |Filing status.
    }
  }
} with {
  briefly "Compliance filing"
  described as {
    |Regulatory compliance filing record.
  }
}
