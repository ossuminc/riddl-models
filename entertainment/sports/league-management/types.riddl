// League Management - Shared Types

type SeasonId is Id(LeagueContext.Season) with {
  briefly "Season identifier"
  described by "Unique identifier for a league season."
}

type TeamId is UUID with {
  briefly "Team identifier"
  described by "Reference to a registered team."
}

type MatchId is UUID with {
  briefly "Match identifier"
  described by "Reference to a scheduled match."
}

type RefereeId is UUID with {
  briefly "Referee identifier"
  described by "Reference to an assigned referee."
}

type VenueId is UUID with {
  briefly "Venue identifier"
  described by "Reference to a match venue."
}

type BracketId is UUID with {
  briefly "Bracket identifier"
  described by "Reference to a playoff bracket."
}

type SeasonStatus is any of {
  Registration,
  Scheduling,
  InProgress,
  PlayoffsActive,
  Completed,
  Cancelled
} with {
  briefly "Season status"
  described by "Current status of a league season."
}

type MatchStatus is any of {
  Scheduled,
  InProgress,
  Completed,
  Postponed,
  Cancelled,
  Forfeited
} with {
  briefly "Match status"
  described by "Current status of a match."
}

type TeamDivision is any of {
  DivisionEast,
  DivisionWest,
  DivisionNorth,
  DivisionSouth,
  DivisionOpen
} with {
  briefly "Team division"
  described by "Division assignment for a team."
}

type RuleViolationType is any of {
  Misconduct,
  RosterViolation,
  EquipmentViolation,
  UnsportsmanlikeConduct,
  EligibilityViolation
} with {
  briefly "Rule violation type"
  described by "Category of rule infraction."
}

type PenaltyType is any of {
  Warning,
  Fine,
  Suspension,
  Disqualification,
  PointsDeduction,
  Expulsion
} with {
  briefly "Penalty type"
  described by "Type of penalty imposed."
}

type BracketFormat is any of {
  SingleElimination,
  DoubleElimination,
  BestOfThree,
  BestOfFive,
  BestOfSeven
} with {
  briefly "Bracket format"
  described by "Playoff bracket format."
}

type TeamInfo is {
  teamId is TeamId with {
    briefly "Team ID"
    described by "Team identifier."
  }
  teamName is String(3, 100) with {
    briefly "Name"
    described by "Official team name."
  }
  division is TeamDivision with {
    briefly "Division"
    described by "Division assignment."
  }
  homeVenue is VenueId with {
    briefly "Home venue"
    described by "Home venue identifier."
  }
  managerName is String(3, 100) with {
    briefly "Manager"
    described by "Team manager name."
  }
  rosterSize is Natural with {
    briefly "Roster size"
    described by "Number of players on roster."
  }
  registeredAt is TimeStamp with {
    briefly "Registered"
    described by "Registration time."
  }
} with {
  briefly "Team information"
  described by "Registered team details."
}

type MatchInfo is {
  matchId is MatchId with {
    briefly "Match ID"
    described by "Match identifier."
  }
  homeTeamId is TeamId with {
    briefly "Home team"
    described by "Home team identifier."
  }
  awayTeamId is TeamId with {
    briefly "Away team"
    described by "Away team identifier."
  }
  venueId is VenueId with {
    briefly "Venue"
    described by "Match venue identifier."
  }
  scheduledDate is Date with {
    briefly "Date"
    described by "Scheduled match date."
  }
  scheduledTime is Time with {
    briefly "Time"
    described by "Scheduled match time."
  }
  status is MatchStatus with {
    briefly "Status"
    described by "Match status."
  }
} with {
  briefly "Match information"
  described by "Scheduled match details."
}

type MatchResult is {
  matchId is MatchId with {
    briefly "Match ID"
    described by "Match identifier."
  }
  homeScore is Natural with {
    briefly "Home score"
    described by "Home team score."
  }
  awayScore is Natural with {
    briefly "Away score"
    described by "Away team score."
  }
  completedAt is TimeStamp with {
    briefly "Completed"
    described by "Match completion time."
  }
  notes is optional String(1, 500) with {
    briefly "Notes"
    described by "Match notes."
  }
} with {
  briefly "Match result"
  described by "Result of a completed match."
}

type TeamStanding is {
  teamId is TeamId with {
    briefly "Team"
    described by "Team identifier."
  }
  wins is Natural with {
    briefly "Wins"
    described by "Number of wins."
  }
  losses is Natural with {
    briefly "Losses"
    described by "Number of losses."
  }
  draws is Natural with {
    briefly "Draws"
    described by "Number of draws."
  }
  pointsFor is Natural with {
    briefly "Points for"
    described by "Total points scored."
  }
  pointsAgainst is Natural with {
    briefly "Points against"
    described by "Total points conceded."
  }
  ranking is Natural with {
    briefly "Rank"
    described by "Current ranking position."
  }
} with {
  briefly "Team standing"
  described by "Team record in league standings."
}

type RefereeAssignment is {
  refereeId is RefereeId with {
    briefly "Referee"
    described by "Referee identifier."
  }
  refereeName is String(3, 100) with {
    briefly "Name"
    described by "Referee name."
  }
  matchId is MatchId with {
    briefly "Match"
    described by "Assigned match identifier."
  }
  role is String(3, 50) with {
    briefly "Role"
    described by "Referee role in the match."
  }
  assignedAt is TimeStamp with {
    briefly "Assigned"
    described by "Assignment time."
  }
} with {
  briefly "Referee assignment"
  described by "Referee assigned to a match."
}

type RuleViolation is {
  violationType is RuleViolationType with {
    briefly "Type"
    described by "Violation category."
  }
  teamId is TeamId with {
    briefly "Team"
    described by "Offending team."
  }
  matchId is MatchId with {
    briefly "Match"
    described by "Match where violation occurred."
  }
  description is String(3, 500) with {
    briefly "Description"
    described by "Violation description."
  }
  penalty is PenaltyType with {
    briefly "Penalty"
    described by "Imposed penalty."
  }
  reportedAt is TimeStamp with {
    briefly "Reported"
    described by "Report time."
  }
} with {
  briefly "Rule violation"
  described by "Recorded rule infraction."
}

type PlayoffBracket is {
  bracketId is BracketId with {
    briefly "Bracket ID"
    described by "Bracket identifier."
  }
  format is BracketFormat with {
    briefly "Format"
    described by "Bracket format."
  }
  qualifiedTeams is many TeamId with {
    briefly "Teams"
    described by "Qualified team identifiers."
  }
  currentRound is Natural with {
    briefly "Round"
    described by "Current playoff round."
  }
  matches is many MatchInfo with {
    briefly "Matches"
    described by "Playoff match fixtures."
  }
} with {
  briefly "Playoff bracket"
  described by "Playoff bracket structure."
}
