// League Management - External Contexts
context BroadcastSystem is {
  command ScheduleBroadcast is  {
    matchId: MatchId with {
      briefly "Match"
      described as {
        |Match ID.
      }
    }
    venueId: VenueId with {
      briefly "Venue"
      described as {
        |Venue ID.
      }
    }
    broadcastDate: Date with {
      briefly "Date"
      described as {
        |Broadcast date.
      }
    }
    broadcastTime: Time with {
      briefly "Time"
      described as {
        |Broadcast time.
      }
    }
    channel: String(3,100) with {
      briefly "Channel"
      described as {
        |Broadcast channel.
      }
    }
  } with {
    briefly "Schedule broadcast"
    described as {
      |Schedules a match for broadcast.
    }
  }
  event BroadcastScheduled is  {
    matchId: MatchId with {
      briefly "Match"
      described as {
        |Match ID.
      }
    }
    channel: String(3,100) with {
      briefly "Channel"
      described as {
        |Broadcast channel.
      }
    }
    scheduledAt: TimeStamp with {
      briefly "Scheduled"
      described as {
        |Scheduling time.
      }
    }
  } with {
    briefly "Broadcast scheduled"
    described as {
      |Emitted when broadcast is scheduled.
    }
  }
  command CancelBroadcast is  {
    matchId: MatchId with {
      briefly "Match"
      described as {
        |Match ID.
      }
    }
    reason: String(3,500) with {
      briefly "Reason"
      described as {
        |Cancellation reason.
      }
    }
  } with {
    briefly "Cancel broadcast"
    described as {
      |Cancels a scheduled broadcast.
    }
  }
  event BroadcastCancelled is  {
    matchId: MatchId with {
      briefly "Match"
      described as {
        |Match ID.
      }
    }
    cancelledAt: TimeStamp with {
      briefly "Cancelled"
      described as {
        |Cancel time.
      }
    }
  } with {
    briefly "Broadcast cancelled"
    described as {
      |Emitted when broadcast is cancelled.
    }
  }
  query GetBroadcastSchedule is  {
    seasonId: SeasonId with {
      briefly "Season"
      described as {
        |Season ID.
      }
    }
  } with {
    briefly "Get broadcast schedule"
    described as {
      |Retrieves broadcast schedule for a season.
    }
  }
  result BroadcastScheduleResult is  {
    matchIds: MatchId+ with {
      briefly "Matches"
      described as {
        |Broadcast match IDs.
      }
    }
    channels: String(3,100)+ with {
      briefly "Channels"
      described as {
        |Broadcast channels.
      }
    }
  } with {
    briefly "Broadcast schedule"
    described as {
      |Broadcast schedule details.
    }
  }
} with {
  option external()
  briefly "External broadcast system"
  described as {
    |Television and streaming broadcast management.
  }
}
context VenueBooking is {
  command ReserveVenue is  {
    venueId: VenueId with {
      briefly "Venue"
      described as {
        |Venue ID.
      }
    }
    matchId: MatchId with {
      briefly "Match"
      described as {
        |Match ID.
      }
    }
    eventDate: Date with {
      briefly "Date"
      described as {
        |Event date.
      }
    }
    eventTime: Time with {
      briefly "Time"
      described as {
        |Event time.
      }
    }
    expectedAttendance: Natural with {
      briefly "Attendance"
      described as {
        |Expected attendance.
      }
    }
  } with {
    briefly "Reserve venue"
    described as {
      |Reserves a venue for a match.
    }
  }
  event VenueReserved is  {
    venueId: VenueId with {
      briefly "Venue"
      described as {
        |Venue ID.
      }
    }
    matchId: MatchId with {
      briefly "Match"
      described as {
        |Match ID.
      }
    }
    reservedAt: TimeStamp with {
      briefly "Reserved"
      described as {
        |Reservation time.
      }
    }
  } with {
    briefly "Venue reserved"
    described as {
      |Emitted when venue is reserved.
    }
  }
  command ReleaseVenue is  {
    venueId: VenueId with {
      briefly "Venue"
      described as {
        |Venue ID.
      }
    }
    matchId: MatchId with {
      briefly "Match"
      described as {
        |Match ID.
      }
    }
    reason: String(3,500) with {
      briefly "Reason"
      described as {
        |Release reason.
      }
    }
  } with {
    briefly "Release venue"
    described as {
      |Releases a venue reservation.
    }
  }
  event VenueReleased is  {
    venueId: VenueId with {
      briefly "Venue"
      described as {
        |Venue ID.
      }
    }
    matchId: MatchId with {
      briefly "Match"
      described as {
        |Match ID.
      }
    }
    releasedAt: TimeStamp with {
      briefly "Released"
      described as {
        |Release time.
      }
    }
  } with {
    briefly "Venue released"
    described as {
      |Emitted when venue is released.
    }
  }
  query CheckAvailability is  {
    venueId: VenueId with {
      briefly "Venue"
      described as {
        |Venue ID.
      }
    }
    eventDate: Date with {
      briefly "Date"
      described as {
        |Requested date.
      }
    }
  } with {
    briefly "Check availability"
    described as {
      |Checks venue availability.
    }
  }
  result VenueAvailability is  {
    venueId: VenueId with {
      briefly "Venue"
      described as {
        |Venue ID.
      }
    }
    available: Boolean with {
      briefly "Available"
      described as {
        |Venue is available.
      }
    }
    capacity: Natural with {
      briefly "Capacity"
      described as {
        |Venue capacity.
      }
    }
  } with {
    briefly "Venue availability"
    described as {
      |Venue availability details.
    }
  }
} with {
  option external()
  briefly "External venue booking"
  described as {
    |Venue reservation and management system.
  }
}
