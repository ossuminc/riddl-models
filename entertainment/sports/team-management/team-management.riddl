// Team Management Domain Model
// Sports roster and player management for professional teams

domain TeamManagement is {

  author OssumInc is {
    name is "Ossum Inc."
    email is "support@ossuminc.com"
    organization is "Ossum Inc."
  } with {
    briefly "Model author and maintainer"
    described by {
      | Ossum Inc. provides enterprise domain modeling solutions
      | using the RIDDL specification language.
    }
  }

  user GeneralManager is "executive responsible for team roster decisions" with {
    briefly "Team executive for roster management"
    described by {
      | The General Manager has authority over all player personnel
      | decisions including signings, trades, releases, and contract
      | negotiations. They work within salary cap constraints to
      | build a competitive roster.
    }
  }

  user Coach is "staff member responsible for player utilization" with {
    briefly "Coaching staff member"
    described by {
      | Coaches determine how players are utilized on the field,
      | provide input on roster composition, and report on player
      | performance and injury status.
    }
  }

  user PlayerAgent is "representative negotiating on behalf of players" with {
    briefly "Player representative for contract negotiations"
    described by {
      | Player agents negotiate contracts and handle business matters
      | on behalf of their clients. They interact with team management
      | for signings, extensions, and trade discussions.
    }
  }

  epic RosterManagement is {
    user GeneralManager wants to "manage team roster effectively"
      so that "the team can compete at the highest level within league rules"

    case SignNewPlayer is {
      user GeneralManager wants to "sign a free agent player"
        so that "the team can fill a roster need"
      step is "GM identifies free agent" "who meets roster needs" "for evaluation"
      step is "GM negotiates contract terms" "with player agent" "to reach agreement"
      step is "System validates salary cap" "via SalaryCap context" "for compliance"
      step send command TeamContext.Player.SignPlayer from user GeneralManager to entity TeamContext.Player
      step is "System records player signing" "and updates roster" "in database"
    } with {
      briefly "Sign a new player to the team"
      described by {
        | Workflow for identifying, negotiating with, and signing
        | a free agent player to a contract.
      }
    }

    case TradeForPlayer is {
      user GeneralManager wants to "acquire a player via trade"
        so that "the team can improve at a position of need"
      step is "GM identifies trade target" "and negotiates with other team" "for terms"
      step is "GM finalizes trade package" "including players and picks" "for submission"
      step send command TeamContext.Player.TradePlayer from user GeneralManager to entity TeamContext.Player
      step is "League office reviews trade" "for approval" "per league rules"
      step is "System completes trade" "and updates both rosters" "upon approval"
    } with {
      briefly "Acquire player through trade"
      described by {
        | Workflow for negotiating and executing a trade with
        | another team, subject to league approval.
      }
    }

    case ManageInjuredPlayer is {
      user Coach wants to "place an injured player on IR"
        so that "the roster spot can be used for a healthy player"
      step is "Medical staff evaluates injury" "and provides diagnosis" "for assessment"
      step is "Coach submits IR request" "with injury details" "for processing"
      step send command TeamContext.Player.PlaceOnInjuredReserve from user Coach to entity TeamContext.Player
      step is "System updates roster status" "and opens roster spot" "for replacement"
    } with {
      briefly "Handle player injury and IR placement"
      described by {
        | Workflow for documenting player injury and moving
        | them to injured reserve status.
      }
    }

    case ReleasePlayerCase is {
      user GeneralManager wants to "release an underperforming player"
        so that "salary cap space can be freed for other acquisitions"
      step is "GM evaluates player performance" "and cap implications" "for decision"
      step is "GM notifies player and agent" "of release decision" "per contract terms"
      step send command TeamContext.Player.ReleasePlayer from user GeneralManager to entity TeamContext.Player
      step is "System removes player from roster" "and calculates cap savings" "for budget"
    } with {
      briefly "Release player from roster"
      described by {
        | Workflow for terminating a player's contract and
        | removing them from the team roster.
      }
    }

    case ExtendPlayerContract is {
      user PlayerAgent wants to "negotiate a contract extension"
        so that "the player has long-term security with the team"
      step is "Agent presents extension proposal" "to team management" "for consideration"
      step is "GM negotiates terms" "within cap constraints" "for agreement"
      step is "System validates cap compliance" "for proposed extension" "via SalaryCap"
      step send command TeamContext.Player.ExtendContract from user PlayerAgent to entity TeamContext.Player
      step is "System records extension" "and updates cap calculations" "in database"
    } with {
      briefly "Extend existing player contract"
      described by {
        | Workflow for negotiating and executing a contract
        | extension for a player already under contract.
      }
    }

  } with {
    briefly "Epic covering all roster management workflows"
    described by {
      | The RosterManagement epic encompasses all user stories related
      | to building and maintaining a professional sports team roster.
      | This includes player acquisition through free agency and trades,
      | contract management, injury handling, and roster optimization
      | within salary cap constraints.
    }
  }

  include "TeamContext.riddl"

} with {
  briefly "Domain for professional sports team management"
  described by {
    | The TeamManagement domain provides a complete model for managing
    | professional sports team rosters. It covers the full player lifecycle
    | from signing through release or retirement, including contract
    | management, roster assignments, trades, and injury handling.
    |
    | The domain integrates with external systems for league governance,
    | salary cap compliance, and injury reporting to ensure all
    | transactions comply with league rules and regulations.
  }
}
