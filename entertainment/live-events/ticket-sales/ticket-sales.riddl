// Ticket Sales Domain
// Live events ticket management from creation through sale and transfer
// // This domain model handles event creation, ticket inventory release,
// sales, reservations, transfers, and refunds for live entertainment events.
domain TicketSales is {
  author OssumInc is {
    name = "Ossum Inc."
    email = "support@ossuminc.com"
    organization ="Ossum Inc."
  } with {
    briefly "Model author and maintainer"
    described as {
      | Ossum Inc. is the organization responsible for creating and
      | maintaining this domain model specification.
    }
  }
  // Users who interact with this domain
  user EventPromoter is "A person or organization that creates and promotes live events" with {
    briefly "Event creator and promoter"
    described as {
      | An event promoter is responsible for creating events, setting ticket
      | prices, defining seating arrangements, and managing ticket inventory.
      | They may be concert promoters, venue owners, or event organizers.
    }
  }
  user BoxOffice is "Staff who manage ticket sales and customer service" with {
    briefly "Box office personnel"
    described as {
      | Box office staff handle in-person ticket sales, reservations,
      | customer inquiries, will-call pickups, and on-site issue resolution.
      | They have elevated privileges to manage tickets on behalf of customers.
    }
  }
  user TicketBuyer is "A person who purchases tickets to attend events" with {
    briefly "Event attendee purchasing tickets"
    described as {
      | A ticket buyer is any person who browses events, purchases tickets,
      | transfers tickets to others, or requests refunds. They access the
      | system through web or mobile applications.
    }
  }
  // Include the main bounded context
  include "TicketContext.riddl"
  // Include external system contexts
  include "external-contexts.riddl"
  // Epic for ticket purchase
  epic PurchaseTicketsEpic is {
    user TicketBuyer wants to "purchase tickets to a live event" so that "they can attend the event with friends and family"
    case BrowsingAndPurchasing is {
      user TicketBuyer wants to "find and buy tickets" so that "they can secure seats for an upcoming event"
      step is "Buyer searches for events" "by date, artist, or venue" "to find desired show"
      step is "Buyer views event details" "including date, venue, and pricing" "to evaluate"
      step is "Buyer selects desired seats" "from available inventory" "to reserve"
      step send command ReserveTicket from user TicketBuyer to entity Ticket
      step is "System holds tickets temporarily" "for checkout" "to prevent overselling"
      step is "Buyer enters payment information" "and confirms purchase" "to complete transaction"
      step send command PurchaseTicket from user TicketBuyer to entity Ticket
      step is "System processes payment" "via PaymentGateway" "to collect funds"
      step is "System issues tickets" "to buyer account" "for access"
    } with {
      briefly "Customer purchases tickets for an event"
      described as {
        | The buyer searches for events, selects seats, reserves tickets,
        | completes payment, and receives digital tickets for the event.
      }
    }
  } with {
    briefly "Ticket purchase user journey"
    described as {
      | This epic describes the complete customer journey for purchasing
      | tickets to a live event, from discovery through confirmation.
    }
  }
  // Epic for ticket transfer
  epic TransferTicketEpic is {
    user TicketBuyer wants to "transfer tickets to another person" so that "their friend or family member can attend the event"
    case TransferringTickets is {
      user TicketBuyer wants to "send tickets to someone else" so that "the recipient can use them to attend"
      step is "Buyer selects tickets to transfer" "from their account" "to identify"
      step is "Buyer enters recipient information" "email or phone" "to send to"
      step send command TransferTicket from user TicketBuyer to entity Ticket
      step is "System validates transfer eligibility" "and initiates transfer" "to process"
      step is "System notifies recipient" "via email or SMS" "to claim tickets"
    } with {
      briefly "Buyer transfers tickets to another person"
      described as {
        | The buyer selects tickets they own, provides recipient details,
        | and the system transfers ownership to the new holder.
      }
    }
  } with {
    briefly "Ticket transfer user journey"
    described as {
      | This epic describes how ticket owners can transfer their tickets
      | to friends, family, or others who will attend in their place.
    }
  }
  // Epic for refund request
  epic RefundTicketEpic is {
    user TicketBuyer wants to "request a refund for purchased tickets" so that "they can recover their money if unable to attend"
    case RequestingRefund is {
      user TicketBuyer wants to "get a refund" so that "they can be reimbursed for tickets they cannot use"
      step is "Buyer locates purchased tickets" "in their account" "to select"
      step is "Buyer checks refund eligibility" "based on event policy" "to verify"
      step send command RefundTicket from user TicketBuyer to entity Ticket
      step is "System reviews refund request" "against event policies" "to evaluate"
      step is "System processes refund" "via PaymentGateway" "to return funds"
    } with {
      briefly "Buyer requests ticket refund"
      described as {
        | The buyer selects tickets to refund, the system checks policy
        | eligibility, and processes the refund to the original payment method.
      }
    }
  } with {
    briefly "Ticket refund user journey"
    described as {
      | This epic describes how buyers can request refunds for tickets
      | they can no longer use, subject to event refund policies.
    }
  }
} with {
  briefly "Live event ticket sales domain"
  described as {
    | The TicketSales domain handles the complete ticket lifecycle for
    | live entertainment events. It manages event creation, ticket inventory,
    | pricing tiers, seat selection, purchases, reservations, transfers,
    | and refunds.
    |
    | Key capabilities:
    | - Event creation and ticket inventory management
    | - Dynamic pricing with multiple tiers
    | - Seat reservation and purchase processing
    | - Ticket transfers between buyers
    | - Refund processing based on event policies
    | - Integration with venues, payments, and marketing
    |
    | This domain integrates with external systems for payment processing,
    | venue management, and marketing communications.
  }
}
