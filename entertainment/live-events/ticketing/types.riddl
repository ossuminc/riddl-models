// Event Ticketing - Shared Types
type TicketId is Id(TicketingContext.Ticket)  with {
  briefly "Ticket identifier"
  described as {
    |Unique identifier for a ticket.
  }
}
type EventId is UUID with {
  briefly "Event identifier"
  described as {
    |Reference to a live event.
  }
}
type BuyerId is UUID with {
  briefly "Buyer identifier"
  described as {
    |Reference to a ticket buyer.
  }
}
type TransactionId is UUID with {
  briefly "Transaction identifier"
  described as {
    |Reference to a payment transaction.
  }
}
type EmailAddress is String(5,254) with {
  briefly "Email address"
  described as {
    |Valid email address string.
  }
}
type TicketStatus is any of {
  Available,
  Reserved,
  Purchased,
  Delivered,
  Validated,
  Expired,
  Refunded,
  Cancelled
} with {
  briefly "Ticket status"
  described as {
    |Current status of a ticket.
  }
}
type PricingTier is any of {
  GeneralAdmission,
  Reserved,
  Premium,
  VIPTier,
  Backstage,
  EarlyBird
} with {
  briefly "Pricing tier"
  described as {
    |Ticket pricing tier classification.
  }
}
type DeliveryMethod is any of {
  Email,
  MobileApp,
  WillCall,
  PrintAtHome
} with {
  briefly "Delivery method"
  described as {
    |How the digital ticket is delivered.
  }
}
type RefundReason is any of {
  EventCancelled,
  EventPostponed,
  BuyerRequest,
  DuplicatePurchase,
  PaymentError
} with {
  briefly "Refund reason"
  described as {
    |Reason for ticket refund.
  }
}
type EventInfo is {
  eventId: EventId with {
    briefly "Event ID"
    described as {
      |Event identifier.
    }
  }
  eventName: String(3,200) with {
    briefly "Event name"
    described as {
      |Name of the live event.
    }
  }
  venueId: UUID with {
    briefly "Venue ID"
    described as {
      |Reference to the venue.
    }
  }
  venueName: String(3,200) with {
    briefly "Venue name"
    described as {
      |Name of the venue.
    }
  }
  eventDate: DateTime with {
    briefly "Event date"
    described as {
      |Date and time of the event.
    }
  }
  doorsOpen: DateTime? with {
    briefly "Doors open"
    described as {
      |When doors open for entry.
    }
  }
} with {
  briefly "Event information"
  described as {
    |Details about the live event.
  }
}
type SeatInfo is {
  section: String(1,50) with {
    briefly "Section"
    described as {
      |Seating section identifier.
    }
  }
  row: String(1,20)? with {
    briefly "Row"
    described as {
      |Seat row designation.
    }
  }
  seatNumber: String(1,20)? with {
    briefly "Seat"
    described as {
      |Seat number designation.
    }
  }
  isGeneralAdmission: Boolean with {
    briefly "General admission"
    described as {
      |Whether this is general admission seating.
    }
  }
} with {
  briefly "Seat information"
  described as {
    |Seat assignment details.
  }
}
type PricingInfo is {
  tier: PricingTier with {
    briefly "Tier"
    described as {
      |Pricing tier.
    }
  }
  faceValue: Decimal(10,2) with {
    briefly "Face value"
    described as {
      |Ticket face value.
    }
  }
  serviceFee: Decimal(10,2) with {
    briefly "Service fee"
    described as {
      |Service fee amount.
    }
  }
  totalPrice: Decimal(10,2) with {
    briefly "Total price"
    described as {
      |Total ticket price including fees.
    }
  }
  currency: String(3,3) with {
    briefly "Currency"
    described as {
      |Currency code (ISO 4217).
    }
  }
} with {
  briefly "Pricing information"
  described as {
    |Ticket pricing breakdown.
  }
}
type BuyerInfo is {
  buyerId: BuyerId with {
    briefly "Buyer ID"
    described as {
      |Buyer identifier.
    }
  }
  buyerName: String(1,200) with {
    briefly "Name"
    described as {
      |Buyer full name.
    }
  }
  buyerEmail: EmailAddress with {
    briefly "Email"
    described as {
      |Buyer email address.
    }
  }
} with {
  briefly "Buyer information"
  described as {
    |Ticket buyer details.
  }
}
type DigitalTicketInfo is {
  barcode: String(10,100) with {
    briefly "Barcode"
    described as {
      |Scannable barcode value.
    }
  }
  qrCode: String(10,500) with {
    briefly "QR code"
    described as {
      |QR code data.
    }
  }
  deliveryMethod: DeliveryMethod with {
    briefly "Delivery"
    described as {
      |Delivery method.
    }
  }
  deliveredAt: TimeStamp? with {
    briefly "Delivered"
    described as {
      |Delivery timestamp.
    }
  }
} with {
  briefly "Digital ticket info"
  described as {
    |Digital ticket delivery details.
  }
}
type ValidationRecord is {
  validatedAt: TimeStamp with {
    briefly "Validated"
    described as {
      |Validation timestamp.
    }
  }
  entryGate: String(1,50) with {
    briefly "Gate"
    described as {
      |Entry gate identifier.
    }
  }
  validatedBy: String(1,100) with {
    briefly "Validated by"
    described as {
      |Staff member who validated.
    }
  }
} with {
  briefly "Validation record"
  described as {
    |Entry validation details.
  }
}
type RefundInfo is {
  reason: RefundReason with {
    briefly "Reason"
    described as {
      |Refund reason.
    }
  }
  refundAmount: Decimal(10,2) with {
    briefly "Amount"
    described as {
      |Refund amount.
    }
  }
  refundTransactionId: TransactionId? with {
    briefly "Refund transaction"
    described as {
      |Payment refund transaction ID.
    }
  }
} with {
  briefly "Refund information"
  described as {
    |Ticket refund details.
  }
}
