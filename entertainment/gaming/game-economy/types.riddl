// Game Economy - Shared Types
type WalletId is Id(WalletContext.Wallet)  with {
  briefly "Wallet identifier"
  described as {
    |Unique identifier for a player wallet.
  }
}
type PlayerId is UUID with {
  briefly "Player identifier"
  described as {
    |Reference to a player.
  }
}
type ItemId is UUID with {
  briefly "Item identifier"
  described as {
    |Reference to a game item.
  }
}
type TransactionId is UUID with {
  briefly "Transaction identifier"
  described as {
    |Reference to a transaction.
  }
}
type CurrencyType is any of {
  SoftCurrency,
  HardCurrency,
  Premium,
  Seasonal,
  Event
} with {
  briefly "Currency type"
  described as {
    |Type of in-game currency.
  }
}
type ItemRarity is any of {
  Common,
  Uncommon,
  Rare,
  Epic,
  Legendary,
  Mythic
} with {
  briefly "Item rarity"
  described as {
    |Rarity level of item.
  }
}
type ItemType is any of {
  Weapon,
  Armor,
  Consumable,
  Cosmetic,
  Mount,
  Pet,
  Currency,
  Material
} with {
  briefly "Item type"
  described as {
    |Category of item.
  }
}
type TransactionType is any of {
  Purchase,
  Sale,
  Trade,
  Reward,
  Gift,
  Refund,
  AdminGrant
} with {
  briefly "Transaction type"
  described as {
    |Type of economy transaction.
  }
}
type TransactionStatus is any of {
  Pending,
  Completed,
  Failed,
  Cancelled,
  Refunded
} with {
  briefly "Transaction status"
  described as {
    |Current transaction status.
  }
}
type CurrencyBalance is {
  currencyType: CurrencyType with {
    briefly "Currency"
    described as {
      |Currency type.
    }
  }
  amount: Decimal(15,4) with {
    briefly "Amount"
    described as {
      |Balance amount.
    }
  }
  lastUpdated: TimeStamp with {
    briefly "Updated"
    described as {
      |Last update time.
    }
  }
} with {
  briefly "Currency balance"
  described as {
    |Balance of a currency type.
  }
}
type GameItem is {
  itemId: ItemId with {
    briefly "Item ID"
    described as {
      |Item identifier.
    }
  }
  name: String(1,100) with {
    briefly "Name"
    described as {
      |Item name.
    }
  }
  itemType: ItemType with {
    briefly "Type"
    described as {
      |Item type.
    }
  }
  rarity: ItemRarity with {
    briefly "Rarity"
    described as {
      |Item rarity.
    }
  }
  quantity: Natural with {
    briefly "Quantity"
    described as {
      |Item count.
    }
  }
  tradeable: Boolean with {
    briefly "Tradeable"
    described as {
      |Can be traded.
    }
  }
  boundTo: PlayerId? with {
    briefly "Bound to"
    described as {
      |Account bound to.
    }
  }
} with {
  briefly "Game item"
  described as {
    |In-game item.
  }
}
type PriceTag is {
  currencyType: CurrencyType with {
    briefly "Currency"
    described as {
      |Price currency.
    }
  }
  amount: Decimal(15,4) with {
    briefly "Amount"
    described as {
      |Price amount.
    }
  }
  discount: Decimal(5,2)? with {
    briefly "Discount"
    described as {
      |Discount percentage.
    }
  }
} with {
  briefly "Price tag"
  described as {
    |Item price.
  }
}
type StoreItem is {
  itemId: ItemId with {
    briefly "Item"
    described as {
      |Store item.
    }
  }
  name: String(1,100) with {
    briefly "Name"
    described as {
      |Item name.
    }
  }
  description: String(1,500) with {
    briefly "Description"
    described as {
      |Item description.
    }
  }
  prices: PriceTag+ with {
    briefly "Prices"
    described as {
      |Purchase prices.
    }
  }
  available: Boolean with {
    briefly "Available"
    described as {
      |Is available.
    }
  }
  limitedQuantity: Natural? with {
    briefly "Limit"
    described as {
      |Purchase limit.
    }
  }
} with {
  briefly "Store item"
  described as {
    |Item for sale in store.
  }
}
type TradeOffer is {
  tradeId: UUID with {
    briefly "Trade ID"
    described as {
      |Trade identifier.
    }
  }
  offeredBy: PlayerId with {
    briefly "Offered by"
    described as {
      |Offering player.
    }
  }
  offeredTo: PlayerId with {
    briefly "Offered to"
    described as {
      |Receiving player.
    }
  }
  offeredItems: GameItem+ with {
    briefly "Offered items"
    described as {
      |Items offered.
    }
  }
  requestedItems: GameItem+ with {
    briefly "Requested"
    described as {
      |Items requested.
    }
  }
  offeredCurrency: CurrencyBalance+ with {
    briefly "Offered currency"
    described as {
      |Currency offered.
    }
  }
  requestedCurrency: CurrencyBalance+ with {
    briefly "Requested currency"
    described as {
      |Currency requested.
    }
  }
  expiresAt: TimeStamp with {
    briefly "Expires"
    described as {
      |Offer expiration.
    }
  }
} with {
  briefly "Trade offer"
  described as {
    |Player-to-player trade offer.
  }
}
type TransactionRecord is {
  transactionId: TransactionId with {
    briefly "Transaction"
    described as {
      |Transaction ID.
    }
  }
  transactionType: TransactionType with {
    briefly "Type"
    described as {
      |Transaction type.
    }
  }
  status: TransactionStatus with {
    briefly "Status"
    described as {
      |Transaction status.
    }
  }
  playerId: PlayerId with {
    briefly "Player"
    described as {
      |Player ID.
    }
  }
  transactionItems: GameItem* with {
    briefly "Items"
    described as {
      |Items involved.
    }
  }
  currencyChange: CurrencyBalance+ with {
    briefly "Currency"
    described as {
      |Currency changes.
    }
  }
  timestamp: TimeStamp with {
    briefly "Time"
    described as {
      |Transaction time.
    }
  }
} with {
  briefly "Transaction record"
  described as {
    |Economy transaction record.
  }
}
