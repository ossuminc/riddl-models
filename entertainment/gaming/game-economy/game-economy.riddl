// Game Economy Domain Model
// In-game currencies, items, trading, and monetization

domain GameEconomy is {

  author OssumInc is {
    name is "Ossum Inc."
    email is "support@ossum.ai"
  } with {
    briefly "Domain author"
    described by "Organization maintaining this domain model."
  }

  user Player is "person with in-game wallet and inventory" with {
    briefly "Player"
    described by "Gaming platform user."
  }

  user EconomyManager is "person managing game economy" with {
    briefly "Economy Manager"
    described by "Person balancing game economy."
  }

  epic TradingEpic is {
    user Player wants "to trade items with other players"
      so that "they can obtain desired items"

    case ExecuteTrade is {
      user Player wants "to complete a trade with another player"
        so that "items are exchanged safely"
      step is "Player initiates" "trade offer" "with items and currency"
        with { briefly "Initiate trade" described by "Create trade offer." }
      step is "System verifies" "item ownership" "and currency balance"
        with { briefly "Verify assets" described by "Check ownership." }
      step send command WalletContext.Wallet.TransferCurrency from user Player to entity WalletContext.Wallet
        with { briefly "Transfer funds" described by "Move currency." }
      step is "System exchanges" "items between" "player inventories"
        with { briefly "Exchange items" described by "Swap items." }
    } with {
      briefly "Trading workflow"
      described by "Standard flow for player trades."
    }
  } with {
    briefly "Trading processing"
    described by {
      | Epic covering player-to-player trading
      | from offer through completion.
    }
  }

  include "WalletContext.riddl"
  include "external-contexts.riddl"

} with {
  briefly "Game economy domain"
  described by {
    | The GameEconomy domain handles in-game currencies,
    | virtual items, trading, and monetization.
  }
}
