// Streaming Platform - Shared Types
type StreamId is Id(StreamContext.Stream)  with {
  briefly "Stream identifier"
  described as {
    |Unique identifier for a streaming session.
  }
}
type ContentId is UUID with {
  briefly "Content identifier"
  described as {
    |Reference to streamable content.
  }
}
type SubscriberId is UUID with {
  briefly "Subscriber identifier"
  described as {
    |Reference to a subscriber.
  }
}
type DeviceId is UUID with {
  briefly "Device identifier"
  described as {
    |Reference to a playback device.
  }
}
type ProfileId is UUID with {
  briefly "Profile identifier"
  described as {
    |Reference to a user profile.
  }
}
type StreamQuality is any of {
  Auto,
  Low,
  Medium,
  High,
  UltraHD,
  FourK
} with {
  briefly "Stream quality"
  described as {
    |Video/audio quality level.
  }
}
type StreamStatus is any of {
  Initializing,
  Buffering,
  Playing,
  Paused,
  Seeking,
  Ended,
  Error
} with {
  briefly "Stream status"
  described as {
    |Current playback status.
  }
}
type DeviceType is any of {
  WebBrowser,
  MobileApp,
  SmartTV,
  StreamingDevice,
  GameConsole,
  Desktop
} with {
  briefly "Device type"
  described as {
    |Type of playback device.
  }
}
type ContentType is any of {
  Movie,
  TvSeries,
  Episode,
  Documentary,
  LiveEvent,
  Music,
  Podcast
} with {
  briefly "Content type"
  described as {
    |Type of streaming content.
  }
}
type StreamingContent is {
  contentId: ContentId with {
    briefly "Content ID"
    described as {
      |Content identifier.
    }
  }
  title: String(1,300) with {
    briefly "Title"
    described as {
      |Content title.
    }
  }
  contentType: ContentType with {
    briefly "Type"
    described as {
      |Content type.
    }
  }
  duration: Duration with {
    briefly "Duration"
    described as {
      |Content length.
    }
  }
  streamUrl: URL with {
    briefly "Stream URL"
    described as {
      |Playback URL.
    }
  }
  thumbnailUrl: URL with {
    briefly "Thumbnail"
    described as {
      |Thumbnail URL.
    }
  }
} with {
  briefly "Streaming content"
  described as {
    |Content available for streaming.
  }
}
type PlaybackDevice is {
  deviceId: DeviceId with {
    briefly "Device ID"
    described as {
      |Device identifier.
    }
  }
  deviceType: DeviceType with {
    briefly "Type"
    described as {
      |Device type.
    }
  }
  deviceName: String(1,100) with {
    briefly "Name"
    described as {
      |Device name.
    }
  }
  maxQuality: StreamQuality with {
    briefly "Max quality"
    described as {
      |Maximum supported quality.
    }
  }
  lastUsedAt: TimeStamp? with {
    briefly "Last used"
    described as {
      |Last activity time.
    }
  }
} with {
  briefly "Playback device"
  described as {
    |Device used for streaming.
  }
}
type ViewingProgress is {
  contentId: ContentId with {
    briefly "Content"
    described as {
      |Content ID.
    }
  }
  position: Duration with {
    briefly "Position"
    described as {
      |Current position.
    }
  }
  duration: Duration with {
    briefly "Duration"
    described as {
      |Total duration.
    }
  }
  percentComplete: Decimal(5,2) with {
    briefly "Percent"
    described as {
      |Completion percentage.
    }
  }
  lastWatchedAt: TimeStamp with {
    briefly "Last watched"
    described as {
      |Last viewing time.
    }
  }
} with {
  briefly "Viewing progress"
  described as {
    |Content watching progress.
  }
}
type StreamMetrics is {
  bitrate: Natural with {
    briefly "Bitrate"
    described as {
      |Current bitrate.
    }
  }
  bufferedSeconds: Natural with {
    briefly "Buffered"
    described as {
      |Buffer length.
    }
  }
  rebufferCount: Natural with {
    briefly "Rebuffers"
    described as {
      |Rebuffering events.
    }
  }
  droppedFrames: Natural with {
    briefly "Dropped"
    described as {
      |Dropped frames.
    }
  }
  latency: Duration with {
    briefly "Latency"
    described as {
      |Stream latency.
    }
  }
} with {
  briefly "Stream metrics"
  described as {
    |Playback quality metrics.
  }
}
type WatchlistItem is {
  contentId: ContentId with {
    briefly "Content"
    described as {
      |Content ID.
    }
  }
  addedAt: TimeStamp with {
    briefly "Added"
    described as {
      |Addition time.
    }
  }
  priority: Natural with {
    briefly "Priority"
    described as {
      |Watch priority.
    }
  }
} with {
  briefly "Watchlist item"
  described as {
    |Item in user watchlist.
  }
}
type Recommendation is {
  contentId: ContentId with {
    briefly "Content"
    described as {
      |Recommended content.
    }
  }
  score: Decimal(5,4) with {
    briefly "Score"
    described as {
      |Recommendation score.
    }
  }
  reason: String(1,200) with {
    briefly "Reason"
    described as {
      |Recommendation reason.
    }
  }
} with {
  briefly "Recommendation"
  described as {
    |Content recommendation.
  }
}
