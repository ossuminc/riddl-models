// Repository Pattern
// Replace {RepositoryName} with your repository name (e.g., OrderRepository)
// Replace {EntityName} with the entity being persisted (e.g., Order)

repository {RepositoryName} is {
  briefly "Repository for persisting and querying {EntityName} entities"

  // Query types
  type {EntityName}Query is {
    // TODO: Add query criteria fields
  }

  // Commands for persistence
  command Store{EntityName} is {
    entity: {EntityName}
  }
  command Delete{EntityName} is {
    id: {EntityName}Id
  }

  // Query commands
  command Find{EntityName}ById is {
    id: {EntityName}Id
  }
  command Find{EntityName}s is {
    query: {EntityName}Query
  }

  // Results
  result {EntityName}Found is {
    entity: {EntityName}?
  }
  result {EntityName}List is {
    entities: {EntityName}*
  }

  handler {RepositoryName}Handler is {
    on command Store{EntityName} {
      // TODO: Persist to storage
      ???
    }
    on command Delete{EntityName} {
      // TODO: Delete from storage
      ???
    }
    on command Find{EntityName}ById {
      // TODO: Query storage and return result
      ???
    }
    on command Find{EntityName}s {
      // TODO: Query storage with criteria
      ???
    }
  }
}