// Assembly Operations - Shared Types
type AssemblyOrderId is Id(AssemblyContext.AssemblyOrder)  with {
  briefly "Assembly order identifier"
  described as {
    |Unique identifier for an assembly order.
  }
}
type WorkStationId is UUID with {
  briefly "Work station identifier"
  described as {
    |Reference to a work station on the assembly line.
  }
}
type ComponentId is UUID with {
  briefly "Component identifier"
  described as {
    |Reference to a component used in assembly.
  }
}
type ProductId is UUID with {
  briefly "Product identifier"
  described as {
    |Reference to a finished product.
  }
}
type WorkOrderId is UUID with {
  briefly "Work order identifier"
  described as {
    |Reference to a parent work order.
  }
}
type DefectId is UUID with {
  briefly "Defect identifier"
  described as {
    |Reference to a recorded defect.
  }
}
type AssemblyStatus is any of {
  Pending,
  InProgress,
  Completed,
  Failed,
  OnHold
} with {
  briefly "Assembly status"
  described as {
    |Current status of an assembly order.
  }
}
type StepStatus is any of {
  NotStarted,
  InProgress,
  Completed,
  Skipped,
  Failed
} with {
  briefly "Step status"
  described as {
    |Current status of an assembly step.
  }
}
type DefectSeverity is any of {
  Minor,
  Major,
  Critical
} with {
  briefly "Defect severity"
  described as {
    |Severity level of a detected defect.
  }
}
type InspectionResult is any of {
  Pass,
  Fail,
  ConditionalPass
} with {
  briefly "Inspection result"
  described as {
    |Outcome of a quality inspection.
  }
}
type ComponentInfo is {
  componentId: ComponentId with {
    briefly "Component"
    described as {
      |Component identifier.
    }
  }
  partNumber: String(1,50) with {
    briefly "Part number"
    described as {
      |Component part number.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Component name.
    }
  }
  quantity: Natural with {
    briefly "Quantity"
    described as {
      |Required quantity per unit.
    }
  }
  unitOfMeasure: String(1,20) with {
    briefly "UOM"
    described as {
      |Unit of measure.
    }
  }
  lotNumber: String(1,50)? with {
    briefly "Lot"
    described as {
      |Component lot number for traceability.
    }
  }
  serialNumber: String(1,50)? with {
    briefly "Serial"
    described as {
      |Component serial number if serialized.
    }
  }
} with {
  briefly "Component info"
  described as {
    |Information about a component used in assembly.
  }
}
type WorkInstructions is {
  instructionId: UUID with {
    briefly "Instruction ID"
    described as {
      |Work instruction identifier.
    }
  }
  revision: String(1,20) with {
    briefly "Revision"
    described as {
      |Instruction revision number.
    }
  }
  title: String(1,200) with {
    briefly "Title"
    described as {
      |Instruction title.
    }
  }
  description: String(1,2000) with {
    briefly "Description"
    described as {
      |Detailed work instructions.
    }
  }
  estimatedTime: Natural with {
    briefly "Est. time"
    described as {
      |Estimated time in minutes.
    }
  }
  toolsRequired: String(1,100)* with {
    briefly "Tools"
    described as {
      |List of tools required.
    }
  }
  safetyNotes: String(1,1000)? with {
    briefly "Safety"
    described as {
      |Safety precautions and notes.
    }
  }
} with {
  briefly "Work instructions"
  described as {
    |Detailed instructions for an assembly operation.
  }
}
type AssemblyStep is {
  stepNumber: Natural with {
    briefly "Step number"
    described as {
      |Sequence number of the step.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Step name.
    }
  }
  instructions: WorkInstructions with {
    briefly "Instructions"
    described as {
      |Detailed step instructions.
    }
  }
  stepComponents: ComponentInfo* with {
    briefly "Components"
    described as {
      |Components used in this step.
    }
  }
  stepStatus: StepStatus with {
    briefly "Status"
    described as {
      |Current step status.
    }
  }
  stepStartedAt: TimeStamp? with {
    briefly "Started"
    described as {
      |When step was started.
    }
  }
  stepCompletedAt: TimeStamp? with {
    briefly "Completed"
    described as {
      |When step was completed.
    }
  }
  stepCompletedBy: String(1,200)? with {
    briefly "Completed by"
    described as {
      |Operator who completed the step.
    }
  }
  notes: String(1,1000)? with {
    briefly "Notes"
    described as {
      |Operator notes for the step.
    }
  }
} with {
  briefly "Assembly step"
  described as {
    |A single step in the assembly process.
  }
}
type QualityCheck is {
  checkId: UUID with {
    briefly "Check ID"
    described as {
      |Quality check identifier.
    }
  }
  checkType: String(1,100) with {
    briefly "Type"
    described as {
      |Type of quality check.
    }
  }
  description: String(1,500) with {
    briefly "Description"
    described as {
      |What is being checked.
    }
  }
  specification: String(1,500) with {
    briefly "Specification"
    described as {
      |Expected specification or tolerance.
    }
  }
  actualValue: String(1,200)? with {
    briefly "Actual"
    described as {
      |Actual measured value.
    }
  }
  result: InspectionResult with {
    briefly "Result"
    described as {
      |Check result.
    }
  }
  inspectedBy: String(1,200) with {
    briefly "Inspector"
    described as {
      |Person who performed the check.
    }
  }
  inspectedAt: TimeStamp with {
    briefly "Inspected"
    described as {
      |When check was performed.
    }
  }
  notes: String(1,500)? with {
    briefly "Notes"
    described as {
      |Inspection notes.
    }
  }
} with {
  briefly "Quality check"
  described as {
    |A quality inspection checkpoint.
  }
}
type DefectInfo is {
  defectId: DefectId with {
    briefly "Defect"
    described as {
      |Defect identifier.
    }
  }
  defectCode: String(1,50) with {
    briefly "Code"
    described as {
      |Defect classification code.
    }
  }
  description: String(1,1000) with {
    briefly "Description"
    described as {
      |Detailed defect description.
    }
  }
  severity: DefectSeverity with {
    briefly "Severity"
    described as {
      |Defect severity level.
    }
  }
  defectStepNumber: Natural? with {
    briefly "Step"
    described as {
      |Assembly step where defect occurred.
    }
  }
  defectComponentId: ComponentId? with {
    briefly "Component"
    described as {
      |Affected component if applicable.
    }
  }
  rootCause: String(1,500)? with {
    briefly "Root cause"
    described as {
      |Identified root cause.
    }
  }
  correctiveAction: String(1,500)? with {
    briefly "Corrective action"
    described as {
      |Action taken to address defect.
    }
  }
  recordedBy: String(1,200) with {
    briefly "Recorded by"
    described as {
      |Person who recorded the defect.
    }
  }
  recordedAt: TimeStamp with {
    briefly "Recorded"
    described as {
      |When defect was recorded.
    }
  }
} with {
  briefly "Defect info"
  described as {
    |Information about a recorded defect.
  }
}
type ProductInfo is {
  productId: ProductId with {
    briefly "Product"
    described as {
      |Product identifier.
    }
  }
  partNumber: String(1,50) with {
    briefly "Part number"
    described as {
      |Product part number.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Product name.
    }
  }
  revision: String(1,20) with {
    briefly "Revision"
    described as {
      |Product revision.
    }
  }
  serialNumber: String(1,50)? with {
    briefly "Serial"
    described as {
      |Product serial number.
    }
  }
} with {
  briefly "Product info"
  described as {
    |Information about the product being assembled.
  }
}
type WorkStationInfo is {
  workStationId: WorkStationId with {
    briefly "Work station"
    described as {
      |Work station identifier.
    }
  }
  name: String(1,100) with {
    briefly "Name"
    described as {
      |Work station name.
    }
  }
  lineNumber: String(1,50) with {
    briefly "Line"
    described as {
      |Assembly line number.
    }
  }
  position: Natural with {
    briefly "Position"
    described as {
      |Position on the line.
    }
  }
} with {
  briefly "Work station info"
  described as {
    |Information about an assembly work station.
  }
}
type HoldInfo is {
  reason: String(1,500) with {
    briefly "Reason"
    described as {
      |Reason for hold.
    }
  }
  heldBy: String(1,200) with {
    briefly "Held by"
    described as {
      |Person placing on hold.
    }
  }
  heldAt: TimeStamp with {
    briefly "Held"
    described as {
      |When hold was placed.
    }
  }
  holdReleasedBy: String(1,200)? with {
    briefly "Released by"
    described as {
      |Person releasing hold.
    }
  }
  holdReleasedAt: TimeStamp? with {
    briefly "Released"
    described as {
      |When hold was released.
    }
  }
} with {
  briefly "Hold info"
  described as {
    |Information about an assembly hold.
  }
}
type CompletionInfo is {
  completedBy: String(1,200) with {
    briefly "Completed by"
    described as {
      |Person completing assembly.
    }
  }
  completedAt: TimeStamp with {
    briefly "Completed"
    described as {
      |Completion timestamp.
    }
  }
  totalTime: Natural with {
    briefly "Total time"
    described as {
      |Total assembly time in minutes.
    }
  }
  passedQuality: Boolean with {
    briefly "Passed"
    described as {
      |Whether passed quality inspection.
    }
  }
  notes: String(1,1000)? with {
    briefly "Notes"
    described as {
      |Completion notes.
    }
  }
} with {
  briefly "Completion info"
  described as {
    |Assembly completion details.
  }
}
