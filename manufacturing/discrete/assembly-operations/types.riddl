// Assembly Operations - Shared Types

type AssemblyOrderId is Id(AssemblyContext.AssemblyOrder) with {
  briefly "Assembly order identifier"
  described by "Unique identifier for an assembly order."
}

type WorkStationId is UUID with {
  briefly "Work station identifier"
  described by "Reference to a work station on the assembly line."
}

type ComponentId is UUID with {
  briefly "Component identifier"
  described by "Reference to a component used in assembly."
}

type ProductId is UUID with {
  briefly "Product identifier"
  described by "Reference to a finished product."
}

type WorkOrderId is UUID with {
  briefly "Work order identifier"
  described by "Reference to a parent work order."
}

type DefectId is UUID with {
  briefly "Defect identifier"
  described by "Reference to a recorded defect."
}

type AssemblyStatus is any of {
  Pending,
  InProgress,
  Completed,
  Failed,
  OnHold
} with {
  briefly "Assembly status"
  described by "Current status of an assembly order."
}

type StepStatus is any of {
  NotStarted,
  InProgress,
  Completed,
  Skipped,
  Failed
} with {
  briefly "Step status"
  described by "Current status of an assembly step."
}

type DefectSeverity is any of {
  Minor,
  Major,
  Critical
} with {
  briefly "Defect severity"
  described by "Severity level of a detected defect."
}

type InspectionResult is any of {
  Pass,
  Fail,
  ConditionalPass
} with {
  briefly "Inspection result"
  described by "Outcome of a quality inspection."
}

type ComponentInfo is {
  componentId is ComponentId with {
    briefly "Component"
    described by "Component identifier."
  }
  partNumber is String(1, 50) with {
    briefly "Part number"
    described by "Component part number."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Component name."
  }
  quantity is Natural with {
    briefly "Quantity"
    described by "Required quantity per unit."
  }
  unitOfMeasure is String(1, 20) with {
    briefly "UOM"
    described by "Unit of measure."
  }
  lotNumber is optional String(1, 50) with {
    briefly "Lot"
    described by "Component lot number for traceability."
  }
  serialNumber is optional String(1, 50) with {
    briefly "Serial"
    described by "Component serial number if serialized."
  }
} with {
  briefly "Component info"
  described by "Information about a component used in assembly."
}

type WorkInstructions is {
  instructionId is UUID with {
    briefly "Instruction ID"
    described by "Work instruction identifier."
  }
  revision is String(1, 20) with {
    briefly "Revision"
    described by "Instruction revision number."
  }
  title is String(1, 200) with {
    briefly "Title"
    described by "Instruction title."
  }
  description is String(1, 2000) with {
    briefly "Description"
    described by "Detailed work instructions."
  }
  estimatedTime is Natural with {
    briefly "Est. time"
    described by "Estimated time in minutes."
  }
  toolsRequired is many optional String(1, 100) with {
    briefly "Tools"
    described by "List of tools required."
  }
  safetyNotes is optional String(1, 1000) with {
    briefly "Safety"
    described by "Safety precautions and notes."
  }
} with {
  briefly "Work instructions"
  described by "Detailed instructions for an assembly operation."
}

type AssemblyStep is {
  stepNumber is Natural with {
    briefly "Step number"
    described by "Sequence number of the step."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Step name."
  }
  instructions is WorkInstructions with {
    briefly "Instructions"
    described by "Detailed step instructions."
  }
  components is many optional ComponentInfo with {
    briefly "Components"
    described by "Components used in this step."
  }
  status is StepStatus with {
    briefly "Status"
    described by "Current step status."
  }
  startedAt is optional TimeStamp with {
    briefly "Started"
    described by "When step was started."
  }
  completedAt is optional TimeStamp with {
    briefly "Completed"
    described by "When step was completed."
  }
  completedBy is optional String(1, 200) with {
    briefly "Completed by"
    described by "Operator who completed the step."
  }
  notes is optional String(1, 1000) with {
    briefly "Notes"
    described by "Operator notes for the step."
  }
} with {
  briefly "Assembly step"
  described by "A single step in the assembly process."
}

type QualityCheck is {
  checkId is UUID with {
    briefly "Check ID"
    described by "Quality check identifier."
  }
  checkType is String(1, 100) with {
    briefly "Type"
    described by "Type of quality check."
  }
  description is String(1, 500) with {
    briefly "Description"
    described by "What is being checked."
  }
  specification is String(1, 500) with {
    briefly "Specification"
    described by "Expected specification or tolerance."
  }
  actualValue is optional String(1, 200) with {
    briefly "Actual"
    described by "Actual measured value."
  }
  result is InspectionResult with {
    briefly "Result"
    described by "Check result."
  }
  inspectedBy is String(1, 200) with {
    briefly "Inspector"
    described by "Person who performed the check."
  }
  inspectedAt is TimeStamp with {
    briefly "Inspected"
    described by "When check was performed."
  }
  notes is optional String(1, 500) with {
    briefly "Notes"
    described by "Inspection notes."
  }
} with {
  briefly "Quality check"
  described by "A quality inspection checkpoint."
}

type DefectInfo is {
  defectId is DefectId with {
    briefly "Defect"
    described by "Defect identifier."
  }
  defectCode is String(1, 50) with {
    briefly "Code"
    described by "Defect classification code."
  }
  description is String(1, 1000) with {
    briefly "Description"
    described by "Detailed defect description."
  }
  severity is DefectSeverity with {
    briefly "Severity"
    described by "Defect severity level."
  }
  stepNumber is optional Natural with {
    briefly "Step"
    described by "Assembly step where defect occurred."
  }
  componentId is optional ComponentId with {
    briefly "Component"
    described by "Affected component if applicable."
  }
  rootCause is optional String(1, 500) with {
    briefly "Root cause"
    described by "Identified root cause."
  }
  correctiveAction is optional String(1, 500) with {
    briefly "Corrective action"
    described by "Action taken to address defect."
  }
  recordedBy is String(1, 200) with {
    briefly "Recorded by"
    described by "Person who recorded the defect."
  }
  recordedAt is TimeStamp with {
    briefly "Recorded"
    described by "When defect was recorded."
  }
} with {
  briefly "Defect info"
  described by "Information about a recorded defect."
}

type ProductInfo is {
  productId is ProductId with {
    briefly "Product"
    described by "Product identifier."
  }
  partNumber is String(1, 50) with {
    briefly "Part number"
    described by "Product part number."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Product name."
  }
  revision is String(1, 20) with {
    briefly "Revision"
    described by "Product revision."
  }
  serialNumber is optional String(1, 50) with {
    briefly "Serial"
    described by "Product serial number."
  }
} with {
  briefly "Product info"
  described by "Information about the product being assembled."
}

type WorkStationInfo is {
  workStationId is WorkStationId with {
    briefly "Work station"
    described by "Work station identifier."
  }
  name is String(1, 100) with {
    briefly "Name"
    described by "Work station name."
  }
  lineNumber is String(1, 50) with {
    briefly "Line"
    described by "Assembly line number."
  }
  position is Natural with {
    briefly "Position"
    described by "Position on the line."
  }
} with {
  briefly "Work station info"
  described by "Information about an assembly work station."
}

type HoldInfo is {
  reason is String(1, 500) with {
    briefly "Reason"
    described by "Reason for hold."
  }
  heldBy is String(1, 200) with {
    briefly "Held by"
    described by "Person placing on hold."
  }
  heldAt is TimeStamp with {
    briefly "Held"
    described by "When hold was placed."
  }
  releasedBy is optional String(1, 200) with {
    briefly "Released by"
    described by "Person releasing hold."
  }
  releasedAt is optional TimeStamp with {
    briefly "Released"
    described by "When hold was released."
  }
} with {
  briefly "Hold info"
  described by "Information about an assembly hold."
}

type CompletionInfo is {
  completedBy is String(1, 200) with {
    briefly "Completed by"
    described by "Person completing assembly."
  }
  completedAt is TimeStamp with {
    briefly "Completed"
    described by "Completion timestamp."
  }
  totalTime is Natural with {
    briefly "Total time"
    described by "Total assembly time in minutes."
  }
  passedQuality is Boolean with {
    briefly "Passed"
    described by "Whether passed quality inspection."
  }
  notes is optional String(1, 1000) with {
    briefly "Notes"
    described by "Completion notes."
  }
} with {
  briefly "Completion info"
  described by "Assembly completion details."
}
