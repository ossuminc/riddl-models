// Work Order Management - Shared Types

type WorkOrderId is Id(WorkOrderContext.WorkOrder) with {
  briefly "Work order identifier"
  described by "Unique identifier for a work order."
}

type ProductId is UUID with {
  briefly "Product identifier"
  described by "Reference to a product."
}

type OperationId is UUID with {
  briefly "Operation identifier"
  described by "Reference to an operation."
}

type WorkCenterId is UUID with {
  briefly "Work center identifier"
  described by "Reference to a work center."
}

type MaterialId is UUID with {
  briefly "Material identifier"
  described by "Reference to a material."
}

type RoutingId is UUID with {
  briefly "Routing identifier"
  described by "Reference to a routing."
}

type WorkOrderStatus is any of {
  Created,
  Released,
  InProgress,
  OnHold,
  Completed,
  Cancelled,
  Closed
} with {
  briefly "Work order status"
  described by "Current work order status."
}

type OperationStatus is any of {
  Pending,
  Ready,
  InProgress,
  Completed,
  Skipped
} with {
  briefly "Operation status"
  described by "Current operation status."
}

type OrderPriority is any of {
  Low,
  Normal,
  High,
  Urgent,
  Emergency
} with {
  briefly "Order priority"
  described by "Work order priority."
}

type ProductInfo is {
  productId is ProductId with {
    briefly "Product"
    described by "Product identifier."
  }
  partNumber is String(1, 50) with {
    briefly "Part number"
    described by "Part number."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Product name."
  }
  revision is String(1, 20) with {
    briefly "Revision"
    described by "Product revision."
  }
  unitOfMeasure is String(1, 20) with {
    briefly "UOM"
    described by "Unit of measure."
  }
} with {
  briefly "Product info"
  described by "Product information."
}

type MaterialRequirement is {
  materialId is MaterialId with {
    briefly "Material"
    described by "Material identifier."
  }
  partNumber is String(1, 50) with {
    briefly "Part number"
    described by "Material part number."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Material name."
  }
  requiredQuantity is Decimal(15, 4) with {
    briefly "Required"
    described by "Required quantity."
  }
  unitOfMeasure is String(1, 20) with {
    briefly "UOM"
    described by "Unit of measure."
  }
  issuedQuantity is Decimal(15, 4) with {
    briefly "Issued"
    described by "Issued quantity."
  }
} with {
  briefly "Material requirement"
  described by "Bill of materials line item."
}

type OperationInfo is {
  operationId is OperationId with {
    briefly "Operation"
    described by "Operation identifier."
  }
  sequenceNumber is Natural with {
    briefly "Sequence"
    described by "Operation sequence."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Operation name."
  }
  workCenterId is WorkCenterId with {
    briefly "Work center"
    described by "Work center ID."
  }
  workCenterName is String(1, 100) with {
    briefly "Work center name"
    described by "Work center name."
  }
  setupTime is Natural with {
    briefly "Setup time"
    described by "Setup time in minutes."
  }
  runTime is Natural with {
    briefly "Run time"
    described by "Run time per unit in minutes."
  }
  operationStatus is OperationStatus with {
    briefly "Status"
    described by "Operation status."
  }
  instructions is optional String(1, 5000) with {
    briefly "Instructions"
    described by "Work instructions."
  }
} with {
  briefly "Operation info"
  described by "Routing operation details."
}

type ScheduleInfo is {
  plannedStart is TimeStamp with {
    briefly "Planned start"
    described by "Planned start time."
  }
  plannedEnd is TimeStamp with {
    briefly "Planned end"
    described by "Planned end time."
  }
  actualStart is optional TimeStamp with {
    briefly "Actual start"
    described by "Actual start time."
  }
  actualEnd is optional TimeStamp with {
    briefly "Actual end"
    described by "Actual end time."
  }
} with {
  briefly "Schedule info"
  described by "Work order schedule."
}

type QuantityInfo is {
  orderedQuantity is Decimal(15, 4) with {
    briefly "Ordered"
    described by "Ordered quantity."
  }
  completedQuantity is Decimal(15, 4) with {
    briefly "Completed"
    described by "Completed quantity."
  }
  scrapQuantity is Decimal(15, 4) with {
    briefly "Scrap"
    described by "Scrap quantity."
  }
  yieldPercent is Decimal(5, 2) with {
    briefly "Yield"
    described by "Yield percentage."
  }
} with {
  briefly "Quantity info"
  described by "Production quantity details."
}

type LaborEntry is {
  operatorId is String(1, 100) with {
    briefly "Operator"
    described by "Operator identifier."
  }
  operatorName is String(1, 200) with {
    briefly "Name"
    described by "Operator name."
  }
  operationId is OperationId with {
    briefly "Operation"
    described by "Operation ID."
  }
  startTime is TimeStamp with {
    briefly "Start"
    described by "Labor start time."
  }
  endTime is optional TimeStamp with {
    briefly "End"
    described by "Labor end time."
  }
  hoursWorked is Decimal(6, 2) with {
    briefly "Hours"
    described by "Hours worked."
  }
} with {
  briefly "Labor entry"
  described by "Labor time recording."
}

type QualityResult is {
  operationId is OperationId with {
    briefly "Operation"
    described by "Operation ID."
  }
  inspectionType is String(1, 100) with {
    briefly "Type"
    described by "Inspection type."
  }
  passedQuantity is Decimal(15, 4) with {
    briefly "Passed"
    described by "Passed quantity."
  }
  failedQuantity is Decimal(15, 4) with {
    briefly "Failed"
    described by "Failed quantity."
  }
  defectCodes is many optional String(1, 50) with {
    briefly "Defects"
    described by "Defect codes."
  }
  inspectedBy is String(1, 200) with {
    briefly "Inspector"
    described by "Inspector name."
  }
  inspectedAt is TimeStamp with {
    briefly "Inspected"
    described by "Inspection time."
  }
} with {
  briefly "Quality result"
  described by "Quality inspection result."
}

type HoldInfo is {
  reason is String(1, 500) with {
    briefly "Reason"
    described by "Hold reason."
  }
  heldBy is String(1, 200) with {
    briefly "Held by"
    described by "Person placing hold."
  }
  heldAt is TimeStamp with {
    briefly "Held"
    described by "Hold time."
  }
  holdReleasedBy is optional String(1, 200) with {
    briefly "Released by"
    described by "Person releasing hold."
  }
  holdReleasedAt is optional TimeStamp with {
    briefly "Released"
    described by "Release time."
  }
} with {
  briefly "Hold info"
  described by "Work order hold information."
}

type CompletionInfo is {
  completedQuantity is Decimal(15, 4) with {
    briefly "Completed"
    described by "Completed quantity."
  }
  scrapQuantity is Decimal(15, 4) with {
    briefly "Scrap"
    described by "Scrap quantity."
  }
  completedBy is String(1, 200) with {
    briefly "Completed by"
    described by "Person completing."
  }
  completedAt is TimeStamp with {
    briefly "Completed"
    described by "Completion time."
  }
  notes is optional String(1, 1000) with {
    briefly "Notes"
    described by "Completion notes."
  }
} with {
  briefly "Completion info"
  described by "Work order completion details."
}
