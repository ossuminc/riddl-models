// Quality Control Domain Model
// Process manufacturing quality inspection and control
domain QualityControl is {
  author OssumInc is {
    name = "Ossum Inc."
    email = "support@ossuminc.com"
  } with {
    briefly "Domain author"
    described as {
      |Organization maintaining this domain model.
    }
  }
  user QualityInspector is "person performing quality inspections" with {
    briefly "Quality Inspector"
    described as {
      |Person conducting inspections and recording test results.
    }
  }
  user QualityManager is "person managing quality operations" with {
    briefly "Quality Manager"
    described as {
      |Person overseeing quality control and approving dispositions.
    }
  }
  user LabTechnician is "person performing laboratory tests" with {
    briefly "Lab Technician"
    described as {
      |Person executing lab tests and analyzing samples.
    }
  }
  epic QualityInspectionEpic is {
    user QualityManager wants to "to ensure product quality through systematic inspection" so that "only conforming products reach customers"
    case PerformInspection is {
      user QualityInspector wants to "to inspect production lots for quality compliance" so that "non-conforming material is identified"
      step is "Inspector reviews" "inspection plan" "for the product specification" with {
        briefly "Review plan"
        described as {
          |Check inspection requirements.
        }
      }
      step is "Inspector collects" "samples from lot" "per sampling plan" with {
        briefly "Collect samples"
        described as {
          |Take representative samples.
        }
      }
      step send command QualityContext.Inspection.CollectSample from user QualityInspector to entity QualityContext.Inspection with {
        briefly "Record sample"
        described as {
          |Document sample collection.
        }
      }
      step is "Technician performs" "laboratory tests" "on samples" with {
        briefly "Test samples"
        described as {
          |Execute required tests.
        }
      }
      step send command QualityContext.Inspection.RecordTestResult from user LabTechnician to entity QualityContext.Inspection with {
        briefly "Record result"
        described as {
          |Document test results.
        }
      }
      step send command QualityContext.Inspection.EvaluateResults from user QualityInspector to entity QualityContext.Inspection with {
        briefly "Evaluate"
        described as {
          |Compare results to specifications.
        }
      }
    } with {
      briefly "Quality inspection workflow"
      described as {
        |Collecting samples and recording test results.
      }
    }
    case HandleNonConformance is {
      user QualityManager wants to "to disposition non-conforming material" so that "appropriate corrective action is taken"
      step is "Manager reviews" "inspection results" "and non-conformance details" with {
        briefly "Review NC"
        described as {
          |Analyze non-conformance.
        }
      }
      step send command QualityContext.Inspection.InitiateNCR from user QualityManager to entity QualityContext.Inspection with {
        briefly "Initiate NCR"
        described as {
          |Create non-conformance report.
        }
      }
      step is "CAPA system tracks" "corrective actions" "to closure" with {
        briefly "Track CAPA"
        described as {
          |Monitor corrective actions.
        }
      }
    } with {
      briefly "Non-conformance handling"
      described as {
        |Managing quality failures and corrective actions.
      }
    }
  } with {
    briefly "Quality inspection epic"
    described as {
      | Epic covering quality inspection processes including
      | sample collection, testing, evaluation, and NCR initiation.
    }
  }
  include "QualityContext.riddl"
  include "external-contexts.riddl"
} with {
  briefly "Quality control domain"
  described as {
    | The QualityControl domain handles process manufacturing
    | quality inspection, testing, and compliance verification.
  }
}
