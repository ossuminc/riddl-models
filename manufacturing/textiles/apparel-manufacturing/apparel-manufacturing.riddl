// Apparel Manufacturing Domain Model
// Cut-Sew-Trim (CST) production for garment manufacturing

domain ApparelManufacturing is {

  author OssumInc is {
    name is "Ossum Inc."
    email is "support@ossuminc.com"
  } with {
    briefly "Domain author"
    described by "Organization maintaining this domain model."
  }

  user ProductionSupervisor is "person overseeing garment production floor" with {
    briefly "Production Supervisor"
    described by "Person managing production schedules and supervising operators."
  }

  user SewingOperator is "person operating sewing machines and assembling garments" with {
    briefly "Sewing Operator"
    described by "Person performing sewing operations on garment bundles."
  }

  user CuttingOperator is "person operating cutting equipment to cut fabric" with {
    briefly "Cutting Operator"
    described by "Person executing fabric cutting based on markers."
  }

  user QualityChecker is "person inspecting garments for quality standards" with {
    briefly "Quality Checker"
    described by "Person performing quality inspection at various stages."
  }

  epic CutSewTrimEpic is {
    user ProductionSupervisor wants "to manage cut-sew-trim production orders"
      so that "garments are manufactured efficiently and on schedule"

    case ExecuteCutOrder is {
      user CuttingOperator wants "to complete fabric cutting for a style order"
        so that "cut pieces are ready for sewing"
      step is "Cutting operator receives" "cut order with marker layout" "and fabric allocation"
        with { briefly "Receive order" described by "Get cutting instructions." }
      step is "Operator spreads" "fabric layers on cutting table" "per marker requirements"
        with { briefly "Spread fabric" described by "Prepare fabric layers." }
      step send command ApparelContext.CutOrder.CutFabric from user CuttingOperator to entity ApparelContext.CutOrder
        with { briefly "Cut fabric" described by "Execute cutting operation." }
      step send command ApparelContext.CutOrder.CreateBundles from user CuttingOperator to entity ApparelContext.CutOrder
        with { briefly "Create bundles" described by "Bundle cut pieces by size." }
    } with {
      briefly "Fabric cutting execution"
      described by "Executing fabric cutting and bundle creation."
    }

    case ExecuteSewing is {
      user SewingOperator wants "to sew assigned bundles"
        so that "garments are assembled correctly"
      step send command ApparelContext.CutOrder.AssignBundle from user ProductionSupervisor to entity ApparelContext.CutOrder
        with { briefly "Assign bundle" described by "Assign bundle to operator." }
      step is "Sewing operator receives" "bundle with sewing instructions" "and thread requirements"
        with { briefly "Receive bundle" described by "Get bundle and instructions." }
      step is "Operator performs" "sewing operations" "per production standards"
        with { briefly "Sew garments" described by "Execute sewing operations." }
      step send command ApparelContext.CutOrder.CompleteSewing from user SewingOperator to entity ApparelContext.CutOrder
        with { briefly "Complete sewing" described by "Report sewing completion." }
    } with {
      briefly "Sewing operations"
      described by "Executing sewing operations on bundles."
    }

    case ExecuteFinishing is {
      user QualityChecker wants "to inspect and finish garments"
        so that "only quality garments are shipped"
      step send command ApparelContext.CutOrder.CompleteTrimming from user SewingOperator to entity ApparelContext.CutOrder
        with { briefly "Complete trimming" described by "Complete trim attachment." }
      step is "Quality checker inspects" "garments for defects" "and measurements"
        with { briefly "Inspect garments" described by "Perform quality inspection." }
      step send command ApparelContext.CutOrder.PackGarments from user QualityChecker to entity ApparelContext.CutOrder
        with { briefly "Pack garments" described by "Pack approved garments." }
    } with {
      briefly "Finishing and packing"
      described by "Executing trim, inspection, and packing."
    }
  } with {
    briefly "Cut-Sew-Trim production"
    described by {
      | Epic covering the complete cut-sew-trim (CST) apparel
      | production process from fabric cutting through packing.
    }
  }

  include "ApparelContext.riddl"
  include "external-contexts.riddl"

} with {
  briefly "Apparel manufacturing domain"
  described by {
    | The ApparelManufacturing domain handles cut-sew-trim
    | garment production including cutting, bundling, sewing,
    | trimming, finishing, and packing operations.
  }
}
