// Apparel Manufacturing - Shared Types
type StyleId is UUID with {
  briefly "Style identifier"
  described as {
    |Unique identifier for a garment style.
  }
}
type CutOrderId is Id(ApparelContext.CutOrder)  with {
  briefly "Cut order identifier"
  described as {
    |Unique identifier for a cut order.
  }
}
type BundleId is UUID with {
  briefly "Bundle identifier"
  described as {
    |Unique identifier for a bundle of cut pieces.
  }
}
type OperatorId is UUID with {
  briefly "Operator identifier"
  described as {
    |Reference to a production operator.
  }
}
type MarkerNumber is String(1,50) with {
  briefly "Marker number"
  described as {
    |Identifier for a cutting marker layout.
  }
}
type ProductionStatus is any of {
  Cutting,
  Bundling,
  Sewing,
  Trimming,
  Finishing,
  Packing,
  Complete
} with {
  briefly "Production status"
  described as {
    |Current production stage in CST process.
  }
}
type BundleStatus is any of {
  Created,
  Assigned,
  InProgress,
  SewingComplete,
  TrimmingComplete,
  QualityPassed,
  QualityFailed,
  Packed
} with {
  briefly "Bundle status"
  described as {
    |Current status of a production bundle.
  }
}
type GarmentSize is any of {
  SizeXS,
  SizeS,
  SizeM,
  SizeL,
  SizeXL,
  SizeXXL,
  SizeXXXL
} with {
  briefly "Garment size"
  described as {
    |Standard garment size designation.
  }
}
type OrderPriority is any of {
  Low,
  Normal,
  High,
  Urgent,
  Rush
} with {
  briefly "Order priority"
  described as {
    |Production order priority level.
  }
}
type DefectType is any of {
  StitchDefect,
  FabricDefect,
  SizeVariation,
  ColorVariation,
  TrimDefect,
  LabelDefect,
  Other
} with {
  briefly "Defect type"
  described as {
    |Type of quality defect found.
  }
}
type CutMarker is {
  markerNumber: MarkerNumber with {
    briefly "Marker number"
    described as {
      |Unique marker identifier.
    }
  }
  styleId: StyleId with {
    briefly "Style"
    described as {
      |Garment style reference.
    }
  }
  fabricWidth: Decimal(6,2) with {
    briefly "Fabric width"
    described as {
      |Width of fabric in inches.
    }
  }
  markerLength: Decimal(8,2) with {
    briefly "Marker length"
    described as {
      |Total marker length in inches.
    }
  }
  efficiency: Decimal(5,2) with {
    briefly "Efficiency"
    described as {
      |Marker efficiency percentage.
    }
  }
  sizeSplit: SizeQuantity+ with {
    briefly "Size split"
    described as {
      |Quantities per size in marker.
    }
  }
  layers: Natural with {
    briefly "Layers"
    described as {
      |Number of fabric layers to spread.
    }
  }
} with {
  briefly "Cut marker"
  described as {
    |Cutting marker layout specification.
  }
}
type SizeQuantity is {
  size: GarmentSize with {
    briefly "Size"
    described as {
      |Garment size.
    }
  }
  quantity: Natural with {
    briefly "Quantity"
    described as {
      |Number of pieces in this size.
    }
  }
} with {
  briefly "Size quantity"
  described as {
    |Quantity for a specific size.
  }
}
type Bundle is {
  bundleId: BundleId with {
    briefly "Bundle ID"
    described as {
      |Unique bundle identifier.
    }
  }
  cutOrderId: CutOrderId with {
    briefly "Cut order"
    described as {
      |Parent cut order reference.
    }
  }
  bundleNumber: Natural with {
    briefly "Bundle number"
    described as {
      |Sequential bundle number.
    }
  }
  size: GarmentSize with {
    briefly "Size"
    described as {
      |Garment size for this bundle.
    }
  }
  pieceCount: Natural with {
    briefly "Piece count"
    described as {
      |Number of pieces in bundle.
    }
  }
  bundleStatus: BundleStatus with {
    briefly "Status"
    described as {
      |Current bundle status.
    }
  }
  assignedOperator: OperatorId? with {
    briefly "Assigned operator"
    described as {
      |Operator assigned to this bundle.
    }
  }
  bundleAssignedAt: TimeStamp? with {
    briefly "Assigned at"
    described as {
      |When bundle was assigned.
    }
  }
} with {
  briefly "Production bundle"
  described as {
    |Bundle of cut pieces for production tracking.
  }
}
type SewingOperation is {
  operationId: UUID with {
    briefly "Operation ID"
    described as {
      |Unique operation identifier.
    }
  }
  operationName: String(1,100) with {
    briefly "Operation name"
    described as {
      |Name of sewing operation.
    }
  }
  sequenceNumber: Natural with {
    briefly "Sequence"
    described as {
      |Order in production sequence.
    }
  }
  standardMinutes: Decimal(6,2) with {
    briefly "SAM"
    described as {
      |Standard allowed minutes.
    }
  }
  machineType: String(1,50) with {
    briefly "Machine type"
    described as {
      |Required sewing machine type.
    }
  }
  instructions: String(1,2000)? with {
    briefly "Instructions"
    described as {
      |Detailed operation instructions.
    }
  }
} with {
  briefly "Sewing operation"
  described as {
    |Individual sewing operation in production sequence.
  }
}
type TrimOperation is {
  trimId: UUID with {
    briefly "Trim ID"
    described as {
      |Unique trim operation identifier.
    }
  }
  trimType: String(1,50) with {
    briefly "Trim type"
    described as {
      |Type of trim (button, zipper, label, etc).
    }
  }
  trimCode: String(1,50) with {
    briefly "Trim code"
    described as {
      |Inventory code for trim item.
    }
  }
  quantity: Natural with {
    briefly "Quantity"
    described as {
      |Number of trims per garment.
    }
  }
  placement: String(1,200) with {
    briefly "Placement"
    described as {
      |Location on garment.
    }
  }
  standardMinutes: Decimal(6,2) with {
    briefly "SAM"
    described as {
      |Standard allowed minutes.
    }
  }
} with {
  briefly "Trim operation"
  described as {
    |Trim attachment operation specification.
  }
}
type GarmentSpec is {
  styleId: StyleId with {
    briefly "Style ID"
    described as {
      |Garment style identifier.
    }
  }
  styleNumber: String(1,50) with {
    briefly "Style number"
    described as {
      |Style number code.
    }
  }
  styleName: String(1,200) with {
    briefly "Style name"
    described as {
      |Descriptive style name.
    }
  }
  category: String(1,50) with {
    briefly "Category"
    described as {
      |Garment category (shirt, pants, etc).
    }
  }
  fabricCode: String(1,50) with {
    briefly "Fabric code"
    described as {
      |Primary fabric inventory code.
    }
  }
  colorCode: String(1,50) with {
    briefly "Color code"
    described as {
      |Fabric color code.
    }
  }
  sewingOperations: SewingOperation+ with {
    briefly "Sewing ops"
    described as {
      |Sewing operations for this style.
    }
  }
  trimOperations: TrimOperation+ with {
    briefly "Trim ops"
    described as {
      |Trim operations for this style.
    }
  }
  totalSAM: Decimal(8,2) with {
    briefly "Total SAM"
    described as {
      |Total standard allowed minutes.
    }
  }
} with {
  briefly "Garment specification"
  described as {
    |Complete specification for a garment style.
  }
}
type QualityInspection is {
  inspectionId: UUID with {
    briefly "Inspection ID"
    described as {
      |Unique inspection identifier.
    }
  }
  bundleId: BundleId with {
    briefly "Bundle ID"
    described as {
      |Inspected bundle.
    }
  }
  inspectedBy: OperatorId with {
    briefly "Inspector"
    described as {
      |Quality checker performing inspection.
    }
  }
  inspectedAt: TimeStamp with {
    briefly "Inspected at"
    described as {
      |Time of inspection.
    }
  }
  passedCount: Natural with {
    briefly "Passed"
    described as {
      |Number of garments passed.
    }
  }
  failedCount: Natural with {
    briefly "Failed"
    described as {
      |Number of garments failed.
    }
  }
  defects: DefectRecord* with {
    briefly "Defects"
    described as {
      |Defects found during inspection.
    }
  }
} with {
  briefly "Quality inspection"
  described as {
    |Quality inspection result for a bundle.
  }
}
type DefectRecord is {
  defectType: DefectType with {
    briefly "Defect type"
    described as {
      |Type of defect found.
    }
  }
  defectCount: Natural with {
    briefly "Count"
    described as {
      |Number of items with this defect.
    }
  }
  defectDescription: String(1,500)? with {
    briefly "Description"
    described as {
      |Defect description.
    }
  }
  repairable: Boolean with {
    briefly "Repairable"
    described as {
      |Whether defect can be repaired.
    }
  }
} with {
  briefly "Defect record"
  described as {
    |Record of a specific defect type found.
  }
}
type ProductionEfficiency is {
  operatorId: OperatorId with {
    briefly "Operator"
    described as {
      |Operator identifier.
    }
  }
  operatorName: String(1,200) with {
    briefly "Name"
    described as {
      |Operator name.
    }
  }
  earnedMinutes: Decimal(10,2) with {
    briefly "Earned"
    described as {
      |Earned standard minutes.
    }
  }
  attendedMinutes: Decimal(10,2) with {
    briefly "Attended"
    described as {
      |Minutes attended.
    }
  }
  efficiency: Decimal(5,2) with {
    briefly "Efficiency"
    described as {
      |Efficiency percentage.
    }
  }
  bundlesCompleted: Natural with {
    briefly "Bundles"
    described as {
      |Bundles completed.
    }
  }
} with {
  briefly "Production efficiency"
  described as {
    |Operator production efficiency metrics.
  }
}
type PackingInfo is {
  cartonNumber: String(1,50) with {
    briefly "Carton"
    described as {
      |Carton identifier.
    }
  }
  sizeBreakdown: SizeQuantity+ with {
    briefly "Size breakdown"
    described as {
      |Quantities by size in carton.
    }
  }
  totalUnits: Natural with {
    briefly "Total units"
    described as {
      |Total garments in carton.
    }
  }
  packedBy: OperatorId with {
    briefly "Packed by"
    described as {
      |Packer identifier.
    }
  }
  packedAt: TimeStamp with {
    briefly "Packed at"
    described as {
      |Packing timestamp.
    }
  }
} with {
  briefly "Packing info"
  described as {
    |Carton packing information.
  }
}
