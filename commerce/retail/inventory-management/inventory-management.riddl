// Inventory Management Domain Model
// Retail stock tracking, replenishment, and allocation

domain InventoryManagement is {

  author OssumInc is {
    name is "Ossum Inc."
    email is "support@ossum.ai"
  } with {
    briefly "Domain author"
    described by "Organization maintaining this domain model."
  }

  user InventoryManager is "staff managing stock levels and replenishment" with {
    briefly "Inventory manager"
    described by "Staff responsible for inventory operations."
  }

  user WarehouseWorker is "staff handling physical inventory" with {
    briefly "Warehouse worker"
    described by "Staff performing receiving, picking, and counting."
  }

  epic ReplenishmentEpic is {
    user InventoryManager wants "to maintain optimal stock levels"
      so that "products are available for sale without overstocking"

    case AutoReplenishment is {
      user InventoryManager wants "automatic reorder when stock is low"
        so that "stockouts are prevented"
      step is "System monitors stock levels" "against reorder points" "continuously"
        with { briefly "Monitor stock" described by "System tracks inventory levels." }
      step is "System detects low stock" "below reorder threshold" "for product"
        with { briefly "Detect low" described by "System identifies reorder need." }
      step send command InventoryContext.StockItem.CreateReplenishmentOrder from user InventoryManager to entity InventoryContext.StockItem
        with { briefly "Create order" described by "Send replenishment command." }
      step is "System notifies purchasing" "of replenishment need" "for action"
        with { briefly "Notify" described by "System alerts purchasing team." }
    } with {
      briefly "Automatic stock replenishment"
      described by "Automated reordering based on stock levels."
    }
  } with {
    briefly "Inventory replenishment"
    described by {
      | Epic covering the replenishment workflow from low stock detection
      | through purchase order creation.
    }
  }

  include "InventoryContext.riddl"
  include "external-contexts.riddl"

} with {
  briefly "Inventory management domain"
  described by {
    | The InventoryManagement domain handles retail stock tracking,
    | receiving, allocation, adjustments, and replenishment across
    | stores and warehouses.
  }
}
