// Inventory Management - Shared Types
type StockItemId is Id(InventoryContext.StockItem)  with {
  briefly "Stock item identifier"
  described as {
    |Unique identifier for an inventory item.
  }
}
type ProductId is UUID with {
  briefly "Product identifier"
  described as {
    |Reference to a product.
  }
}
type LocationId is UUID with {
  briefly "Location identifier"
  described as {
    |Reference to a storage location.
  }
}
type SKU is Pattern("^[A-Z0-9-]{6,20}$") with {
  briefly "Stock keeping unit"
  described as {
    |Product SKU.
  }
}
type Quantity is Natural with {
  briefly "Quantity"
  described as {
    |Number of units.
  }
}
type Money is {
  amount: Decimal(10,2) with {
    briefly "Amount"
    described as {
      |Monetary value.
    }
  }
  currency: Currency(USD) with {
    briefly "Currency"
    described as {
      |Currency code.
    }
  }
} with {
  briefly "Monetary value"
  described as {
    |Amount with currency.
  }
}
type StorageLocation is {
  locationId: LocationId with {
    briefly "Location ID"
    described as {
      |Location identifier.
    }
  }
  locationType: LocationType with {
    briefly "Type"
    described as {
      |Type of location.
    }
  }
  name: String(1,100) with {
    briefly "Name"
    described as {
      |Location name.
    }
  }
  aisle: String(1,20)? with {
    briefly "Aisle"
    described as {
      |Aisle identifier.
    }
  }
  shelf: String(1,20)? with {
    briefly "Shelf"
    described as {
      |Shelf identifier.
    }
  }
  bin: String(1,20)? with {
    briefly "Bin"
    described as {
      |Bin identifier.
    }
  }
} with {
  briefly "Storage location"
  described as {
    |Physical location for inventory storage.
  }
}
type LocationType is any of {
  WarehouseLocation,
  StoreBackroom,
  StoreFloor,
  TransitLocation
} with {
  briefly "Location type"
  described as {
    |Type of storage location.
  }
}
type StockLevel is {
  productId: ProductId with {
    briefly "Product"
    described as {
      |Product identifier.
    }
  }
  sku: SKU with {
    briefly "SKU"
    described as {
      |Product SKU.
    }
  }
  location: StorageLocation with {
    briefly "Location"
    described as {
      |Storage location.
    }
  }
  quantityOnHand: Quantity with {
    briefly "On hand"
    described as {
      |Quantity currently in location.
    }
  }
  quantityReserved: Quantity with {
    briefly "Reserved"
    described as {
      |Quantity reserved for orders.
    }
  }
  quantityAvailable: Quantity with {
    briefly "Available"
    described as {
      |Quantity available for sale.
    }
  }
} with {
  briefly "Stock level"
  described as {
    |Current inventory levels at a location.
  }
}
type ReorderPoint is {
  productId: ProductId with {
    briefly "Product"
    described as {
      |Product identifier.
    }
  }
  minimumQuantity: Quantity with {
    briefly "Minimum"
    described as {
      |Trigger reorder when below.
    }
  }
  reorderQuantity: Quantity with {
    briefly "Reorder qty"
    described as {
      |Quantity to order.
    }
  }
  leadTimeDays: Natural with {
    briefly "Lead time"
    described as {
      |Days to receive order.
    }
  }
} with {
  briefly "Reorder parameters"
  described as {
    |Settings for automatic replenishment.
  }
}
type InventoryAdjustment is {
  adjustmentType: AdjustmentType with {
    briefly "Type"
    described as {
      |Reason for adjustment.
    }
  }
  adjustmentQuantity: Integer with {
    briefly "Quantity"
    described as {
      |Adjustment amount (positive or negative).
    }
  }
  reason: String(1,500) with {
    briefly "Reason"
    described as {
      |Explanation for adjustment.
    }
  }
  adjustedBy: String(1,100) with {
    briefly "Adjusted by"
    described as {
      |Person making adjustment.
    }
  }
} with {
  briefly "Inventory adjustment"
  described as {
    |A change to inventory quantity.
  }
}
type AdjustmentType is any of {
  DamageAdjustment,
  TheftAdjustment,
  CycleCountAdjustment,
  ReceivingAdjustment,
  TransferAdjustment
} with {
  briefly "Adjustment type"
  described as {
    |Reason category for adjustment.
  }
}
type ReceiptInfo is {
  purchaseOrderId: UUID with {
    briefly "PO ID"
    described as {
      |Purchase order reference.
    }
  }
  quantityExpected: Quantity with {
    briefly "Expected"
    described as {
      |Quantity ordered.
    }
  }
  quantityReceived: Quantity with {
    briefly "Received"
    described as {
      |Quantity actually received.
    }
  }
  receivedBy: String(1,100) with {
    briefly "Received by"
    described as {
      |Person receiving goods.
    }
  }
  receivedAt: TimeStamp with {
    briefly "Received at"
    described as {
      |Receipt timestamp.
    }
  }
} with {
  briefly "Receipt information"
  described as {
    |Details of inventory receipt.
  }
}
