// Store Operations - Shared Types

type StoreId is Id(StoreContext.Store) with {
  briefly "Store identifier"
  described by "Unique identifier for a retail store."
}

type EmployeeId is UUID with {
  briefly "Employee identifier"
  described by "Reference to an employee."
}

type ShiftId is UUID with {
  briefly "Shift identifier"
  described by "Reference to a work shift."
}

type RegisterId is UUID with {
  briefly "Register identifier"
  described by "Reference to a cash register."
}

type Money is {
  amount is Decimal(10, 2) with {
    briefly "Amount"
    described by "Monetary value."
  }
  currency is Currency(USD) with {
    briefly "Currency"
    described by "Currency code."
  }
} with {
  briefly "Monetary value"
  described by "Amount with currency."
}

type StoreStatus is any of {
  OpenStatus with {
    briefly "Open"
    described by "Store is open for business."
  },
  ClosedStatus with {
    briefly "Closed"
    described by "Store is closed."
  },
  TemporarilyClosedStatus with {
    briefly "Temporarily closed"
    described by "Store is temporarily closed."
  }
} with {
  briefly "Store status"
  described by "Current operational status of the store."
}

type ShiftInfo is {
  shiftId is ShiftId with {
    briefly "Shift ID"
    described by "Shift identifier."
  }
  employeeId is EmployeeId with {
    briefly "Employee"
    described by "Assigned employee."
  }
  startTime is TimeStamp with {
    briefly "Start"
    described by "Shift start time."
  }
  endTime is optional TimeStamp with {
    briefly "End"
    described by "Shift end time."
  }
  position is String(1, 100) with {
    briefly "Position"
    described by "Role during shift."
  }
} with {
  briefly "Shift information"
  described by "Details of a work shift."
}

type CashDrawer is {
  registerId is RegisterId with {
    briefly "Register"
    described by "Register ID."
  }
  openingBalance is Money with {
    briefly "Opening"
    described by "Starting cash amount."
  }
  currentBalance is Money with {
    briefly "Current"
    described by "Current cash amount."
  }
  expectedBalance is Money with {
    briefly "Expected"
    described by "Expected based on sales."
  }
  variance is Money with {
    briefly "Variance"
    described by "Difference from expected."
  }
} with {
  briefly "Cash drawer status"
  described by "Current state of register cash."
}

type DailySchedule is {
  date is Date with {
    briefly "Date"
    described by "Schedule date."
  }
  openingTime is Time with {
    briefly "Open"
    described by "Store opening time."
  }
  closingTime is Time with {
    briefly "Close"
    described by "Store closing time."
  }
  shifts is many ShiftInfo with {
    briefly "Shifts"
    described by "Scheduled shifts."
  }
} with {
  briefly "Daily schedule"
  described by "Store schedule for a day."
}

type OperationalTask is {
  taskId is UUID with {
    briefly "Task ID"
    described by "Task identifier."
  }
  description is String(1, 500) with {
    briefly "Description"
    described by "Task description."
  }
  assignedTo is optional EmployeeId with {
    briefly "Assigned to"
    described by "Assigned employee."
  }
  dueTime is optional TimeStamp with {
    briefly "Due"
    described by "Due time."
  }
  completed is Boolean with {
    briefly "Completed"
    described by "Whether completed."
  }
} with {
  briefly "Operational task"
  described by "A task to be completed during operations."
}

type IncidentReport is {
  incidentId is UUID with {
    briefly "Incident ID"
    described by "Incident identifier."
  }
  incidentType is IncidentType with {
    briefly "Type"
    described by "Incident category."
  }
  description is String(1, 2000) with {
    briefly "Description"
    described by "Incident details."
  }
  reportedBy is EmployeeId with {
    briefly "Reported by"
    described by "Reporting employee."
  }
  reportedAt is TimeStamp with {
    briefly "Reported at"
    described by "Report time."
  }
} with {
  briefly "Incident report"
  described by "Report of an operational incident."
}

type IncidentType is any of {
  SafetyIncident with {
    briefly "Safety"
    described by "Safety-related incident."
  },
  SecurityIncident with {
    briefly "Security"
    described by "Security incident."
  },
  CustomerComplaint with {
    briefly "Complaint"
    described by "Customer complaint."
  },
  EquipmentFailure with {
    briefly "Equipment"
    described by "Equipment malfunction."
  },
  OtherIncident with {
    briefly "Other"
    described by "Other incident type."
  }
} with {
  briefly "Incident type"
  described by "Category of incident."
}
