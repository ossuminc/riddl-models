// Store Operations - External Contexts

// HR Service - Employee scheduling
context HRService is {

  event ShiftScheduled is {
    shiftId is ShiftId with { briefly "Shift" described by "Scheduled shift." }
    employeeId is EmployeeId with { briefly "Employee" described by "Assigned employee." }
    storeId is StoreId with { briefly "Store" described by "Store location." }
    startTime is TimeStamp with { briefly "Start" described by "Shift start." }
    scheduledEndTime is TimeStamp with { briefly "End" described by "Shift end." }
    scheduledAt is TimeStamp with { briefly "Scheduled" described by "When scheduled." }
  } with {
    briefly "Shift was scheduled"
    described by "Emitted when a shift is scheduled."
  }

  event ShiftCancelled is {
    shiftId is ShiftId with { briefly "Shift" described by "Cancelled shift." }
    reason is String(1, 200) with { briefly "Reason" described by "Cancellation reason." }
    cancelledAt is TimeStamp with { briefly "Cancelled" described by "When cancelled." }
  } with {
    briefly "Shift was cancelled"
    described by "Emitted when a shift is cancelled."
  }

  event EmployeeTerminated is {
    employeeId is EmployeeId with { briefly "Employee" described by "Terminated employee." }
    terminatedAt is TimeStamp with { briefly "Terminated" described by "Termination date." }
  } with {
    briefly "Employee was terminated"
    described by "Emitted when employee leaves."
  }

} with {
  option is external
  briefly "External HR service"
  described by "External system for employee management."
}

// Security Service - Security monitoring
context SecurityService is {

  command NotifyStoreStatus is {
    storeId is StoreId with { briefly "Store" described by "Store ID." }
    status is StoreStatus with { briefly "Status" described by "Store status." }
    timestamp is TimeStamp with { briefly "Time" described by "Status change time." }
  } with {
    briefly "Notify of store status"
    described by "Sends store open/close status to security."
  }

  command ReportIncident is {
    storeId is StoreId with { briefly "Store" described by "Store location." }
    incident is IncidentReport with { briefly "Incident" described by "Incident details." }
  } with {
    briefly "Report incident to security"
    described by "Sends incident report to security team."
  }

  event SecurityAlertIssued is {
    storeId is StoreId with { briefly "Store" described by "Store location." }
    alertType is String(1, 100) with { briefly "Type" described by "Alert type." }
    issuedAt is TimeStamp with { briefly "Issued" described by "When issued." }
  } with {
    briefly "Security alert was issued"
    described by "Emitted when security issues an alert."
  }

} with {
  option is external
  briefly "External security service"
  described by "External system for security monitoring."
}

// Facilities Service - Maintenance and utilities
context FacilitiesService is {

  event MaintenanceRequired is {
    storeId is StoreId with { briefly "Store" described by "Store location." }
    issueType is String(1, 100) with { briefly "Issue" described by "Issue type." }
    description is String(1, 500) with { briefly "Description" described by "Issue details." }
    reportedAt is TimeStamp with { briefly "Reported" described by "Report time." }
  } with {
    briefly "Maintenance was required"
    described by "Emitted when maintenance issue is identified."
  }

  event MaintenanceCompleted is {
    storeId is StoreId with { briefly "Store" described by "Store location." }
    workOrderId is UUID with { briefly "Work order" described by "Work order ID." }
    completedAt is TimeStamp with { briefly "Completed" described by "Completion time." }
  } with {
    briefly "Maintenance was completed"
    described by "Emitted when maintenance is finished."
  }

} with {
  option is external
  briefly "External facilities service"
  described by "External system for building maintenance."
}

// Reporting Service - Management reporting
context ReportingService is {

  command GenerateDailyReport is {
    storeId is StoreId with { briefly "Store" described by "Store location." }
    date is Date with { briefly "Date" described by "Report date." }
  } with {
    briefly "Generate daily operations report"
    described by "Creates end-of-day operations report."
  }

  event ReportGenerated is {
    storeId is StoreId with { briefly "Store" described by "Store location." }
    reportType is String(1, 100) with { briefly "Type" described by "Report type." }
    reportUrl is URL with { briefly "URL" described by "Report location." }
    generatedAt is TimeStamp with { briefly "Generated" described by "Generation time." }
  } with {
    briefly "Report was generated"
    described by "Emitted when report is created."
  }

} with {
  option is external
  briefly "External reporting service"
  described by "External system for management reporting."
}
