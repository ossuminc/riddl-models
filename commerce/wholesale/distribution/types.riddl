// Distribution - Shared Types

type OrderId is Id(DistributionContext.DistributionOrder) with {
  briefly "Order identifier"
  described by "Unique identifier for a distribution order."
}

type CustomerId is UUID with {
  briefly "Customer identifier"
  described by "Reference to a wholesale customer."
}

type ProductId is UUID with {
  briefly "Product identifier"
  described by "Reference to a product."
}

type WarehouseId is UUID with {
  briefly "Warehouse identifier"
  described by "Reference to a warehouse."
}

type SKU is Pattern("^[A-Z0-9-]{6,20}$") with {
  briefly "Stock keeping unit"
  described by "Product SKU."
}

type Quantity is Natural with {
  briefly "Quantity"
  described by "Number of units."
}

type Money is {
  amount is Decimal(10, 2) with {
    briefly "Amount"
    described by "Monetary value."
  }
  currency is Currency(USD) with {
    briefly "Currency"
    described by "Currency code."
  }
} with {
  briefly "Monetary value"
  described by "Amount with currency."
}

type OrderLine is {
  lineNumber is Natural with {
    briefly "Line"
    described by "Line number."
  }
  productId is ProductId with {
    briefly "Product"
    described by "Product ID."
  }
  sku is SKU with {
    briefly "SKU"
    described by "Product SKU."
  }
  description is String(1, 200) with {
    briefly "Description"
    described by "Product description."
  }
  quantity is Quantity with {
    briefly "Quantity"
    described by "Ordered quantity."
  }
  unitPrice is Money with {
    briefly "Unit price"
    described by "Price per unit."
  }
  lineTotal is Money with {
    briefly "Total"
    described by "Line total."
  }
  allocatedWarehouse is optional WarehouseId with {
    briefly "Warehouse"
    described by "Fulfilling warehouse."
  }
} with {
  briefly "Order line item"
  described by "A single item in the distribution order."
}

type ShippingAddress is {
  name is String(1, 200) with {
    briefly "Name"
    described by "Business name."
  }
  line1 is String(1, 200) with {
    briefly "Line 1"
    described by "Street address."
  }
  line2 is optional String(1, 200) with {
    briefly "Line 2"
    described by "Suite, floor, etc."
  }
  city is String(1, 100) with {
    briefly "City"
    described by "City."
  }
  state is String(1, 100) with {
    briefly "State"
    described by "State or province."
  }
  postalCode is String(1, 20) with {
    briefly "Postal code"
    described by "ZIP or postal code."
  }
  country is String(2, 2) with {
    briefly "Country"
    described by "Country code."
  }
} with {
  briefly "Shipping address"
  described by "Delivery destination for the order."
}

type AllocationResult is {
  productId is ProductId with {
    briefly "Product"
    described by "Allocated product."
  }
  warehouseId is WarehouseId with {
    briefly "Warehouse"
    described by "Source warehouse."
  }
  quantity is Quantity with {
    briefly "Quantity"
    described by "Allocated quantity."
  }
  available is Boolean with {
    briefly "Available"
    described by "Whether fully available."
  }
} with {
  briefly "Allocation result"
  described by "Result of inventory allocation."
}

type ShipmentInfo is {
  shipmentId is UUID with {
    briefly "Shipment ID"
    described by "Shipment identifier."
  }
  carrier is String(1, 100) with {
    briefly "Carrier"
    described by "Shipping carrier."
  }
  trackingNumber is String(1, 100) with {
    briefly "Tracking"
    described by "Tracking number."
  }
  estimatedDelivery is Date with {
    briefly "ETA"
    described by "Estimated delivery."
  }
} with {
  briefly "Shipment information"
  described by "Details of a shipment."
}

type PricingTier is any of {
  StandardTier with {
    briefly "Standard"
    described by "Standard wholesale pricing."
  },
  VolumeTier with {
    briefly "Volume"
    described by "Volume discount pricing."
  },
  PreferredTier with {
    briefly "Preferred"
    described by "Preferred customer pricing."
  },
  ContractTier with {
    briefly "Contract"
    described by "Contract-specific pricing."
  }
} with {
  briefly "Pricing tier"
  described by "Customer pricing tier."
}
