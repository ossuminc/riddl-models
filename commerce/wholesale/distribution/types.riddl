// Distribution - Shared Types
type OrderId is Id(DistributionContext.DistributionOrder)  with {
  briefly "Order identifier"
  described as {
    |Unique identifier for a distribution order.
  }
}
type CustomerId is UUID with {
  briefly "Customer identifier"
  described as {
    |Reference to a wholesale customer.
  }
}
type ProductId is UUID with {
  briefly "Product identifier"
  described as {
    |Reference to a product.
  }
}
type WarehouseId is UUID with {
  briefly "Warehouse identifier"
  described as {
    |Reference to a warehouse.
  }
}
type SKU is Pattern("^[A-Z0-9-]{6,20}$") with {
  briefly "Stock keeping unit"
  described as {
    |Product SKU.
  }
}
type Quantity is Natural with {
  briefly "Quantity"
  described as {
    |Number of units.
  }
}
type Money is {
  amount: Decimal(10,2) with {
    briefly "Amount"
    described as {
      |Monetary value.
    }
  }
  currency: Currency(USD) with {
    briefly "Currency"
    described as {
      |Currency code.
    }
  }
} with {
  briefly "Monetary value"
  described as {
    |Amount with currency.
  }
}
type OrderLine is {
  lineNumber: Natural with {
    briefly "Line"
    described as {
      |Line number.
    }
  }
  productId: ProductId with {
    briefly "Product"
    described as {
      |Product ID.
    }
  }
  sku: SKU with {
    briefly "SKU"
    described as {
      |Product SKU.
    }
  }
  description: String(1,200) with {
    briefly "Description"
    described as {
      |Product description.
    }
  }
  quantity: Quantity with {
    briefly "Quantity"
    described as {
      |Ordered quantity.
    }
  }
  unitPrice: Money with {
    briefly "Unit price"
    described as {
      |Price per unit.
    }
  }
  lineTotal: Money with {
    briefly "Total"
    described as {
      |Line total.
    }
  }
  allocatedWarehouse: WarehouseId? with {
    briefly "Warehouse"
    described as {
      |Fulfilling warehouse.
    }
  }
} with {
  briefly "Order line item"
  described as {
    |A single item in the distribution order.
  }
}
type ShippingAddress is {
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Business name.
    }
  }
  line1: String(1,200) with {
    briefly "Line 1"
    described as {
      |Street address.
    }
  }
  line2: String(1,200)? with {
    briefly "Line 2"
    described as {
      |Suite, floor, etc.
    }
  }
  city: String(1,100) with {
    briefly "City"
    described as {
      |City.
    }
  }
  state: String(1,100) with {
    briefly "State"
    described as {
      |State or province.
    }
  }
  postalCode: String(1,20) with {
    briefly "Postal code"
    described as {
      |ZIP or postal code.
    }
  }
  country: String(2,2) with {
    briefly "Country"
    described as {
      |Country code.
    }
  }
} with {
  briefly "Shipping address"
  described as {
    |Delivery destination for the order.
  }
}
type AllocationResult is {
  productId: ProductId with {
    briefly "Product"
    described as {
      |Allocated product.
    }
  }
  warehouseId: WarehouseId with {
    briefly "Warehouse"
    described as {
      |Source warehouse.
    }
  }
  quantity: Quantity with {
    briefly "Quantity"
    described as {
      |Allocated quantity.
    }
  }
  available: Boolean with {
    briefly "Available"
    described as {
      |Whether fully available.
    }
  }
} with {
  briefly "Allocation result"
  described as {
    |Result of inventory allocation.
  }
}
type ShipmentInfo is {
  shipmentId: UUID with {
    briefly "Shipment ID"
    described as {
      |Shipment identifier.
    }
  }
  carrier: String(1,100) with {
    briefly "Carrier"
    described as {
      |Shipping carrier.
    }
  }
  trackingNumber: String(1,100) with {
    briefly "Tracking"
    described as {
      |Tracking number.
    }
  }
  estimatedDelivery: Date with {
    briefly "ETA"
    described as {
      |Estimated delivery.
    }
  }
} with {
  briefly "Shipment information"
  described as {
    |Details of a shipment.
  }
}
type PricingTier is any of {
  StandardTier,
  VolumeTier,
  PreferredTier,
  ContractTier
} with {
  briefly "Pricing tier"
  described as {
    |Customer pricing tier.
  }
}
