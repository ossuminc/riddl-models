// Trade Credit - Shared Types
type CreditAccountId is Id(CreditContext.CreditAccount)  with {
  briefly "Credit account identifier"
  described as {
    |Unique identifier for a credit account.
  }
}
type CustomerId is UUID with {
  briefly "Customer identifier"
  described as {
    |Reference to a customer.
  }
}
type InvoiceId is UUID with {
  briefly "Invoice identifier"
  described as {
    |Reference to an invoice.
  }
}
type Money is {
  amount: Decimal(10,2) with {
    briefly "Amount"
    described as {
      |Monetary value.
    }
  }
  currency: Currency(USD) with {
    briefly "Currency"
    described as {
      |Currency code.
    }
  }
} with {
  briefly "Monetary value"
  described as {
    |Amount with currency.
  }
}
type CreditTerms is {
  paymentDays: Natural with {
    briefly "Payment days"
    described as {
      |Days until payment due.
    }
  }
  discountDays: Natural? with {
    briefly "Discount days"
    described as {
      |Days to receive early payment discount.
    }
  }
  discountPercent: Decimal(5,2)? with {
    briefly "Discount %"
    described as {
      |Early payment discount percentage.
    }
  }
} with {
  briefly "Credit terms"
  described as {
    |Payment terms for credit account.
  }
}
type CreditLimit is {
  limitAmount: Money with {
    briefly "Amount"
    described as {
      |Maximum credit.
    }
  }
  approvedBy: String(1,100) with {
    briefly "Approved by"
    described as {
      |Who approved.
    }
  }
  approvedAt: TimeStamp with {
    briefly "Approved at"
    described as {
      |When approved.
    }
  }
} with {
  briefly "Credit limit"
  described as {
    |Maximum credit extended to customer.
  }
}
type CreditBalance is {
  totalOwed: Money with {
    briefly "Total owed"
    described as {
      |Total outstanding balance.
    }
  }
  currentBalance: Money with {
    briefly "Current"
    described as {
      |Current (not past due) balance.
    }
  }
  pastDueBalance: Money with {
    briefly "Past due"
    described as {
      |Past due balance.
    }
  }
  availableCredit: Money with {
    briefly "Available"
    described as {
      |Remaining credit available.
    }
  }
} with {
  briefly "Credit balance"
  described as {
    |Current credit balance summary.
  }
}
type Invoice is {
  invoiceId: InvoiceId with {
    briefly "Invoice ID"
    described as {
      |Invoice identifier.
    }
  }
  invoiceNumber: String(1,50) with {
    briefly "Number"
    described as {
      |Invoice number.
    }
  }
  invoiceDate: Date with {
    briefly "Date"
    described as {
      |Invoice date.
    }
  }
  dueDate: Date with {
    briefly "Due"
    described as {
      |Payment due date.
    }
  }
  invoiceAmount: Money with {
    briefly "Amount"
    described as {
      |Invoice amount.
    }
  }
  amountPaid: Money with {
    briefly "Paid"
    described as {
      |Amount paid.
    }
  }
  status: InvoiceStatus with {
    briefly "Status"
    described as {
      |Invoice status.
    }
  }
} with {
  briefly "Invoice"
  described as {
    |A credit invoice.
  }
}
type InvoiceStatus is any of {
  OpenInvoice,
  PartiallyPaidInvoice,
  PaidInvoice,
  PastDueInvoice,
  WrittenOffInvoice
} with {
  briefly "Invoice status"
  described as {
    |Current status of an invoice.
  }
}
type Payment is {
  paymentId: UUID with {
    briefly "Payment ID"
    described as {
      |Payment identifier.
    }
  }
  paymentAmount: Money with {
    briefly "Amount"
    described as {
      |Payment amount.
    }
  }
  paymentDate: Date with {
    briefly "Date"
    described as {
      |Payment date.
    }
  }
  paymentMethod: String(1,50) with {
    briefly "Method"
    described as {
      |Payment method.
    }
  }
  reference: String(1,100)? with {
    briefly "Reference"
    described as {
      |Check number or reference.
    }
  }
} with {
  briefly "Payment"
  described as {
    |A payment on account.
  }
}
type CreditRisk is any of {
  LowRisk,
  MediumRisk,
  HighRisk,
  UnderReview
} with {
  briefly "Credit risk level"
  described as {
    |Customer credit risk assessment.
  }
}
type CollectionAction is {
  actionType: String(1,50) with {
    briefly "Type"
    described as {
      |Action type.
    }
  }
  note: String(1,1000) with {
    briefly "Note"
    described as {
      |Action notes.
    }
  }
  performedBy: String(1,100) with {
    briefly "Performed by"
    described as {
      |Who took action.
    }
  }
  performedAt: TimeStamp with {
    briefly "Performed at"
    described as {
      |When action taken.
    }
  }
  nextFollowUp: Date? with {
    briefly "Follow up"
    described as {
      |Next follow-up date.
    }
  }
} with {
  briefly "Collection action"
  described as {
    |A collections activity on the account.
  }
}
