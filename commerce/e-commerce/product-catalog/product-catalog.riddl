// Product Catalog Domain
// Manages product listings, categories, and merchandising

domain ProductCatalog is {

  author Ossum is {
    name is "Ossum Inc."
    email is "info@ossum.com"
  } with {
    briefly "Domain author"
    described by "The organization responsible for this domain model."
  }

  // Users
  user ProductManager is "manages product listings and pricing" with {
    briefly "Product manager"
    described by "Staff member responsible for product catalog management."
  }

  user Merchandiser is "configures categories and promotions" with {
    briefly "Merchandiser"
    described by "Staff member who organizes products and creates promotional content."
  }

  user Customer is "browses and searches products" with {
    briefly "Customer"
    described by "End user browsing the product catalog."
  }

  // Include the bounded context
  include "CatalogContext.riddl"
  include "external-contexts.riddl"

  // Epics
  epic CreateProductEpic is {
    user ProductManager wants "to add a new product to the catalog"
      so that "customers can discover and purchase it"

    case HappyPath is {
      user ProductManager wants "to create a product with complete information"
        so that "it can be published immediately"
      step is "Product Manager enters product details" "including name, description, and attributes" "in the catalog system"
        with { briefly "Enter details" described by "Manager enters product information." }
      step is "System validates product information" "checking for required fields" "and data quality"
        with { briefly "Validate info" described by "System checks product data quality." }
      step send command CreateProduct from user ProductManager to entity Product
        with { briefly "Create product" described by "Send create command to product entity." }
      step is "System assigns SKU and categories" "based on product attributes" "for organization"
        with { briefly "Assign SKU" described by "System assigns SKU and categories." }
      step is "Product Manager sets pricing" "for different customer tiers" "and regions"
        with { briefly "Set pricing" described by "Manager configures product pricing." }
      step send command PublishProduct from user ProductManager to entity Product
        with { briefly "Publish product" described by "Send publish command to product entity." }
    } with {
      briefly "Create and publish a new product"
      described by "The standard workflow for adding a new product to the catalog."
    }
  } with {
    briefly "Add products to catalog"
    described by {
      | Epic covering the product creation workflow from initial entry
      | through categorization, pricing, and publication.
    }
  }

  epic SearchProductsEpic is {
    user Customer wants "to find products matching their needs"
      so that "they can make informed purchase decisions"

    case BrowseByCategory is {
      user Customer wants "to browse products in a category"
        so that "they can explore available options"
      step is "Customer selects a category" "from the navigation menu" "to browse"
        with { briefly "Select category" described by "Customer chooses a category to browse." }
      step is "System displays products in category" "with filters and sorting options" "for discovery"
        with { briefly "Display products" described by "System shows products with filtering options." }
      step is "Customer applies filters" "to narrow down results" "by attributes"
        with { briefly "Apply filters" described by "Customer narrows results using filters." }
      step is "System refines product list" "based on selected criteria" "for relevance"
        with { briefly "Refine results" described by "System updates product list based on filters." }
    } with {
      briefly "Browse products by category"
      described by "Customer navigation through product categories."
    }
  } with {
    briefly "Product discovery and search"
    described by {
      | Epic covering customer product discovery through browsing,
      | searching, and filtering the product catalog.
    }
  }

} with {
  briefly "Product catalog management domain"
  described by {
    | The Product Catalog domain manages product information, categorization,
    | pricing, and merchandising for e-commerce operations. It provides
    | product discovery capabilities for customers and management tools
    | for merchandising staff.
  }
}
