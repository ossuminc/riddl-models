// Media Buying - Shared Types
type MediaOrderId is Id(MediaBuyingContext.MediaOrder)  with {
  briefly "Media order identifier"
  described as {
    |Unique identifier for a media order.
  }
}
type CampaignId is UUID with {
  briefly "Campaign identifier"
  described as {
    |Reference to an advertising campaign.
  }
}
type VendorId is UUID with {
  briefly "Vendor identifier"
  described as {
    |Reference to a media vendor.
  }
}
type InsertionOrderId is UUID with {
  briefly "Insertion order identifier"
  described as {
    |Reference to an insertion order document.
  }
}
type OrderStatus is any of {
  Drafted,
  Submitted,
  Negotiating,
  Approved,
  Booked,
  Running,
  Completed,
  Cancelled
} with {
  briefly "Order status"
  described as {
    |Media order lifecycle status.
  }
}
type ChannelType is any of {
  Television,
  Radio,
  Digital,
  Print,
  OutOfHome,
  Social,
  Programmatic
} with {
  briefly "Channel type"
  described as {
    |Advertising media channel type.
  }
}
type BuyType is any of {
  DirectBuy,
  Programmatic,
  SpotBuy,
  Upfront,
  Scatter,
  Sponsorship
} with {
  briefly "Buy type"
  described as {
    |Type of media purchase arrangement.
  }
}
type MediaOrderInfo is {
  orderId: MediaOrderId with {
    briefly "Order ID"
    described as {
      |Media order identifier.
    }
  }
  campaignId: CampaignId with {
    briefly "Campaign"
    described as {
      |Associated campaign.
    }
  }
  vendorId: VendorId with {
    briefly "Vendor"
    described as {
      |Media vendor.
    }
  }
  channelType: ChannelType with {
    briefly "Channel"
    described as {
      |Media channel.
    }
  }
  buyType: BuyType with {
    briefly "Buy type"
    described as {
      |Purchase arrangement type.
    }
  }
  flightStartDate: Date with {
    briefly "Start date"
    described as {
      |Campaign flight start date.
    }
  }
  flightEndDate: Date with {
    briefly "End date"
    described as {
      |Campaign flight end date.
    }
  }
} with {
  briefly "Media order info"
  described as {
    |Core media order details.
  }
}
type PlacementSpec is {
  placementId: UUID with {
    briefly "Placement ID"
    described as {
      |Placement identifier.
    }
  }
  placementName: String(3,200) with {
    briefly "Name"
    described as {
      |Placement name or description.
    }
  }
  channelType: ChannelType with {
    briefly "Channel"
    described as {
      |Media channel.
    }
  }
  targetAudience: String(3,300) with {
    briefly "Audience"
    described as {
      |Target audience description.
    }
  }
  impressions: Natural with {
    briefly "Impressions"
    described as {
      |Planned impression count.
    }
  }
  rateAmount: Decimal(10,2) with {
    briefly "Rate"
    described as {
      |Negotiated rate amount.
    }
  }
  rateType: String(3,50) with {
    briefly "Rate type"
    described as {
      |Rate type such as CPM, CPC, or flat.
    }
  }
} with {
  briefly "Placement specification"
  described as {
    |Individual ad placement details within an order.
  }
}
type InsertionOrder is {
  insertionOrderId: InsertionOrderId with {
    briefly "IO ID"
    described as {
      |Insertion order identifier.
    }
  }
  vendorId: VendorId with {
    briefly "Vendor"
    described as {
      |Media vendor.
    }
  }
  totalBudget: Decimal(12,2) with {
    briefly "Budget"
    described as {
      |Total insertion order budget.
    }
  }
  placements: PlacementSpec+ with {
    briefly "Placements"
    described as {
      |Ad placements in this IO.
    }
  }
  terms: String(3,2000) with {
    briefly "Terms"
    described as {
      |Contract terms and conditions.
    }
  }
  signedAt: TimeStamp? with {
    briefly "Signed"
    described as {
      |Signature timestamp.
    }
  }
} with {
  briefly "Insertion order"
  described as {
    |Formal agreement with vendor for ad placements.
  }
}
type SpendRecord is {
  periodStart: Date with {
    briefly "Period start"
    described as {
      |Spend period start date.
    }
  }
  periodEnd: Date with {
    briefly "Period end"
    described as {
      |Spend period end date.
    }
  }
  plannedSpend: Decimal(12,2) with {
    briefly "Planned"
    described as {
      |Planned spend amount.
    }
  }
  actualSpend: Decimal(12,2) with {
    briefly "Actual"
    described as {
      |Actual spend amount.
    }
  }
  impressionsDelivered: Natural with {
    briefly "Impressions"
    described as {
      |Impressions delivered in period.
    }
  }
} with {
  briefly "Spend record"
  described as {
    |Media spend for a billing period.
  }
}
type PerformanceMetric is {
  metricName: String(3,100) with {
    briefly "Metric"
    described as {
      |Metric name such as CTR or ROAS.
    }
  }
  metricValue: Decimal(12,4) with {
    briefly "Value"
    described as {
      |Metric value.
    }
  }
  measuredAt: TimeStamp with {
    briefly "Measured"
    described as {
      |Measurement timestamp.
    }
  }
} with {
  briefly "Performance metric"
  described as {
    |Campaign performance measurement.
  }
}
