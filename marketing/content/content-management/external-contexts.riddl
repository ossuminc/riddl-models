// Content Management - External Contexts

context CMS is {

  command PublishToCMS is {
    contentId is ContentId with { briefly "Content" described by "Content ID." }
    body is ContentBody with { briefly "Body" described by "Content body." }
    seo is SEOMetadata with { briefly "SEO" described by "SEO metadata." }
    settings is PublishSettings with { briefly "Settings" described by "Publish settings." }
  } with {
    briefly "Publish to CMS"
    described by "Publishes to content management system."
  }

  event CMSPublished is {
    contentId is ContentId with { briefly "Content" described by "Content ID." }
    publishUrl is URL with { briefly "URL" described by "Published URL." }
    cmsId is String(1, 100) with { briefly "CMS ID" described by "CMS record ID." }
    publishedAt is TimeStamp with { briefly "Published" described by "Publish time." }
  } with {
    briefly "CMS published"
    described by "Emitted when published to CMS."
  }

  command UpdateCMSContent is {
    contentId is ContentId with { briefly "Content" described by "Content ID." }
    body is ContentBody with { briefly "Body" described by "Updated content." }
  } with {
    briefly "Update CMS content"
    described by "Updates existing CMS content."
  }

  event CMSContentUpdated is {
    contentId is ContentId with { briefly "Content" described by "Content ID." }
    updatedAt is TimeStamp with { briefly "Updated" described by "Update time." }
  } with {
    briefly "CMS content updated"
    described by "Emitted when CMS content updated."
  }

} with {
  option is external
  briefly "External CMS"
  described by "Content management system."
}

context SEOAnalysis is {

  command AnalyzeSEO is {
    content is ContentBody with { briefly "Content" described by "Content to analyze." }
    focusKeyword is String(1, 100) with { briefly "Keyword" described by "Focus keyword." }
    url is optional URL with { briefly "URL" described by "Target URL." }
  } with {
    briefly "Analyze SEO"
    described by "Analyzes content for SEO."
  }

  event SEOAnalyzed is {
    score is Natural with { briefly "Score" described by "SEO score 0-100." }
    issues is many optional String(1, 500) with { briefly "Issues" described by "SEO issues." }
    suggestions is many optional String(1, 500) with { briefly "Suggestions" described by "Improvements." }
    readabilityScore is Natural with { briefly "Readability" described by "Readability score." }
  } with {
    briefly "SEO analyzed"
    described by "Emitted when analysis complete."
  }

} with {
  option is external
  briefly "External SEO analysis"
  described by "SEO analysis service."
}

context PlagiarismChecker is {

  command CheckPlagiarism is {
    contentId is ContentId with { briefly "Content" described by "Content ID." }
    text is String(1, 500000) with { briefly "Text" described by "Content text." }
  } with {
    briefly "Check plagiarism"
    described by "Checks for duplicate content."
  }

  event PlagiarismChecked is {
    contentId is ContentId with { briefly "Content" described by "Content ID." }
    originalityScore is Natural with { briefly "Score" described by "Originality 0-100." }
    matches is many optional String(1, 500) with { briefly "Matches" described by "Matched sources." }
    isPassed is Boolean with { briefly "Passed" described by "Passes threshold." }
  } with {
    briefly "Plagiarism checked"
    described by "Emitted when check complete."
  }

} with {
  option is external
  briefly "External plagiarism checker"
  described by "Content originality service."
}

context DAM is {

  command UploadAsset is {
    fileName is String(1, 255) with { briefly "File" described by "File name." }
    contentType is String(1, 100) with { briefly "Type" described by "MIME type." }
    data is String(1, 100000000) with { briefly "Data" described by "Base64 data." }
    tags is many optional String(1, 50) with { briefly "Tags" described by "Asset tags." }
  } with {
    briefly "Upload asset"
    described by "Uploads to digital asset manager."
  }

  event AssetUploaded is {
    assetId is UUID with { briefly "Asset" described by "Asset ID." }
    url is URL with { briefly "URL" described by "Asset URL." }
    thumbnailUrl is optional URL with { briefly "Thumbnail" described by "Thumbnail URL." }
    uploadedAt is TimeStamp with { briefly "Uploaded" described by "Upload time." }
  } with {
    briefly "Asset uploaded"
    described by "Emitted when upload complete."
  }

  command SearchAssets is {
    query is String(1, 200) with { briefly "Query" described by "Search query." }
    mediaType is optional String(1, 50) with { briefly "Type" described by "Media type filter." }
  } with {
    briefly "Search assets"
    described by "Searches digital assets."
  }

  event AssetsFound is {
    results is many MediaAttachment with { briefly "Results" described by "Search results." }
    totalCount is Natural with { briefly "Count" described by "Total matches." }
  } with {
    briefly "Assets found"
    described by "Emitted when search complete."
  }

} with {
  option is external
  briefly "External DAM"
  described by "Digital asset management."
}

context Analytics is {

  command FetchContentMetrics is {
    contentId is ContentId with { briefly "Content" described by "Content ID." }
    publishUrl is URL with { briefly "URL" described by "Published URL." }
    dateRange is String(1, 50) with { briefly "Range" described by "Date range." }
  } with {
    briefly "Fetch content metrics"
    described by "Gets performance data."
  }

  event ContentMetricsFetched is {
    contentId is ContentId with { briefly "Content" described by "Content ID." }
    metrics is ContentMetrics with { briefly "Metrics" described by "Performance metrics." }
    fetchedAt is TimeStamp with { briefly "Fetched" described by "Fetch time." }
  } with {
    briefly "Content metrics fetched"
    described by "Emitted when metrics available."
  }

} with {
  option is external
  briefly "External analytics"
  described by "Web analytics service."
}
