// Marketing Analytics - Shared Types
type AnalyticsReportId is Id(AnalyticsContext.AnalyticsReport)  with {
  briefly "Report identifier"
  described as {
    |Unique identifier for an analytics report.
  }
}
type CampaignId is UUID with {
  briefly "Campaign identifier"
  described as {
    |Reference to a marketing campaign.
  }
}
type ChannelId is UUID with {
  briefly "Channel identifier"
  described as {
    |Reference to a marketing channel.
  }
}
type AttributionModelType is any of {
  LastTouch,
  FirstTouch,
  Linear,
  TimeDecay,
  PositionBased,
  DataDriven
} with {
  briefly "Attribution model"
  described as {
    |Attribution model type.
  }
}
type ChannelType is any of {
  PaidSearch,
  OrganicSearch,
  SocialMedia,
  Email,
  Display,
  Affiliate,
  DirectMail,
  Television,
  Radio,
  Referral,
  Direct
} with {
  briefly "Channel type"
  described as {
    |Marketing channel type.
  }
}
type MetricPeriod is any of {
  Daily,
  Weekly,
  Monthly,
  Quarterly,
  Yearly
} with {
  briefly "Metric period"
  described as {
    |Time period for metrics.
  }
}
type ReportStatus is any of {
  Draft,
  Generating,
  Ready,
  Archived,
  Failed
} with {
  briefly "Report status"
  described as {
    |Analytics report status.
  }
}
type ChannelMetrics is {
  channelType: ChannelType with {
    briefly "Channel"
    described as {
      |Channel type.
    }
  }
  impressions: Natural with {
    briefly "Impressions"
    described as {
      |Total impressions.
    }
  }
  clicks: Natural with {
    briefly "Clicks"
    described as {
      |Total clicks.
    }
  }
  conversions: Natural with {
    briefly "Conversions"
    described as {
      |Total conversions.
    }
  }
  spend: Decimal(12,2) with {
    briefly "Spend"
    described as {
      |Total spend.
    }
  }
  revenue: Decimal(12,2) with {
    briefly "Revenue"
    described as {
      |Attributed revenue.
    }
  }
  ctr: Decimal(6,4) with {
    briefly "CTR"
    described as {
      |Click-through rate.
    }
  }
  conversionRate: Decimal(6,4) with {
    briefly "Conv rate"
    described as {
      |Conversion rate.
    }
  }
  cpa: Decimal(10,2) with {
    briefly "CPA"
    described as {
      |Cost per acquisition.
    }
  }
  roas: Decimal(8,2) with {
    briefly "ROAS"
    described as {
      |Return on ad spend.
    }
  }
} with {
  briefly "Channel metrics"
  described as {
    |Marketing metrics by channel.
  }
}
type CampaignPerformance is {
  campaignId: CampaignId with {
    briefly "Campaign"
    described as {
      |Campaign ID.
    }
  }
  campaignName: String(1,200) with {
    briefly "Name"
    described as {
      |Campaign name.
    }
  }
  startDate: Date with {
    briefly "Start"
    described as {
      |Campaign start.
    }
  }
  campaignEndDate: Date? with {
    briefly "End"
    described as {
      |Campaign end.
    }
  }
  totalSpend: Decimal(12,2) with {
    briefly "Spend"
    described as {
      |Total spend.
    }
  }
  totalRevenue: Decimal(12,2) with {
    briefly "Revenue"
    described as {
      |Total revenue.
    }
  }
  totalConversions: Natural with {
    briefly "Conversions"
    described as {
      |Total conversions.
    }
  }
  roi: Decimal(8,4) with {
    briefly "ROI"
    described as {
      |Return on investment.
    }
  }
} with {
  briefly "Campaign performance"
  described as {
    |Campaign performance summary.
  }
}
type ConversionPath is {
  conversionId: UUID with {
    briefly "Conversion"
    described as {
      |Conversion ID.
    }
  }
  touchpoints: String(1,100)+ with {
    briefly "Touchpoints"
    described as {
      |Channel touchpoints.
    }
  }
  conversionValue: Decimal(10,2) with {
    briefly "Value"
    described as {
      |Conversion value.
    }
  }
  conversionDate: TimeStamp with {
    briefly "Date"
    described as {
      |Conversion time.
    }
  }
  pathLength: Natural with {
    briefly "Path length"
    described as {
      |Number of touchpoints.
    }
  }
  timeToConversion: Natural with {
    briefly "Time"
    described as {
      |Hours to conversion.
    }
  }
} with {
  briefly "Conversion path"
  described as {
    |Customer journey to conversion.
  }
}
type AttributionResult is {
  channelType: ChannelType with {
    briefly "Channel"
    described as {
      |Channel type.
    }
  }
  attributedConversions: Decimal(10,2) with {
    briefly "Conversions"
    described as {
      |Attributed conversions.
    }
  }
  attributedRevenue: Decimal(12,2) with {
    briefly "Revenue"
    described as {
      |Attributed revenue.
    }
  }
  contributionPercent: Decimal(5,2) with {
    briefly "Contribution"
    described as {
      |Percent contribution.
    }
  }
} with {
  briefly "Attribution result"
  described as {
    |Channel attribution results.
  }
}
type ReportParameters is {
  startDate: Date with {
    briefly "Start"
    described as {
      |Report start date.
    }
  }
  endDate: Date with {
    briefly "End"
    described as {
      |Report end date.
    }
  }
  period: MetricPeriod with {
    briefly "Period"
    described as {
      |Reporting period.
    }
  }
  attributionModel: AttributionModelType with {
    briefly "Attribution"
    described as {
      |Attribution model.
    }
  }
  channels: ChannelType* with {
    briefly "Channels"
    described as {
      |Included channels.
    }
  }
  campaigns: CampaignId* with {
    briefly "Campaigns"
    described as {
      |Included campaigns.
    }
  }
} with {
  briefly "Report parameters"
  described as {
    |Analytics report parameters.
  }
}
