// Audience Management - Shared Types
type SegmentId is Id(AudienceContext.AudienceSegment)  with {
  briefly "Segment identifier"
  described as {
    |Unique identifier for an audience segment.
  }
}
type AudienceId is UUID with {
  briefly "Audience member identifier"
  described as {
    |Reference to an individual audience member.
  }
}
type PersonaId is UUID with {
  briefly "Persona identifier"
  described as {
    |Reference to a marketing persona.
  }
}
type CampaignId is UUID with {
  briefly "Campaign identifier"
  described as {
    |Reference to a marketing campaign.
  }
}
type ChannelId is UUID with {
  briefly "Channel identifier"
  described as {
    |Reference to a marketing channel.
  }
}
type SegmentStatus is any of {
  Draft,
  Building,
  Active,
  Paused,
  Archived,
  Failed
} with {
  briefly "Segment status"
  described as {
    |Audience segment lifecycle status.
  }
}
type SegmentType is any of {
  Demographic,
  Behavioral,
  Psychographic,
  Geographic,
  Firmographic,
  Lookalike,
  Custom
} with {
  briefly "Segment type"
  described as {
    |Classification of audience segment.
  }
}
type ActivationChannel is any of {
  Email,
  Display,
  Social,
  Search,
  Programmatic,
  DirectMail,
  PushNotification
} with {
  briefly "Activation channel"
  described as {
    |Marketing channel for audience activation.
  }
}
type MatchOperator is any of {
  Equals,
  NotEquals,
  GreaterThan,
  LessThan,
  Contains,
  NotContains,
  Between,
  InList
} with {
  briefly "Match operator"
  described as {
    |Comparison operator for segment criteria.
  }
}
type CriterionRule is {
  fieldName: String(3,200) with {
    briefly "Field"
    described as {
      |Data field to evaluate.
    }
  }
  operator: MatchOperator with {
    briefly "Operator"
    described as {
      |Comparison operator.
    }
  }
  fieldValue: String(1,500) with {
    briefly "Value"
    described as {
      |Value to match against.
    }
  }
} with {
  briefly "Criterion rule"
  described as {
    |Single rule within a segmentation criterion.
  }
}
type SegmentCriteria is {
  criteriaName: String(3,200) with {
    briefly "Name"
    described as {
      |Criteria group name.
    }
  }
  rules: CriterionRule+ with {
    briefly "Rules"
    described as {
      |Rules in this criteria group.
    }
  }
  matchAll: Boolean with {
    briefly "Match all"
    described as {
      |True if all rules must match (AND), false for any (OR).
    }
  }
} with {
  briefly "Segment criteria"
  described as {
    |Group of rules defining segment membership.
  }
}
type PersonaProfile is {
  personaId: PersonaId with {
    briefly "Persona ID"
    described as {
      |Persona identifier.
    }
  }
  personaName: String(3,200) with {
    briefly "Name"
    described as {
      |Persona name.
    }
  }
  ageRange: String(3,50) with {
    briefly "Age range"
    described as {
      |Target age range.
    }
  }
  interests: String(3,200)+ with {
    briefly "Interests"
    described as {
      |Key interests.
    }
  }
  behaviors: String(3,200)+ with {
    briefly "Behaviors"
    described as {
      |Behavioral traits.
    }
  }
  preferredChannels: ActivationChannel+ with {
    briefly "Channels"
    described as {
      |Preferred marketing channels.
    }
  }
} with {
  briefly "Persona profile"
  described as {
    |Marketing persona characteristics.
  }
}
type AudienceMember is {
  memberId: AudienceId with {
    briefly "Member ID"
    described as {
      |Audience member identifier.
    }
  }
  memberEmail: String(3,300)? with {
    briefly "Email"
    described as {
      |Member email address.
    }
  }
  attributes: String(3,500)+ with {
    briefly "Attributes"
    described as {
      |Member attribute values.
    }
  }
  matchScore: Decimal(5,2) with {
    briefly "Score"
    described as {
      |Segment match score.
    }
  }
  addedAt: TimeStamp with {
    briefly "Added"
    described as {
      |When member was added to segment.
    }
  }
} with {
  briefly "Audience member"
  described as {
    |Individual member of an audience segment.
  }
}
type ActivationRecord is {
  channelType: ActivationChannel with {
    briefly "Channel"
    described as {
      |Activation channel.
    }
  }
  campaignId: CampaignId with {
    briefly "Campaign"
    described as {
      |Target campaign.
    }
  }
  activatedAt: TimeStamp with {
    briefly "Activated"
    described as {
      |Activation time.
    }
  }
  memberCount: Natural with {
    briefly "Members"
    described as {
      |Members pushed to channel.
    }
  }
  syncStatus: String(3,50) with {
    briefly "Status"
    described as {
      |Sync status with channel.
    }
  }
} with {
  briefly "Activation record"
  described as {
    |Record of audience activation to a channel.
  }
}
type LookalikeConfig is {
  sourceSegmentId: SegmentId with {
    briefly "Source"
    described as {
      |Seed segment identifier.
    }
  }
  similarityThreshold: Decimal(3,2) with {
    briefly "Threshold"
    described as {
      |Minimum similarity score (0-1).
    }
  }
  expansionFactor: Natural with {
    briefly "Expansion"
    described as {
      |Target audience size multiplier.
    }
  }
  modelVersion: String(3,50) with {
    briefly "Model"
    described as {
      |Lookalike model version.
    }
  }
} with {
  briefly "Lookalike configuration"
  described as {
    |Configuration for lookalike audience modeling.
  }
}
