// Compliance Reporting - Shared Types
type ReportId is Id(ReportContext.Report)  with {
  briefly "Report identifier"
  described as {
    |Unique identifier for a compliance report.
  }
}
type OrganizationId is UUID with {
  briefly "Organization identifier"
  described as {
    |Reference to reporting organization.
  }
}
type RegulatoryAgencyId is UUID with {
  briefly "Agency identifier"
  described as {
    |Reference to regulatory agency.
  }
}
type RequirementId is UUID with {
  briefly "Requirement identifier"
  described as {
    |Reference to a compliance requirement.
  }
}
type FilingId is UUID with {
  briefly "Filing identifier"
  described as {
    |Reference to a filing.
  }
}
type AuditId is UUID with {
  briefly "Audit identifier"
  described as {
    |Reference to an audit.
  }
}
type ReportStatus is any of {
  Draft,
  InReview,
  Submitted,
  Acknowledged,
  Accepted,
  Rejected,
  RequiresAmendment
} with {
  briefly "Report status"
  described as {
    |Current report status.
  }
}
type ReportType is any of {
  Annual,
  Quarterly,
  Monthly,
  AdHoc,
  Incident,
  Audit
} with {
  briefly "Report type"
  described as {
    |Type of compliance report.
  }
}
type ComplianceStatus is any of {
  Compliant,
  NonCompliant,
  PartiallyCompliant,
  UnderReview,
  Exempt
} with {
  briefly "Compliance status"
  described as {
    |Compliance determination status.
  }
}
type SeverityLevel is any of {
  Critical,
  Major,
  Minor,
  Observation
} with {
  briefly "Severity level"
  described as {
    |Finding severity.
  }
}
type OrganizationInfo is {
  organizationId: OrganizationId with {
    briefly "Organization"
    described as {
      |Organization identifier.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Organization name.
    }
  }
  registrationNumber: String(1,50) with {
    briefly "Registration"
    described as {
      |Registration number.
    }
  }
  industry: String(1,100) with {
    briefly "Industry"
    described as {
      |Industry sector.
    }
  }
  jurisdiction: String(1,100) with {
    briefly "Jurisdiction"
    described as {
      |Regulatory jurisdiction.
    }
  }
} with {
  briefly "Organization info"
  described as {
    |Reporting organization details.
  }
}
type RegulatoryAgency is {
  agencyId: RegulatoryAgencyId with {
    briefly "Agency"
    described as {
      |Agency identifier.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Agency name.
    }
  }
  jurisdiction: String(1,100) with {
    briefly "Jurisdiction"
    described as {
      |Agency jurisdiction.
    }
  }
  contactEmail: String(5,254) with {
    briefly "Email"
    described as {
      |Contact email.
    }
  }
  submissionPortal: URL? with {
    briefly "Portal"
    described as {
      |Submission portal URL.
    }
  }
} with {
  briefly "Regulatory agency"
  described as {
    |Regulatory agency information.
  }
}
type ComplianceRequirement is {
  requirementId: RequirementId with {
    briefly "Requirement"
    described as {
      |Requirement identifier.
    }
  }
  regulationCode: String(1,50) with {
    briefly "Code"
    described as {
      |Regulation code.
    }
  }
  title: String(1,200) with {
    briefly "Title"
    described as {
      |Requirement title.
    }
  }
  description: String(1,2000) with {
    briefly "Description"
    described as {
      |Requirement description.
    }
  }
  agency: RegulatoryAgency with {
    briefly "Agency"
    described as {
      |Governing agency.
    }
  }
  frequency: ReportType with {
    briefly "Frequency"
    described as {
      |Reporting frequency.
    }
  }
  dueDate: Date? with {
    briefly "Due"
    described as {
      |Next due date.
    }
  }
} with {
  briefly "Compliance requirement"
  described as {
    |Regulatory requirement details.
  }
}
type ReportPeriod is {
  startDate: Date with {
    briefly "Start"
    described as {
      |Period start date.
    }
  }
  endDate: Date with {
    briefly "End"
    described as {
      |Period end date.
    }
  }
  fiscalYear: Natural with {
    briefly "Fiscal year"
    described as {
      |Fiscal year.
    }
  }
  quarter: Natural? with {
    briefly "Quarter"
    described as {
      |Quarter if applicable.
    }
  }
} with {
  briefly "Report period"
  described as {
    |Reporting period.
  }
}
type ReportSection is {
  sectionNumber: String(1,20) with {
    briefly "Section"
    described as {
      |Section number.
    }
  }
  title: String(1,200) with {
    briefly "Title"
    described as {
      |Section title.
    }
  }
  content: String(1,50000) with {
    briefly "Content"
    described as {
      |Section content.
    }
  }
  attachments: URL* with {
    briefly "Attachments"
    described as {
      |Section attachments.
    }
  }
} with {
  briefly "Report section"
  described as {
    |Report section content.
  }
}
type ComplianceFinding is {
  findingId: UUID with {
    briefly "Finding"
    described as {
      |Finding identifier.
    }
  }
  requirementId: RequirementId with {
    briefly "Requirement"
    described as {
      |Related requirement.
    }
  }
  description: String(1,2000) with {
    briefly "Description"
    described as {
      |Finding description.
    }
  }
  severity: SeverityLevel with {
    briefly "Severity"
    described as {
      |Finding severity.
    }
  }
  complianceStatus: ComplianceStatus with {
    briefly "Status"
    described as {
      |Compliance status.
    }
  }
  remediationPlan: String(1,5000)? with {
    briefly "Remediation"
    described as {
      |Remediation plan.
    }
  }
  dueDate: Date? with {
    briefly "Due"
    described as {
      |Remediation due date.
    }
  }
} with {
  briefly "Compliance finding"
  described as {
    |Audit or review finding.
  }
}
type SubmissionReceipt is {
  filingId: FilingId with {
    briefly "Filing"
    described as {
      |Filing identifier.
    }
  }
  confirmationNumber: String(1,50) with {
    briefly "Confirmation"
    described as {
      |Confirmation number.
    }
  }
  submittedAt: TimeStamp with {
    briefly "Submitted"
    described as {
      |Submission time.
    }
  }
  receivedBy: String(1,200) with {
    briefly "Received by"
    described as {
      |Receiving party.
    }
  }
  acknowledgedAt: TimeStamp? with {
    briefly "Acknowledged"
    described as {
      |Acknowledgment time.
    }
  }
} with {
  briefly "Submission receipt"
  described as {
    |Filing submission receipt.
  }
}
type AmendmentInfo is {
  originalReportId: ReportId with {
    briefly "Original"
    described as {
      |Original report ID.
    }
  }
  reason: String(1,1000) with {
    briefly "Reason"
    described as {
      |Amendment reason.
    }
  }
  changedSections: String(1,20)+ with {
    briefly "Changed"
    described as {
      |Changed section numbers.
    }
  }
  amendedAt: TimeStamp with {
    briefly "Amended"
    described as {
      |Amendment time.
    }
  }
} with {
  briefly "Amendment info"
  described as {
    |Report amendment details.
  }
}
type AuditInfo is {
  auditId: AuditId with {
    briefly "Audit"
    described as {
      |Audit identifier.
    }
  }
  auditType: String(1,50) with {
    briefly "Type"
    described as {
      |Audit type.
    }
  }
  auditor: String(1,200) with {
    briefly "Auditor"
    described as {
      |Auditor name.
    }
  }
  scheduledDate: Date with {
    briefly "Scheduled"
    described as {
      |Scheduled date.
    }
  }
  completedDate: Date? with {
    briefly "Completed"
    described as {
      |Completion date.
    }
  }
  auditFindings: ComplianceFinding* with {
    briefly "Findings"
    described as {
      |Audit findings.
    }
  }
} with {
  briefly "Audit info"
  described as {
    |Audit information.
  }
}
