// Permit Management Domain Model
// Building and land use permit processing
domain PermitManagement is {
  author OssumInc is {
    name = "Ossum Inc."
    email = "support@ossuminc.com"
  } with {
    briefly "Domain author"
    described as {
      |Organization maintaining this domain model.
    }
  }
  user Applicant is "person or business applying for permits" with {
    briefly "Applicant"
    described as {
      |Permit applicant.
    }
  }
  user PermitTechnician is "person reviewing permit applications" with {
    briefly "Permit Technician"
    described as {
      |Staff processing permit applications.
    }
  }
  user Inspector is "person conducting field inspections" with {
    briefly "Inspector"
    described as {
      |Building/code inspector.
    }
  }
  user PlanReviewer is "person reviewing plans and drawings" with {
    briefly "Plan Reviewer"
    described as {
      |Technical plan reviewer.
    }
  }
  epic PermitEpic is {
    user Applicant wants to "to obtain necessary permits" so that "they can legally perform construction"
    case ApplyForPermit is {
      user Applicant wants to "to submit a permit application" so that "work can be authorized"
      step is "Applicant submits" "application and plans" "online or at counter" with {
        briefly "Submit"
        described as {
          |File application.
        }
      }
      step send command PermitContext.Permit.SubmitApplication from user Applicant to entity PermitContext.Permit with {
        briefly "Process"
        described as {
          |Process application.
        }
      }
      step is "Staff reviews" "and issues" "permit" with {
        briefly "Issue"
        described as {
          |Issue permit.
        }
      }
    } with {
      briefly "Apply for permit"
      described as {
        |Permit application workflow.
      }
    }
  } with {
    briefly "Permit management"
    described as {
      | Epic covering permit applications,
      | plan review, and inspections.
    }
  }
  include "PermitContext.riddl"
  include "external-contexts.riddl"
} with {
  briefly "Permit management domain"
  described as {
    | The Permit Management domain handles building,
    | zoning, and land use permits.
  }
}
