// Permit Management Domain Model
// Building and land use permit processing

domain PermitManagement is {

  author OssumInc is {
    name is "Ossum Inc."
    email is "support@ossuminc.com"
  } with {
    briefly "Domain author"
    described by "Organization maintaining this domain model."
  }

  user Applicant is "person or business applying for permits" with {
    briefly "Applicant"
    described by "Permit applicant."
  }

  user PermitTechnician is "person reviewing permit applications" with {
    briefly "Permit Technician"
    described by "Staff processing permit applications."
  }

  user Inspector is "person conducting field inspections" with {
    briefly "Inspector"
    described by "Building/code inspector."
  }

  user PlanReviewer is "person reviewing plans and drawings" with {
    briefly "Plan Reviewer"
    described by "Technical plan reviewer."
  }

  epic PermitEpic is {
    user Applicant wants "to obtain necessary permits"
      so that "they can legally perform construction"

    case ApplyForPermit is {
      user Applicant wants "to submit a permit application"
        so that "work can be authorized"
      step is "Applicant submits" "application and plans" "online or at counter"
        with { briefly "Submit" described by "File application." }
      step send command PermitContext.Permit.SubmitApplication from user Applicant to entity PermitContext.Permit
        with { briefly "Process" described by "Process application." }
      step is "Staff reviews" "and issues" "permit"
        with { briefly "Issue" described by "Issue permit." }
    } with {
      briefly "Apply for permit"
      described by "Permit application workflow."
    }
  } with {
    briefly "Permit management"
    described by {
      | Epic covering permit applications,
      | plan review, and inspections.
    }
  }

  include "PermitContext.riddl"
  include "external-contexts.riddl"

} with {
  briefly "Permit management domain"
  described by {
    | The Permit Management domain handles building,
    | zoning, and land use permits.
  }
}
