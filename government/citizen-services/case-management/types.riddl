// Case Management - Shared Types

type CaseId is Id(CaseContext.Case) with {
  briefly "Case identifier"
  described by "Unique identifier for a case."
}

type CitizenId is UUID with {
  briefly "Citizen identifier"
  described by "Reference to a citizen."
}

type WorkerId is UUID with {
  briefly "Worker identifier"
  described by "Reference to a case worker."
}

type ProgramId is UUID with {
  briefly "Program identifier"
  described by "Reference to a service program."
}

type CaseStatus is any of {
  Open,
  InProgress,
  PendingInformation,
  PendingReview,
  Approved,
  Denied,
  OnHold,
  Closed,
  Reopened
} with {
  briefly "Case status"
  described by "Current case state."
}

type CasePriority is any of {
  Urgent,
  High,
  Normal,
  Low
} with {
  briefly "Case priority"
  described by "Processing priority."
}

type CaseType is any of {
  GeneralAssistance,
  HousingAssistance,
  FoodAssistance,
  MedicalAssistance,
  ChildServices,
  ElderlyServices,
  DisabilityServices,
  EmploymentServices,
  CrisisIntervention,
  Other
} with {
  briefly "Case type"
  described by "Category of service."
}

type Address is {
  street is String(1, 200) with {
    briefly "Street"
    described by "Street address."
  }
  city is String(1, 100) with {
    briefly "City"
    described by "City."
  }
  state is String(2, 50) with {
    briefly "State"
    described by "State."
  }
  postalCode is String(5, 10) with {
    briefly "Postal"
    described by "ZIP code."
  }
} with {
  briefly "Address"
  described by "Physical address."
}

type CitizenInfo is {
  citizenId is CitizenId with {
    briefly "Citizen"
    described by "Citizen identifier."
  }
  firstName is String(1, 100) with {
    briefly "First"
    described by "First name."
  }
  lastName is String(1, 100) with {
    briefly "Last"
    described by "Last name."
  }
  dateOfBirth is Date with {
    briefly "DOB"
    described by "Date of birth."
  }
  citizenSSN is optional String(9, 9) with {
    briefly "SSN"
    described by "Social security number."
  }
  address is Address with {
    briefly "Address"
    described by "Current address."
  }
  phone is String(10, 20) with {
    briefly "Phone"
    described by "Phone number."
  }
  email is optional String(5, 254) with {
    briefly "Email"
    described by "Email address."
  }
  preferredLanguage is String(2, 50) with {
    briefly "Language"
    described by "Preferred language."
  }
} with {
  briefly "Citizen info"
  described by "Citizen demographic information."
}

type HouseholdMember is {
  firstName is String(1, 100) with {
    briefly "First"
    described by "First name."
  }
  lastName is String(1, 100) with {
    briefly "Last"
    described by "Last name."
  }
  dateOfBirth is Date with {
    briefly "DOB"
    described by "Date of birth."
  }
  relationship is String(1, 50) with {
    briefly "Relationship"
    described by "Relation to primary."
  }
  memberIncome is optional Decimal(10, 2) with {
    briefly "Income"
    described by "Monthly income."
  }
} with {
  briefly "Household member"
  described by "Member of citizen's household."
}

type IncomeSource is {
  sourceType is String(1, 100) with {
    briefly "Source"
    described by "Income source type."
  }
  incomeEmployer is optional String(1, 200) with {
    briefly "Employer"
    described by "Employer name."
  }
  monthlyAmount is Decimal(10, 2) with {
    briefly "Amount"
    described by "Monthly amount."
  }
  isVerified is Boolean with {
    briefly "Verified"
    described by "Income verified."
  }
} with {
  briefly "Income source"
  described by "Source of household income."
}

type DocumentInfo is {
  documentType is String(1, 100) with {
    briefly "Type"
    described by "Document type."
  }
  fileName is String(1, 255) with {
    briefly "File"
    described by "File name."
  }
  uploadedAt is TimeStamp with {
    briefly "Uploaded"
    described by "Upload time."
  }
  uploadedBy is String(1, 100) with {
    briefly "By"
    described by "Uploaded by."
  }
  documentStatus is String(1, 50) with {
    briefly "Status"
    described by "Review status."
  }
} with {
  briefly "Document info"
  described by "Supporting document."
}

type ServiceRequest is {
  programId is ProgramId with {
    briefly "Program"
    described by "Requested program."
  }
  programName is String(1, 200) with {
    briefly "Name"
    described by "Program name."
  }
  requestedAmount is optional Decimal(10, 2) with {
    briefly "Amount"
    described by "Requested amount."
  }
  justification is String(1, 2000) with {
    briefly "Justification"
    described by "Request justification."
  }
  requestStatus is String(1, 50) with {
    briefly "Status"
    described by "Request status."
  }
} with {
  briefly "Service request"
  described by "Program service request."
}

type CaseNote is {
  noteId is UUID with {
    briefly "Note"
    described by "Note identifier."
  }
  author is WorkerId with {
    briefly "Author"
    described by "Note author."
  }
  content is String(1, 5000) with {
    briefly "Content"
    described by "Note content."
  }
  noteType is String(1, 50) with {
    briefly "Type"
    described by "Note type."
  }
  createdAt is TimeStamp with {
    briefly "Created"
    described by "Creation time."
  }
  isPrivate is Boolean with {
    briefly "Private"
    described by "Worker-only note."
  }
} with {
  briefly "Case note"
  described by "Case progress note."
}

type TaskInfo is {
  taskId is UUID with {
    briefly "Task"
    described by "Task identifier."
  }
  description is String(1, 500) with {
    briefly "Description"
    described by "Task description."
  }
  assignedTo is optional WorkerId with {
    briefly "Assigned"
    described by "Assigned worker."
  }
  dueDate is Date with {
    briefly "Due"
    described by "Due date."
  }
  taskStatus is String(1, 50) with {
    briefly "Status"
    described by "Task status."
  }
  taskCompletedAt is optional TimeStamp with {
    briefly "Completed"
    described by "Completion time."
  }
} with {
  briefly "Task info"
  described by "Case-related task."
}

type EligibilityResult is {
  programId is ProgramId with {
    briefly "Program"
    described by "Program identifier."
  }
  isEligible is Boolean with {
    briefly "Eligible"
    described by "Meets eligibility."
  }
  reason is String(1, 500) with {
    briefly "Reason"
    described by "Eligibility reason."
  }
  estimatedBenefit is optional Decimal(10, 2) with {
    briefly "Benefit"
    described by "Estimated benefit amount."
  }
  determinedAt is TimeStamp with {
    briefly "Determined"
    described by "Determination time."
  }
} with {
  briefly "Eligibility result"
  described by "Program eligibility determination."
}

type AppealInfo is {
  appealId is UUID with {
    briefly "Appeal"
    described by "Appeal identifier."
  }
  reason is String(1, 2000) with {
    briefly "Reason"
    described by "Appeal reason."
  }
  filedAt is TimeStamp with {
    briefly "Filed"
    described by "Filing time."
  }
  appealStatus is String(1, 50) with {
    briefly "Status"
    described by "Appeal status."
  }
  hearingDate is optional Date with {
    briefly "Hearing"
    described by "Hearing date."
  }
  appealDecision is optional String(1, 1000) with {
    briefly "Decision"
    described by "Appeal decision."
  }
} with {
  briefly "Appeal info"
  described by "Case appeal details."
}
