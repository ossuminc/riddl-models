// Records Management - Shared Types
type ReportId is Id(ReportContext.Report)  with {
  briefly "Report identifier"
  described as {
    |Unique identifier for a report.
  }
}
type CaseId is UUID with {
  briefly "Case identifier"
  described as {
    |Reference to an investigation case.
  }
}
type OfficerId is UUID with {
  briefly "Officer identifier"
  described as {
    |Reference to a police officer.
  }
}
type PersonId is UUID with {
  briefly "Person identifier"
  described as {
    |Reference to a person in records.
  }
}
type EvidenceId is UUID with {
  briefly "Evidence identifier"
  described as {
    |Reference to evidence item.
  }
}
type WarrantId is UUID with {
  briefly "Warrant identifier"
  described as {
    |Reference to a warrant.
  }
}
type ReportStatus is any of {
  Draft,
  Submitted,
  UnderReview,
  Approved,
  Rejected,
  Amended,
  Sealed,
  Expunged
} with {
  briefly "Report status"
  described as {
    |Current report state.
  }
}
type ReportType is any of {
  IncidentReport,
  ArrestReport,
  AccidentReport,
  SupplementalReport,
  PropertyReport,
  MissingPerson,
  DeathInvestigation,
  UseOfForce,
  VehiclePursuit
} with {
  briefly "Report type"
  described as {
    |Category of report.
  }
}
type OffenseCode is {
  statute: String(1,50) with {
    briefly "Statute"
    described as {
      |Legal statute code.
    }
  }
  description: String(1,200) with {
    briefly "Description"
    described as {
      |Offense description.
    }
  }
  classification: String(1,50) with {
    briefly "Classification"
    described as {
      |Felony/misdemeanor/infraction.
    }
  }
  ucr: String(1,20)? with {
    briefly "UCR"
    described as {
      |Uniform crime reporting code.
    }
  }
} with {
  briefly "Offense code"
  described as {
    |Criminal offense classification.
  }
}
type Address is {
  street: String(1,200) with {
    briefly "Street"
    described as {
      |Street address.
    }
  }
  addressCity: String(1,100) with {
    briefly "City"
    described as {
      |City.
    }
  }
  state: String(2,50) with {
    briefly "State"
    described as {
      |State.
    }
  }
  postalCode: String(5,10) with {
    briefly "Postal"
    described as {
      |ZIP code.
    }
  }
} with {
  briefly "Address"
  described as {
    |Physical address.
  }
}
type PersonInfo is {
  personId: PersonId with {
    briefly "Person"
    described as {
      |Person identifier.
    }
  }
  firstName: String(1,100) with {
    briefly "First"
    described as {
      |First name.
    }
  }
  middleName: String(1,100)? with {
    briefly "Middle"
    described as {
      |Middle name.
    }
  }
  lastName: String(1,100) with {
    briefly "Last"
    described as {
      |Last name.
    }
  }
  personDateOfBirth: Date? with {
    briefly "DOB"
    described as {
      |Date of birth.
    }
  }
  gender: String(1,20)? with {
    briefly "Gender"
    described as {
      |Gender.
    }
  }
  race: String(1,50)? with {
    briefly "Race"
    described as {
      |Race.
    }
  }
  height: String(1,20)? with {
    briefly "Height"
    described as {
      |Height.
    }
  }
  weight: Natural? with {
    briefly "Weight"
    described as {
      |Weight in pounds.
    }
  }
  hairColor: String(1,30)? with {
    briefly "Hair"
    described as {
      |Hair color.
    }
  }
  eyeColor: String(1,30)? with {
    briefly "Eyes"
    described as {
      |Eye color.
    }
  }
  homeAddress: Address? with {
    briefly "Address"
    described as {
      |Home address.
    }
  }
  phone: String(10,20)? with {
    briefly "Phone"
    described as {
      |Phone number.
    }
  }
  personDriversLicense: String(1,50)? with {
    briefly "DL"
    described as {
      |Driver's license number.
    }
  }
  ssn: String(9,9)? with {
    briefly "SSN"
    described as {
      |Social security number.
    }
  }
} with {
  briefly "Person info"
  described as {
    |Individual's identifying information.
  }
}
type InvolvedParty is {
  person: PersonInfo with {
    briefly "Person"
    described as {
      |Person details.
    }
  }
  role: String(1,50) with {
    briefly "Role"
    described as {
      |Victim, suspect, witness, etc.
    }
  }
  statement: String(1,5000)? with {
    briefly "Statement"
    described as {
      |Party's statement.
    }
  }
  injuries: String(1,500)? with {
    briefly "Injuries"
    described as {
      |Injuries sustained.
    }
  }
  propertyDamage: String(1,500)? with {
    briefly "Damage"
    described as {
      |Property damage.
    }
  }
} with {
  briefly "Involved party"
  described as {
    |Person involved in incident.
  }
}
type VehicleInfo is {
  make: String(1,50) with {
    briefly "Make"
    described as {
      |Vehicle make.
    }
  }
  model: String(1,50) with {
    briefly "Model"
    described as {
      |Vehicle model.
    }
  }
  year: Natural with {
    briefly "Year"
    described as {
      |Model year.
    }
  }
  color: String(1,30) with {
    briefly "Color"
    described as {
      |Vehicle color.
    }
  }
  vehicleLicensePlate: String(1,20)? with {
    briefly "Plate"
    described as {
      |License plate.
    }
  }
  vehiclePlateState: String(2,50)? with {
    briefly "State"
    described as {
      |Plate state.
    }
  }
  vin: String(17,17)? with {
    briefly "VIN"
    described as {
      |Vehicle identification number.
    }
  }
  registeredOwner: PersonInfo? with {
    briefly "Owner"
    described as {
      |Registered owner.
    }
  }
} with {
  briefly "Vehicle info"
  described as {
    |Vehicle details.
  }
}
type PropertyItem is {
  description: String(1,500) with {
    briefly "Description"
    described as {
      |Item description.
    }
  }
  itemSerialNumber: String(1,100)? with {
    briefly "Serial"
    described as {
      |Serial number.
    }
  }
  value: Decimal(10,2)? with {
    briefly "Value"
    described as {
      |Estimated value.
    }
  }
  propertyStatus: String(1,50) with {
    briefly "Status"
    described as {
      |Stolen, recovered, damaged, etc.
    }
  }
} with {
  briefly "Property item"
  described as {
    |Property involved in incident.
  }
}
type EvidenceItem is {
  evidenceId: EvidenceId with {
    briefly "Evidence"
    described as {
      |Evidence identifier.
    }
  }
  description: String(1,500) with {
    briefly "Description"
    described as {
      |Evidence description.
    }
  }
  evidenceType: String(1,50) with {
    briefly "Type"
    described as {
      |Physical, digital, biological, etc.
    }
  }
  locationFound: String(1,200) with {
    briefly "Location"
    described as {
      |Where found.
    }
  }
  collectedBy: OfficerId with {
    briefly "Collected by"
    described as {
      |Collecting officer.
    }
  }
  collectedAt: TimeStamp with {
    briefly "Collected"
    described as {
      |Collection time.
    }
  }
  chainOfCustody: CustodyEntry+ with {
    briefly "Custody"
    described as {
      |Chain of custody.
    }
  }
} with {
  briefly "Evidence item"
  described as {
    |Evidence documentation.
  }
}
type CustodyEntry is {
  receivedBy: String(1,100) with {
    briefly "Received by"
    described as {
      |Person receiving.
    }
  }
  receivedAt: TimeStamp with {
    briefly "Received"
    described as {
      |Receipt time.
    }
  }
  custodyReleasedBy: String(1,100)? with {
    briefly "Released by"
    described as {
      |Person releasing.
    }
  }
  custodyReleasedAt: TimeStamp? with {
    briefly "Released"
    described as {
      |Release time.
    }
  }
  purpose: String(1,200) with {
    briefly "Purpose"
    described as {
      |Reason for transfer.
    }
  }
} with {
  briefly "Custody entry"
  described as {
    |Chain of custody record.
  }
}
type ArrestInfo is {
  arrestDate: TimeStamp with {
    briefly "Arrested"
    described as {
      |Arrest date/time.
    }
  }
  arrestLocation: Address with {
    briefly "Location"
    described as {
      |Arrest location.
    }
  }
  arrestingOfficer: OfficerId with {
    briefly "Officer"
    described as {
      |Arresting officer.
    }
  }
  charges: OffenseCode+ with {
    briefly "Charges"
    described as {
      |Charges filed.
    }
  }
  arrestBookingNumber: String(1,50)? with {
    briefly "Booking"
    described as {
      |Booking number.
    }
  }
  arrestBondAmount: Decimal(10,2)? with {
    briefly "Bond"
    described as {
      |Bond amount.
    }
  }
  mirandaGiven: Boolean with {
    briefly "Miranda"
    described as {
      |Miranda rights given.
    }
  }
  usedForce: Boolean with {
    briefly "Force"
    described as {
      |Force used in arrest.
    }
  }
} with {
  briefly "Arrest info"
  described as {
    |Arrest documentation.
  }
}
type ReportNarrative is {
  content: String(1,50000) with {
    briefly "Content"
    described as {
      |Narrative text.
    }
  }
  author: OfficerId with {
    briefly "Author"
    described as {
      |Writing officer.
    }
  }
  writtenAt: TimeStamp with {
    briefly "Written"
    described as {
      |Writing time.
    }
  }
} with {
  briefly "Report narrative"
  described as {
    |Officer's written narrative.
  }
}
type ApprovalInfo is {
  approvedBy: OfficerId with {
    briefly "Approved by"
    described as {
      |Approving supervisor.
    }
  }
  approvedAt: TimeStamp with {
    briefly "Approved"
    described as {
      |Approval time.
    }
  }
  comments: String(1,500)? with {
    briefly "Comments"
    described as {
      |Approval comments.
    }
  }
} with {
  briefly "Approval info"
  described as {
    |Report approval record.
  }
}
