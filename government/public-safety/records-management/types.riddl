// Records Management - Shared Types

type ReportId is Id(ReportContext.Report) with {
  briefly "Report identifier"
  described by "Unique identifier for a report."
}

type CaseId is UUID with {
  briefly "Case identifier"
  described by "Reference to an investigation case."
}

type OfficerId is UUID with {
  briefly "Officer identifier"
  described by "Reference to a police officer."
}

type PersonId is UUID with {
  briefly "Person identifier"
  described by "Reference to a person in records."
}

type EvidenceId is UUID with {
  briefly "Evidence identifier"
  described by "Reference to evidence item."
}

type WarrantId is UUID with {
  briefly "Warrant identifier"
  described by "Reference to a warrant."
}

type ReportStatus is any of {
  Draft,
  Submitted,
  UnderReview,
  Approved,
  Rejected,
  Amended,
  Sealed,
  Expunged
} with {
  briefly "Report status"
  described by "Current report state."
}

type ReportType is any of {
  IncidentReport,
  ArrestReport,
  AccidentReport,
  SupplementalReport,
  PropertyReport,
  MissingPerson,
  DeathInvestigation,
  UseOfForce,
  VehiclePursuit
} with {
  briefly "Report type"
  described by "Category of report."
}

type OffenseCode is {
  statute is String(1, 50) with {
    briefly "Statute"
    described by "Legal statute code."
  }
  description is String(1, 200) with {
    briefly "Description"
    described by "Offense description."
  }
  classification is String(1, 50) with {
    briefly "Classification"
    described by "Felony/misdemeanor/infraction."
  }
  ucr is optional String(1, 20) with {
    briefly "UCR"
    described by "Uniform crime reporting code."
  }
} with {
  briefly "Offense code"
  described by "Criminal offense classification."
}

type Address is {
  street is String(1, 200) with {
    briefly "Street"
    described by "Street address."
  }
  addressCity is String(1, 100) with {
    briefly "City"
    described by "City."
  }
  state is String(2, 50) with {
    briefly "State"
    described by "State."
  }
  postalCode is String(5, 10) with {
    briefly "Postal"
    described by "ZIP code."
  }
} with {
  briefly "Address"
  described by "Physical address."
}

type PersonInfo is {
  personId is PersonId with {
    briefly "Person"
    described by "Person identifier."
  }
  firstName is String(1, 100) with {
    briefly "First"
    described by "First name."
  }
  middleName is optional String(1, 100) with {
    briefly "Middle"
    described by "Middle name."
  }
  lastName is String(1, 100) with {
    briefly "Last"
    described by "Last name."
  }
  personDateOfBirth is optional Date with {
    briefly "DOB"
    described by "Date of birth."
  }
  gender is optional String(1, 20) with {
    briefly "Gender"
    described by "Gender."
  }
  race is optional String(1, 50) with {
    briefly "Race"
    described by "Race."
  }
  height is optional String(1, 20) with {
    briefly "Height"
    described by "Height."
  }
  weight is optional Natural with {
    briefly "Weight"
    described by "Weight in pounds."
  }
  hairColor is optional String(1, 30) with {
    briefly "Hair"
    described by "Hair color."
  }
  eyeColor is optional String(1, 30) with {
    briefly "Eyes"
    described by "Eye color."
  }
  homeAddress is optional Address with {
    briefly "Address"
    described by "Home address."
  }
  phone is optional String(10, 20) with {
    briefly "Phone"
    described by "Phone number."
  }
  personDriversLicense is optional String(1, 50) with {
    briefly "DL"
    described by "Driver's license number."
  }
  ssn is optional String(9, 9) with {
    briefly "SSN"
    described by "Social security number."
  }
} with {
  briefly "Person info"
  described by "Individual's identifying information."
}

type InvolvedParty is {
  person is PersonInfo with {
    briefly "Person"
    described by "Person details."
  }
  role is String(1, 50) with {
    briefly "Role"
    described by "Victim, suspect, witness, etc."
  }
  statement is optional String(1, 5000) with {
    briefly "Statement"
    described by "Party's statement."
  }
  injuries is optional String(1, 500) with {
    briefly "Injuries"
    described by "Injuries sustained."
  }
  propertyDamage is optional String(1, 500) with {
    briefly "Damage"
    described by "Property damage."
  }
} with {
  briefly "Involved party"
  described by "Person involved in incident."
}

type VehicleInfo is {
  make is String(1, 50) with {
    briefly "Make"
    described by "Vehicle make."
  }
  model is String(1, 50) with {
    briefly "Model"
    described by "Vehicle model."
  }
  year is Natural with {
    briefly "Year"
    described by "Model year."
  }
  color is String(1, 30) with {
    briefly "Color"
    described by "Vehicle color."
  }
  vehicleLicensePlate is optional String(1, 20) with {
    briefly "Plate"
    described by "License plate."
  }
  vehiclePlateState is optional String(2, 50) with {
    briefly "State"
    described by "Plate state."
  }
  vin is optional String(17, 17) with {
    briefly "VIN"
    described by "Vehicle identification number."
  }
  registeredOwner is optional PersonInfo with {
    briefly "Owner"
    described by "Registered owner."
  }
} with {
  briefly "Vehicle info"
  described by "Vehicle details."
}

type PropertyItem is {
  description is String(1, 500) with {
    briefly "Description"
    described by "Item description."
  }
  itemSerialNumber is optional String(1, 100) with {
    briefly "Serial"
    described by "Serial number."
  }
  value is optional Decimal(10, 2) with {
    briefly "Value"
    described by "Estimated value."
  }
  propertyStatus is String(1, 50) with {
    briefly "Status"
    described by "Stolen, recovered, damaged, etc."
  }
} with {
  briefly "Property item"
  described by "Property involved in incident."
}

type EvidenceItem is {
  evidenceId is EvidenceId with {
    briefly "Evidence"
    described by "Evidence identifier."
  }
  description is String(1, 500) with {
    briefly "Description"
    described by "Evidence description."
  }
  evidenceType is String(1, 50) with {
    briefly "Type"
    described by "Physical, digital, biological, etc."
  }
  locationFound is String(1, 200) with {
    briefly "Location"
    described by "Where found."
  }
  collectedBy is OfficerId with {
    briefly "Collected by"
    described by "Collecting officer."
  }
  collectedAt is TimeStamp with {
    briefly "Collected"
    described by "Collection time."
  }
  chainOfCustody is many CustodyEntry with {
    briefly "Custody"
    described by "Chain of custody."
  }
} with {
  briefly "Evidence item"
  described by "Evidence documentation."
}

type CustodyEntry is {
  receivedBy is String(1, 100) with {
    briefly "Received by"
    described by "Person receiving."
  }
  receivedAt is TimeStamp with {
    briefly "Received"
    described by "Receipt time."
  }
  custodyReleasedBy is optional String(1, 100) with {
    briefly "Released by"
    described by "Person releasing."
  }
  custodyReleasedAt is optional TimeStamp with {
    briefly "Released"
    described by "Release time."
  }
  purpose is String(1, 200) with {
    briefly "Purpose"
    described by "Reason for transfer."
  }
} with {
  briefly "Custody entry"
  described by "Chain of custody record."
}

type ArrestInfo is {
  arrestDate is TimeStamp with {
    briefly "Arrested"
    described by "Arrest date/time."
  }
  arrestLocation is Address with {
    briefly "Location"
    described by "Arrest location."
  }
  arrestingOfficer is OfficerId with {
    briefly "Officer"
    described by "Arresting officer."
  }
  charges is many OffenseCode with {
    briefly "Charges"
    described by "Charges filed."
  }
  arrestBookingNumber is optional String(1, 50) with {
    briefly "Booking"
    described by "Booking number."
  }
  arrestBondAmount is optional Decimal(10, 2) with {
    briefly "Bond"
    described by "Bond amount."
  }
  mirandaGiven is Boolean with {
    briefly "Miranda"
    described by "Miranda rights given."
  }
  usedForce is Boolean with {
    briefly "Force"
    described by "Force used in arrest."
  }
} with {
  briefly "Arrest info"
  described by "Arrest documentation."
}

type ReportNarrative is {
  content is String(1, 50000) with {
    briefly "Content"
    described by "Narrative text."
  }
  author is OfficerId with {
    briefly "Author"
    described by "Writing officer."
  }
  writtenAt is TimeStamp with {
    briefly "Written"
    described by "Writing time."
  }
} with {
  briefly "Report narrative"
  described by "Officer's written narrative."
}

type ApprovalInfo is {
  approvedBy is OfficerId with {
    briefly "Approved by"
    described by "Approving supervisor."
  }
  approvedAt is TimeStamp with {
    briefly "Approved"
    described by "Approval time."
  }
  comments is optional String(1, 500) with {
    briefly "Comments"
    described by "Approval comments."
  }
} with {
  briefly "Approval info"
  described by "Report approval record."
}
