// Emergency Dispatch Domain Model
// 911/emergency call handling and first responder dispatch

domain EmergencyDispatch is {

  author OssumInc is {
    name is "Ossum Inc."
    email is "support@ossuminc.com"
  } with {
    briefly "Domain author"
    described by "Organization maintaining this domain model."
  }

  user Caller is "person reporting an emergency" with {
    briefly "Caller"
    described by "Individual calling emergency services."
  }

  user Dispatcher is "person handling emergency calls" with {
    briefly "Dispatcher"
    described by "911 call taker and dispatcher."
  }

  user FirstResponder is "person responding to emergencies" with {
    briefly "First Responder"
    described by "Police, fire, or EMS personnel."
  }

  user DispatchSupervisor is "person overseeing dispatch operations" with {
    briefly "Supervisor"
    described by "Dispatch center supervisor."
  }

  epic EmergencyResponseEpic is {
    user Caller wants "to report an emergency"
      so that "help can be dispatched"

    case ReportEmergency is {
      user Caller wants "to call 911 and report an incident"
        so that "appropriate responders are sent"
      step is "Caller dials" "911 emergency line" "from phone"
        with { briefly "Call 911" described by "Initiate emergency call." }
      step send command IncidentContext.Incident.CreateIncident from user Dispatcher to entity IncidentContext.Incident
        with { briefly "Create incident" described by "Log the incident." }
      step is "Dispatcher evaluates" "and dispatches" "resources"
        with { briefly "Dispatch" described by "Send responders." }
    } with {
      briefly "Report emergency"
      described by "Emergency reporting workflow."
    }
  } with {
    briefly "Emergency response"
    described by {
      | Epic covering emergency calls, dispatch,
      | and incident management.
    }
  }

  include "IncidentContext.riddl"
  include "external-contexts.riddl"

} with {
  briefly "Emergency dispatch domain"
  described by {
    | The Emergency Dispatch domain handles 911 calls,
    | incident creation, and first responder dispatch.
  }
}
