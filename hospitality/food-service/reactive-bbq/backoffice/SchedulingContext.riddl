// Scheduling bounded context

context Scheduling is {

  include "scheduling-types.riddl"
  include "Shift.riddl"

  repository ShiftRepository is {
    schema ShiftData is relational
      of shifts as Shift
      index on field Shift.shiftId
      index on field Shift.shiftDate
      index on field Shift.employeeId

    handler ShiftPersistence is {
      on command Shift.CreateShift {
        prompt "Store new shift"
      }
      on command Shift.AssignEmployee {
        prompt "Record employee assignment"
      }
      on command Shift.SwapShift {
        prompt "Record shift swap"
      }
      on command Shift.ClockIn {
        prompt "Record clock-in"
      }
      on command Shift.ClockOut {
        prompt "Record clock-out"
      }
      on command Shift.CancelShift {
        prompt "Mark shift as cancelled"
      }
    } with {
      briefly "Shift persistence"
      described by "Persists shift commands."
    }
  } with {
    briefly "Shift repository"
    described by "Stores and retrieves shift data."
  }

} with {
  briefly "Scheduling context"
  described by {
    | Manages staff shift planning, assignment, time
    | tracking, and coverage. Provides the foundation
    | for labor reporting in the Reporting context.
  }
}
