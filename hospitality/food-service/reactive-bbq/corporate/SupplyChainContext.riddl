// Supply Chain bounded context
context SupplyChain is {
  include "supply-chain-types.riddl"
  include "PurchaseOrder.riddl"
  repository PurchaseOrderRepository is {
    schema PurchaseOrderData is relational
      of purchaseOrders as type PurchaseOrder
        index on field PurchaseOrder.purchaseOrderId
        index on field PurchaseOrder.vendorId
        index on field PurchaseOrder.purchaseOrderStatus

    handler PurchaseOrderPersistence is {
      on command PurchaseOrder.CreateBulkOrder is {
        prompt "Store new purchase order"
      }
      on command PurchaseOrder.ApproveOrder is {
        prompt "Record order approval"
      }
      on command PurchaseOrder.ShipOrder is {
        prompt "Record shipment"
      }
      on command PurchaseOrder.ReceiveShipment is {
        prompt "Record shipment receipt"
      }
      on command PurchaseOrder.ReportIssue is {
        prompt "Store issue report"
      }
    } with {
      briefly "Purchase order persistence"
      described as {
        |Persists purchase order commands.
      }
    }
  } with {
    briefly "Purchase order repository"
    described as {
      |Stores and retrieves purchase order data.
    }
  }
} with {
  briefly "Supply chain context"
  described as {
    | Manages vendor relationships and bulk ordering for
    | the restaurant chain. Coordinates with the inventory
    | context to ensure adequate stock across locations.
  }
}
