// Event Registration - Shared Types

type RegistrationId is Id(RegistrationContext.Registration) with {
  briefly "Registration identifier"
  described by "Unique identifier for a registration."
}

type EventId is UUID with {
  briefly "Event identifier"
  described by "Reference to an event."
}

type AttendeeId is UUID with {
  briefly "Attendee identifier"
  described by "Reference to an attendee."
}

type TicketTypeId is UUID with {
  briefly "Ticket type identifier"
  described by "Reference to a ticket type."
}

type SessionId is UUID with {
  briefly "Session identifier"
  described by "Reference to an event session."
}

type RegistrationStatus is any of {
  Pending,
  Confirmed,
  Waitlisted,
  CheckedIn,
  Cancelled,
  NoShow
} with {
  briefly "Registration status"
  described by "Current registration status."
}

type PaymentStatus is any of {
  Unpaid,
  Pending,
  Paid,
  Refunded,
  PartialRefund
} with {
  briefly "Payment status"
  described by "Payment status."
}

type TicketType is any of {
  General,
  VIP,
  EarlyBird,
  Student,
  Group,
  Speaker,
  Sponsor,
  Staff
} with {
  briefly "Ticket type"
  described by "Type of ticket."
}

type CheckInMethod is any of {
  Badge,
  QRCode,
  Name,
  Email
} with {
  briefly "Check-in method"
  described by "How attendee checked in."
}

type AttendeeInfo is {
  attendeeId is AttendeeId with {
    briefly "Attendee"
    described by "Attendee identifier."
  }
  firstName is String(1, 100) with {
    briefly "First name"
    described by "First name."
  }
  lastName is String(1, 100) with {
    briefly "Last name"
    described by "Last name."
  }
  email is String(5, 254) with {
    briefly "Email"
    described by "Email address."
  }
  phone is optional String(10, 20) with {
    briefly "Phone"
    described by "Phone number."
  }
  company is optional String(1, 200) with {
    briefly "Company"
    described by "Company name."
  }
  jobTitle is optional String(1, 100) with {
    briefly "Title"
    described by "Job title."
  }
  dietaryRestrictions is optional String(1, 500) with {
    briefly "Dietary"
    described by "Dietary restrictions."
  }
  accessibilityNeeds is optional String(1, 500) with {
    briefly "Accessibility"
    described by "Accessibility needs."
  }
} with {
  briefly "Attendee info"
  described by "Attendee details."
}

type EventInfo is {
  eventId is EventId with {
    briefly "Event"
    described by "Event identifier."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Event name."
  }
  startDate is Date with {
    briefly "Start"
    described by "Event start date."
  }
  endDate is Date with {
    briefly "End"
    described by "Event end date."
  }
  venue is String(1, 200) with {
    briefly "Venue"
    described by "Event venue."
  }
  location is String(1, 500) with {
    briefly "Location"
    described by "Event location."
  }
} with {
  briefly "Event info"
  described by "Event details."
}

type TicketInfo is {
  ticketTypeId is TicketTypeId with {
    briefly "Ticket type"
    described by "Ticket type identifier."
  }
  name is String(1, 100) with {
    briefly "Name"
    described by "Ticket name."
  }
  ticketType is TicketType with {
    briefly "Type"
    described by "Type category."
  }
  price is Decimal(10, 2) with {
    briefly "Price"
    described by "Ticket price."
  }
  description is String(1, 500) with {
    briefly "Description"
    described by "Ticket description."
  }
  includesSessions is many optional SessionId with {
    briefly "Sessions"
    described by "Included sessions."
  }
} with {
  briefly "Ticket info"
  described by "Ticket type details."
}

type SessionInfo is {
  sessionId is SessionId with {
    briefly "Session"
    described by "Session identifier."
  }
  title is String(1, 200) with {
    briefly "Title"
    described by "Session title."
  }
  description is String(1, 1000) with {
    briefly "Description"
    described by "Session description."
  }
  startTime is TimeStamp with {
    briefly "Start"
    described by "Session start time."
  }
  endTime is TimeStamp with {
    briefly "End"
    described by "Session end time."
  }
  room is String(1, 100) with {
    briefly "Room"
    described by "Session room."
  }
  capacity is Natural with {
    briefly "Capacity"
    described by "Session capacity."
  }
  speakers is many String(1, 200) with {
    briefly "Speakers"
    described by "Session speakers."
  }
} with {
  briefly "Session info"
  described by "Event session details."
}

type RegistrationPayment is {
  subtotal is Decimal(10, 2) with {
    briefly "Subtotal"
    described by "Ticket subtotal."
  }
  appliedDiscountCode is optional String(1, 50) with {
    briefly "Discount code"
    described by "Applied discount code."
  }
  appliedDiscountAmount is optional Decimal(10, 2) with {
    briefly "Discount"
    described by "Discount amount."
  }
  taxAmount is Decimal(10, 2) with {
    briefly "Tax"
    described by "Tax amount."
  }
  totalAmount is Decimal(10, 2) with {
    briefly "Total"
    described by "Total amount."
  }
  paymentStatus is PaymentStatus with {
    briefly "Status"
    described by "Payment status."
  }
  paidAt is optional TimeStamp with {
    briefly "Paid"
    described by "Payment time."
  }
  paymentTransactionId is optional String(1, 100) with {
    briefly "Transaction"
    described by "Payment transaction ID."
  }
} with {
  briefly "Registration payment"
  described by "Payment details."
}

type CheckInRecord is {
  checkedInAt is TimeStamp with {
    briefly "Checked in"
    described by "Check-in time."
  }
  checkedInBy is optional String(1, 200) with {
    briefly "Checked in by"
    described by "Staff member."
  }
  method is CheckInMethod with {
    briefly "Method"
    described by "Check-in method."
  }
  assignedBadgeNumber is optional String(1, 50) with {
    briefly "Badge"
    described by "Badge number."
  }
} with {
  briefly "Check-in record"
  described by "Check-in details."
}

type SessionRegistration is {
  sessionId is SessionId with {
    briefly "Session"
    described by "Session identifier."
  }
  registeredAt is TimeStamp with {
    briefly "Registered"
    described by "Registration time."
  }
  attended is Boolean with {
    briefly "Attended"
    described by "Whether attended."
  }
} with {
  briefly "Session registration"
  described by "Session registration record."
}
