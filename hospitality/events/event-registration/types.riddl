// Event Registration - Shared Types
type RegistrationId is Id(RegistrationContext.Registration)  with {
  briefly "Registration identifier"
  described as {
    |Unique identifier for a registration.
  }
}
type EventId is UUID with {
  briefly "Event identifier"
  described as {
    |Reference to an event.
  }
}
type AttendeeId is UUID with {
  briefly "Attendee identifier"
  described as {
    |Reference to an attendee.
  }
}
type TicketTypeId is UUID with {
  briefly "Ticket type identifier"
  described as {
    |Reference to a ticket type.
  }
}
type SessionId is UUID with {
  briefly "Session identifier"
  described as {
    |Reference to an event session.
  }
}
type RegistrationStatus is any of {
  Pending,
  Confirmed,
  Waitlisted,
  CheckedIn,
  Cancelled,
  NoShow
} with {
  briefly "Registration status"
  described as {
    |Current registration status.
  }
}
type PaymentStatus is any of {
  Unpaid,
  Pending,
  Paid,
  Refunded,
  PartialRefund
} with {
  briefly "Payment status"
  described as {
    |Payment status.
  }
}
type TicketType is any of {
  General,
  VIP,
  EarlyBird,
  Student,
  Group,
  Speaker,
  Sponsor,
  Staff
} with {
  briefly "Ticket type"
  described as {
    |Type of ticket.
  }
}
type CheckInMethod is any of {
  Badge,
  QRCode,
  Name,
  Email
} with {
  briefly "Check-in method"
  described as {
    |How attendee checked in.
  }
}
type AttendeeInfo is {
  attendeeId: AttendeeId with {
    briefly "Attendee"
    described as {
      |Attendee identifier.
    }
  }
  firstName: String(1,100) with {
    briefly "First name"
    described as {
      |First name.
    }
  }
  lastName: String(1,100) with {
    briefly "Last name"
    described as {
      |Last name.
    }
  }
  email: String(5,254) with {
    briefly "Email"
    described as {
      |Email address.
    }
  }
  phone: String(10,20)? with {
    briefly "Phone"
    described as {
      |Phone number.
    }
  }
  company: String(1,200)? with {
    briefly "Company"
    described as {
      |Company name.
    }
  }
  jobTitle: String(1,100)? with {
    briefly "Title"
    described as {
      |Job title.
    }
  }
  dietaryRestrictions: String(1,500)? with {
    briefly "Dietary"
    described as {
      |Dietary restrictions.
    }
  }
  accessibilityNeeds: String(1,500)? with {
    briefly "Accessibility"
    described as {
      |Accessibility needs.
    }
  }
} with {
  briefly "Attendee info"
  described as {
    |Attendee details.
  }
}
type EventInfo is {
  eventId: EventId with {
    briefly "Event"
    described as {
      |Event identifier.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Event name.
    }
  }
  startDate: Date with {
    briefly "Start"
    described as {
      |Event start date.
    }
  }
  endDate: Date with {
    briefly "End"
    described as {
      |Event end date.
    }
  }
  venue: String(1,200) with {
    briefly "Venue"
    described as {
      |Event venue.
    }
  }
  location: String(1,500) with {
    briefly "Location"
    described as {
      |Event location.
    }
  }
} with {
  briefly "Event info"
  described as {
    |Event details.
  }
}
type TicketInfo is {
  ticketTypeId: TicketTypeId with {
    briefly "Ticket type"
    described as {
      |Ticket type identifier.
    }
  }
  name: String(1,100) with {
    briefly "Name"
    described as {
      |Ticket name.
    }
  }
  ticketType: TicketType with {
    briefly "Type"
    described as {
      |Type category.
    }
  }
  price: Decimal(10,2) with {
    briefly "Price"
    described as {
      |Ticket price.
    }
  }
  description: String(1,500) with {
    briefly "Description"
    described as {
      |Ticket description.
    }
  }
  includesSessions: SessionId* with {
    briefly "Sessions"
    described as {
      |Included sessions.
    }
  }
} with {
  briefly "Ticket info"
  described as {
    |Ticket type details.
  }
}
type SessionInfo is {
  sessionId: SessionId with {
    briefly "Session"
    described as {
      |Session identifier.
    }
  }
  title: String(1,200) with {
    briefly "Title"
    described as {
      |Session title.
    }
  }
  description: String(1,1000) with {
    briefly "Description"
    described as {
      |Session description.
    }
  }
  startTime: TimeStamp with {
    briefly "Start"
    described as {
      |Session start time.
    }
  }
  endTime: TimeStamp with {
    briefly "End"
    described as {
      |Session end time.
    }
  }
  room: String(1,100) with {
    briefly "Room"
    described as {
      |Session room.
    }
  }
  capacity: Natural with {
    briefly "Capacity"
    described as {
      |Session capacity.
    }
  }
  speakers: String(1,200)+ with {
    briefly "Speakers"
    described as {
      |Session speakers.
    }
  }
} with {
  briefly "Session info"
  described as {
    |Event session details.
  }
}
type RegistrationPayment is {
  subtotal: Decimal(10,2) with {
    briefly "Subtotal"
    described as {
      |Ticket subtotal.
    }
  }
  appliedDiscountCode: String(1,50)? with {
    briefly "Discount code"
    described as {
      |Applied discount code.
    }
  }
  appliedDiscountAmount: Decimal(10,2)? with {
    briefly "Discount"
    described as {
      |Discount amount.
    }
  }
  taxAmount: Decimal(10,2) with {
    briefly "Tax"
    described as {
      |Tax amount.
    }
  }
  totalAmount: Decimal(10,2) with {
    briefly "Total"
    described as {
      |Total amount.
    }
  }
  paymentStatus: PaymentStatus with {
    briefly "Status"
    described as {
      |Payment status.
    }
  }
  paidAt: TimeStamp? with {
    briefly "Paid"
    described as {
      |Payment time.
    }
  }
  paymentTransactionId: String(1,100)? with {
    briefly "Transaction"
    described as {
      |Payment transaction ID.
    }
  }
} with {
  briefly "Registration payment"
  described as {
    |Payment details.
  }
}
type CheckInRecord is {
  checkedInAt: TimeStamp with {
    briefly "Checked in"
    described as {
      |Check-in time.
    }
  }
  checkedInBy: String(1,200)? with {
    briefly "Checked in by"
    described as {
      |Staff member.
    }
  }
  method: CheckInMethod with {
    briefly "Method"
    described as {
      |Check-in method.
    }
  }
  assignedBadgeNumber: String(1,50)? with {
    briefly "Badge"
    described as {
      |Badge number.
    }
  }
} with {
  briefly "Check-in record"
  described as {
    |Check-in details.
  }
}
type SessionRegistration is {
  sessionId: SessionId with {
    briefly "Session"
    described as {
      |Session identifier.
    }
  }
  registeredAt: TimeStamp with {
    briefly "Registered"
    described as {
      |Registration time.
    }
  }
  attended: Boolean with {
    briefly "Attended"
    described as {
      |Whether attended.
    }
  }
} with {
  briefly "Session registration"
  described as {
    |Session registration record.
  }
}
