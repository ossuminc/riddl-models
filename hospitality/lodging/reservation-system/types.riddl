// Reservation System - Shared Types
type ReservationId is Id(ReservationContext.Reservation)  with {
  briefly "Reservation identifier"
  described as {
    |Unique identifier for a reservation.
  }
}
type RoomId is UUID with {
  briefly "Room identifier"
  described as {
    |Reference to a hotel room.
  }
}
type GuestId is UUID with {
  briefly "Guest identifier"
  described as {
    |Reference to a guest.
  }
}
type RatePlanId is UUID with {
  briefly "Rate plan identifier"
  described as {
    |Reference to a rate plan.
  }
}
type ReservationStatus is any of {
  Pending,
  Confirmed,
  CheckedIn,
  CheckedOut,
  Cancelled,
  NoShow
} with {
  briefly "Reservation status"
  described as {
    |Current reservation state.
  }
}
type RoomType is any of {
  Standard,
  Deluxe,
  Suite,
  ExecutiveSuite,
  PenthouseSuite,
  Accessible
} with {
  briefly "Room type"
  described as {
    |Category of hotel room.
  }
}
type BedType is any of {
  King,
  Queen,
  Double,
  Twin,
  Single,
  Murphy
} with {
  briefly "Bed type"
  described as {
    |Type of bed in room.
  }
}
type PaymentStatus is any of {
  Unpaid,
  PartiallyPaid,
  Paid,
  Refunded,
  Disputed
} with {
  briefly "Payment status"
  described as {
    |Payment state for reservation.
  }
}
type GuestInfo is {
  guestId: GuestId with {
    briefly "Guest"
    described as {
      |Guest identifier.
    }
  }
  firstName: String(1,100) with {
    briefly "First name"
    described as {
      |Guest first name.
    }
  }
  lastName: String(1,100) with {
    briefly "Last name"
    described as {
      |Guest last name.
    }
  }
  email: String(5,254) with {
    briefly "Email"
    described as {
      |Guest email address.
    }
  }
  phone: String(10,20) with {
    briefly "Phone"
    described as {
      |Guest phone number.
    }
  }
  guestLoyaltyNumber: String(1,50)? with {
    briefly "Loyalty"
    described as {
      |Loyalty program number.
    }
  }
} with {
  briefly "Guest information"
  described as {
    |Guest contact details.
  }
}
type Address is {
  street: String(1,200) with {
    briefly "Street"
    described as {
      |Street address.
    }
  }
  city: String(1,100) with {
    briefly "City"
    described as {
      |City name.
    }
  }
  state: String(2,50) with {
    briefly "State"
    described as {
      |State or province.
    }
  }
  postalCode: String(5,20) with {
    briefly "Postal code"
    described as {
      |ZIP or postal code.
    }
  }
  country: String(2,100) with {
    briefly "Country"
    described as {
      |Country name or code.
    }
  }
} with {
  briefly "Address"
  described as {
    |Physical mailing address.
  }
}
type StayDetails is {
  checkInDate: Date with {
    briefly "Check-in"
    described as {
      |Arrival date.
    }
  }
  checkOutDate: Date with {
    briefly "Check-out"
    described as {
      |Departure date.
    }
  }
  roomType: RoomType with {
    briefly "Room type"
    described as {
      |Type of room requested.
    }
  }
  numberOfGuests: Natural with {
    briefly "Guests"
    described as {
      |Number of guests.
    }
  }
  numberOfRooms: Natural with {
    briefly "Rooms"
    described as {
      |Number of rooms.
    }
  }
  specialRequests: String(1,500)* with {
    briefly "Requests"
    described as {
      |Special requests.
    }
  }
} with {
  briefly "Stay details"
  described as {
    |Accommodation stay information.
  }
}
type RoomAssignment is {
  roomId: RoomId with {
    briefly "Room"
    described as {
      |Assigned room.
    }
  }
  roomNumber: String(1,20) with {
    briefly "Number"
    described as {
      |Room number.
    }
  }
  floor: Natural with {
    briefly "Floor"
    described as {
      |Floor level.
    }
  }
  roomType: RoomType with {
    briefly "Type"
    described as {
      |Room type.
    }
  }
  bedType: BedType with {
    briefly "Bed"
    described as {
      |Bed configuration.
    }
  }
} with {
  briefly "Room assignment"
  described as {
    |Assigned room details.
  }
}
type RateInfo is {
  ratePlanId: RatePlanId with {
    briefly "Rate plan"
    described as {
      |Applied rate plan.
    }
  }
  ratePlanName: String(1,100) with {
    briefly "Name"
    described as {
      |Rate plan name.
    }
  }
  nightlyRate: Decimal(10,2) with {
    briefly "Nightly"
    described as {
      |Rate per night.
    }
  }
  currency: String(3,3) with {
    briefly "Currency"
    described as {
      |Currency code (USD, EUR, etc.).
    }
  }
  isCancellable: Boolean with {
    briefly "Cancellable"
    described as {
      |Whether rate is cancellable.
    }
  }
  cancellationDeadline: Date? with {
    briefly "Deadline"
    described as {
      |Free cancellation deadline.
    }
  }
} with {
  briefly "Rate information"
  described as {
    |Pricing and rate details.
  }
}
type BillingDetails is {
  roomCharges: Decimal(10,2) with {
    briefly "Room"
    described as {
      |Room charges.
    }
  }
  taxes: Decimal(10,2) with {
    briefly "Taxes"
    described as {
      |Tax amount.
    }
  }
  fees: Decimal(10,2) with {
    briefly "Fees"
    described as {
      |Additional fees.
    }
  }
  incidentals: Decimal(10,2) with {
    briefly "Incidentals"
    described as {
      |Incidental charges.
    }
  }
  totalAmount: Decimal(10,2) with {
    briefly "Total"
    described as {
      |Total amount due.
    }
  }
  paidAmount: Decimal(10,2) with {
    briefly "Paid"
    described as {
      |Amount paid.
    }
  }
  paymentStatus: PaymentStatus with {
    briefly "Status"
    described as {
      |Payment status.
    }
  }
} with {
  briefly "Billing details"
  described as {
    |Reservation charges and payments.
  }
}
type PaymentMethod is {
  type: String(1,50) with {
    briefly "Type"
    described as {
      |Payment type (card, cash, etc.).
    }
  }
  cardLast4: String(4,4)? with {
    briefly "Card"
    described as {
      |Last 4 digits of card.
    }
  }
  cardholderName: String(1,200)? with {
    briefly "Cardholder"
    described as {
      |Name on card.
    }
  }
  billingAddress: Address? with {
    briefly "Billing"
    described as {
      |Billing address.
    }
  }
} with {
  briefly "Payment method"
  described as {
    |Payment instrument details.
  }
}
type CancellationInfo is {
  cancelledAt: TimeStamp with {
    briefly "Cancelled"
    described as {
      |Cancellation timestamp.
    }
  }
  cancelledBy: String(1,200) with {
    briefly "By"
    described as {
      |Who cancelled.
    }
  }
  reason: String(1,500) with {
    briefly "Reason"
    described as {
      |Cancellation reason.
    }
  }
  penaltyAmount: Decimal(10,2) with {
    briefly "Penalty"
    described as {
      |Cancellation penalty.
    }
  }
  refundAmount: Decimal(10,2) with {
    briefly "Refund"
    described as {
      |Refund amount.
    }
  }
} with {
  briefly "Cancellation info"
  described as {
    |Cancellation details.
  }
}
