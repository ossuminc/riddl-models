// Airline Reservations - Shared Types

type ReservationId is Id(ReservationContext.Reservation) with {
  briefly "Reservation identifier"
  described by "Unique identifier for a reservation."
}

type PassengerId is UUID with {
  briefly "Passenger identifier"
  described by "Reference to a passenger."
}

type FlightId is UUID with {
  briefly "Flight identifier"
  described by "Reference to a flight."
}

type SeatId is UUID with {
  briefly "Seat identifier"
  described by "Reference to a seat."
}

type AirportCode is String(3, 3) with {
  briefly "Airport code"
  described by "IATA airport code."
}

type ReservationStatus is any of {
  Pending,
  Confirmed,
  CheckedIn,
  Boarded,
  Completed,
  Cancelled,
  NoShow
} with {
  briefly "Reservation status"
  described by "Current reservation status."
}

type CabinClass is any of {
  Economy,
  PremiumEconomy,
  Business,
  First
} with {
  briefly "Cabin class"
  described by "Travel class."
}

type SeatType is any of {
  Window,
  Middle,
  Aisle,
  ExitRow,
  Bulkhead
} with {
  briefly "Seat type"
  described by "Type of seat."
}

type PaymentStatus is any of {
  Unpaid,
  Pending,
  Paid,
  Refunded,
  PartialRefund
} with {
  briefly "Payment status"
  described by "Payment status."
}

type TripType is any of {
  OneWay,
  RoundTrip,
  MultiCity
} with {
  briefly "Trip type"
  described by "Type of trip."
}

type PassengerInfo is {
  passengerId is PassengerId with {
    briefly "Passenger"
    described by "Passenger identifier."
  }
  firstName is String(1, 100) with {
    briefly "First name"
    described by "First name."
  }
  lastName is String(1, 100) with {
    briefly "Last name"
    described by "Last name."
  }
  email is String(5, 254) with {
    briefly "Email"
    described by "Email address."
  }
  phone is optional String(10, 20) with {
    briefly "Phone"
    described by "Phone number."
  }
  dateOfBirth is Date with {
    briefly "DOB"
    described by "Date of birth."
  }
  passportNumber is optional String(1, 20) with {
    briefly "Passport"
    described by "Passport number."
  }
  passportExpiry is optional Date with {
    briefly "Passport expiry"
    described by "Passport expiration."
  }
  nationality is optional String(2, 50) with {
    briefly "Nationality"
    described by "Nationality."
  }
  frequentFlyerNumber is optional String(1, 20) with {
    briefly "FF number"
    described by "Frequent flyer number."
  }
} with {
  briefly "Passenger info"
  described by "Passenger details."
}

type FlightInfo is {
  flightId is FlightId with {
    briefly "Flight"
    described by "Flight identifier."
  }
  flightNumber is String(2, 10) with {
    briefly "Flight number"
    described by "Flight number."
  }
  airline is String(1, 100) with {
    briefly "Airline"
    described by "Airline name."
  }
  origin is AirportCode with {
    briefly "Origin"
    described by "Departure airport."
  }
  destination is AirportCode with {
    briefly "Destination"
    described by "Arrival airport."
  }
  departureTime is TimeStamp with {
    briefly "Departure"
    described by "Departure time."
  }
  arrivalTime is TimeStamp with {
    briefly "Arrival"
    described by "Arrival time."
  }
  duration is Duration with {
    briefly "Duration"
    described by "Flight duration."
  }
  aircraft is String(1, 50) with {
    briefly "Aircraft"
    described by "Aircraft type."
  }
} with {
  briefly "Flight info"
  described by "Flight details."
}

type SeatInfo is {
  seatId is SeatId with {
    briefly "Seat"
    described by "Seat identifier."
  }
  seatNumber is String(1, 5) with {
    briefly "Number"
    described by "Seat number."
  }
  cabinClass is CabinClass with {
    briefly "Class"
    described by "Cabin class."
  }
  seatType is SeatType with {
    briefly "Type"
    described by "Seat type."
  }
  row is Natural with {
    briefly "Row"
    described by "Row number."
  }
} with {
  briefly "Seat info"
  described by "Seat details."
}

type FlightSegment is {
  segmentNumber is Natural with {
    briefly "Segment"
    described by "Segment number."
  }
  flight is FlightInfo with {
    briefly "Flight"
    described by "Flight info."
  }
  seat is optional SeatInfo with {
    briefly "Seat"
    described by "Assigned seat."
  }
  cabinClass is CabinClass with {
    briefly "Class"
    described by "Booked class."
  }
  fareClass is String(1, 10) with {
    briefly "Fare class"
    described by "Fare class code."
  }
  status is ReservationStatus with {
    briefly "Status"
    described by "Segment status."
  }
} with {
  briefly "Flight segment"
  described by "Individual flight in itinerary."
}

type BaggageAllowance is {
  carryOn is Natural with {
    briefly "Carry-on"
    described by "Carry-on bags allowed."
  }
  checked is Natural with {
    briefly "Checked"
    described by "Checked bags included."
  }
  weightLimit is Natural with {
    briefly "Weight"
    described by "Weight limit per bag (kg)."
  }
} with {
  briefly "Baggage allowance"
  described by "Included baggage."
}

type ExtraBaggage is {
  quantity is Natural with {
    briefly "Quantity"
    described by "Extra bags."
  }
  weightClass is String(1, 20) with {
    briefly "Weight class"
    described by "Bag weight class."
  }
  price is Decimal(10, 2) with {
    briefly "Price"
    described by "Extra baggage fee."
  }
} with {
  briefly "Extra baggage"
  described by "Additional baggage purchase."
}

type MealPreference is any of {
  Regular,
  Vegetarian,
  Vegan,
  Kosher,
  Halal,
  GlutenFree,
  LowSodium,
  ChildMeal,
  None
} with {
  briefly "Meal preference"
  described by "Special meal request."
}

type SpecialService is {
  serviceCode is String(1, 10) with {
    briefly "Code"
    described by "Service code."
  }
  description is String(1, 200) with {
    briefly "Description"
    described by "Service description."
  }
  requested is Boolean with {
    briefly "Requested"
    described by "Whether requested."
  }
} with {
  briefly "Special service"
  described by "Special assistance request."
}

type ReservationPricing is {
  baseFare is Decimal(10, 2) with {
    briefly "Base fare"
    described by "Base ticket price."
  }
  taxes is Decimal(10, 2) with {
    briefly "Taxes"
    described by "Taxes and fees."
  }
  seatUpgrade is optional Decimal(10, 2) with {
    briefly "Seat upgrade"
    described by "Seat upgrade fee."
  }
  extraBaggage is optional Decimal(10, 2) with {
    briefly "Baggage"
    described by "Extra baggage fee."
  }
  insurance is optional Decimal(10, 2) with {
    briefly "Insurance"
    described by "Travel insurance."
  }
  totalAmount is Decimal(10, 2) with {
    briefly "Total"
    described by "Total amount."
  }
  currency is String(3, 3) with {
    briefly "Currency"
    described by "Currency code."
  }
  paymentStatus is PaymentStatus with {
    briefly "Status"
    described by "Payment status."
  }
} with {
  briefly "Reservation pricing"
  described by "Pricing details."
}

type BoardingPass is {
  passNumber is String(1, 20) with {
    briefly "Pass number"
    described by "Boarding pass number."
  }
  gate is String(1, 10) with {
    briefly "Gate"
    described by "Departure gate."
  }
  boardingGroup is String(1, 10) with {
    briefly "Group"
    described by "Boarding group."
  }
  boardingTime is TimeStamp with {
    briefly "Boarding"
    described by "Boarding time."
  }
  sequenceNumber is Natural with {
    briefly "Sequence"
    described by "Boarding sequence."
  }
  barcode is String(1, 500) with {
    briefly "Barcode"
    described by "Boarding barcode."
  }
  issuedAt is TimeStamp with {
    briefly "Issued"
    described by "Issue time."
  }
} with {
  briefly "Boarding pass"
  described by "Boarding pass details."
}
