// Tour Operations - Shared Types

type TourBookingId is Id(TourContext.TourBooking) with {
  briefly "Booking identifier"
  described by "Unique identifier for a tour booking."
}

type TourId is UUID with {
  briefly "Tour identifier"
  described by "Reference to a tour."
}

type CustomerId is UUID with {
  briefly "Customer identifier"
  described by "Reference to a customer."
}

type GuideId is UUID with {
  briefly "Guide identifier"
  described by "Reference to a tour guide."
}

type BookingStatus is any of {
  Pending,
  Confirmed,
  CheckedIn,
  InProgress,
  Completed,
  Cancelled,
  NoShow
} with {
  briefly "Booking status"
  described by "Current booking status."
}

type TourType is any of {
  Walking,
  Bus,
  Boat,
  Cycling,
  Safari,
  Adventure,
  Cultural,
  Culinary,
  Photography,
  MultiDay
} with {
  briefly "Tour type"
  described by "Type of tour."
}

type DifficultyLevel is any of {
  Easy,
  Moderate,
  Challenging,
  Strenuous
} with {
  briefly "Difficulty level"
  described by "Physical difficulty."
}

type PaymentStatus is any of {
  Unpaid,
  Deposit,
  Paid,
  Refunded,
  PartialRefund
} with {
  briefly "Payment status"
  described by "Payment status."
}

type CustomerInfo is {
  customerId is CustomerId with {
    briefly "Customer"
    described by "Customer identifier."
  }
  firstName is String(1, 100) with {
    briefly "First name"
    described by "First name."
  }
  lastName is String(1, 100) with {
    briefly "Last name"
    described by "Last name."
  }
  email is String(5, 254) with {
    briefly "Email"
    described by "Email address."
  }
  phone is String(10, 20) with {
    briefly "Phone"
    described by "Phone number."
  }
  nationality is optional String(2, 50) with {
    briefly "Nationality"
    described by "Nationality."
  }
  emergencyContact is optional String(1, 200) with {
    briefly "Emergency"
    described by "Emergency contact."
  }
  dietaryRestrictions is optional String(1, 500) with {
    briefly "Dietary"
    described by "Dietary restrictions."
  }
  medicalConditions is optional String(1, 500) with {
    briefly "Medical"
    described by "Medical conditions."
  }
} with {
  briefly "Customer info"
  described by "Customer details."
}

type TourInfo is {
  tourId is TourId with {
    briefly "Tour"
    described by "Tour identifier."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Tour name."
  }
  description is String(1, 2000) with {
    briefly "Description"
    described by "Tour description."
  }
  tourType is TourType with {
    briefly "Type"
    described by "Tour type."
  }
  destination is String(1, 200) with {
    briefly "Destination"
    described by "Tour destination."
  }
  duration is Duration with {
    briefly "Duration"
    described by "Tour duration."
  }
  difficulty is DifficultyLevel with {
    briefly "Difficulty"
    described by "Difficulty level."
  }
  maxParticipants is Natural with {
    briefly "Max"
    described by "Maximum participants."
  }
  minParticipants is Natural with {
    briefly "Min"
    described by "Minimum to operate."
  }
  inclusions is many String(1, 200) with {
    briefly "Inclusions"
    described by "What's included."
  }
  exclusions is many optional String(1, 200) with {
    briefly "Exclusions"
    described by "What's not included."
  }
} with {
  briefly "Tour info"
  described by "Tour details."
}

type TourDeparture is {
  departureId is UUID with {
    briefly "Departure"
    described by "Departure identifier."
  }
  tourId is TourId with {
    briefly "Tour"
    described by "Tour identifier."
  }
  startDateTime is TimeStamp with {
    briefly "Start"
    described by "Departure start time."
  }
  endDateTime is TimeStamp with {
    briefly "End"
    described by "Expected end time."
  }
  meetingPoint is String(1, 500) with {
    briefly "Meeting point"
    described by "Where to meet."
  }
  guide is optional GuideInfo with {
    briefly "Guide"
    described by "Assigned guide."
  }
  availableSpots is Natural with {
    briefly "Available"
    described by "Available spots."
  }
  pricePerPerson is Decimal(10, 2) with {
    briefly "Price"
    described by "Price per person."
  }
} with {
  briefly "Tour departure"
  described by "Scheduled departure."
}

type GuideInfo is {
  guideId is GuideId with {
    briefly "Guide"
    described by "Guide identifier."
  }
  name is String(1, 200) with {
    briefly "Name"
    described by "Guide name."
  }
  languages is many String(2, 50) with {
    briefly "Languages"
    described by "Languages spoken."
  }
  specialties is many optional String(1, 100) with {
    briefly "Specialties"
    described by "Guide specialties."
  }
  rating is optional Decimal(3, 2) with {
    briefly "Rating"
    described by "Average rating."
  }
  phone is String(10, 20) with {
    briefly "Phone"
    described by "Contact phone."
  }
} with {
  briefly "Guide info"
  described by "Tour guide details."
}

type ParticipantInfo is {
  firstName is String(1, 100) with {
    briefly "First name"
    described by "First name."
  }
  lastName is String(1, 100) with {
    briefly "Last name"
    described by "Last name."
  }
  dateOfBirth is optional Date with {
    briefly "DOB"
    described by "Date of birth."
  }
  isLeadGuest is Boolean with {
    briefly "Lead"
    described by "Is lead guest."
  }
} with {
  briefly "Participant info"
  described by "Tour participant."
}

type BookingPricing is {
  participants is Natural with {
    briefly "Participants"
    described by "Number of participants."
  }
  pricePerPerson is Decimal(10, 2) with {
    briefly "Per person"
    described by "Price per person."
  }
  subtotal is Decimal(10, 2) with {
    briefly "Subtotal"
    described by "Subtotal."
  }
  addOns is optional Decimal(10, 2) with {
    briefly "Add-ons"
    described by "Add-ons cost."
  }
  discount is optional Decimal(10, 2) with {
    briefly "Discount"
    described by "Discount amount."
  }
  taxes is Decimal(10, 2) with {
    briefly "Taxes"
    described by "Taxes and fees."
  }
  totalAmount is Decimal(10, 2) with {
    briefly "Total"
    described by "Total amount."
  }
  depositRequired is Decimal(10, 2) with {
    briefly "Deposit"
    described by "Required deposit."
  }
  balanceDue is Decimal(10, 2) with {
    briefly "Balance"
    described by "Balance due."
  }
  paymentStatus is PaymentStatus with {
    briefly "Status"
    described by "Payment status."
  }
} with {
  briefly "Booking pricing"
  described by "Pricing details."
}

type TourAddOn is {
  name is String(1, 100) with {
    briefly "Name"
    described by "Add-on name."
  }
  description is String(1, 300) with {
    briefly "Description"
    described by "Add-on description."
  }
  price is Decimal(10, 2) with {
    briefly "Price"
    described by "Add-on price."
  }
  quantity is Natural with {
    briefly "Quantity"
    described by "Quantity."
  }
} with {
  briefly "Tour add-on"
  described by "Optional add-on."
}

type TourCheckIn is {
  checkedInAt is TimeStamp with {
    briefly "Checked in"
    described by "Check-in time."
  }
  checkedInBy is String(1, 200) with {
    briefly "Checked in by"
    described by "Staff member."
  }
  waiverSigned is Boolean with {
    briefly "Waiver"
    described by "Whether waiver signed."
  }
} with {
  briefly "Tour check-in"
  described by "Check-in details."
}
