// Tour Operations - Shared Types
type TourBookingId is Id(TourContext.TourBooking)  with {
  briefly "Booking identifier"
  described as {
    |Unique identifier for a tour booking.
  }
}
type TourId is UUID with {
  briefly "Tour identifier"
  described as {
    |Reference to a tour.
  }
}
type CustomerId is UUID with {
  briefly "Customer identifier"
  described as {
    |Reference to a customer.
  }
}
type GuideId is UUID with {
  briefly "Guide identifier"
  described as {
    |Reference to a tour guide.
  }
}
type BookingStatus is any of {
  Pending,
  Confirmed,
  CheckedIn,
  InProgress,
  Completed,
  Cancelled,
  NoShow
} with {
  briefly "Booking status"
  described as {
    |Current booking status.
  }
}
type TourType is any of {
  Walking,
  Bus,
  Boat,
  Cycling,
  Safari,
  Adventure,
  Cultural,
  Culinary,
  Photography,
  MultiDay
} with {
  briefly "Tour type"
  described as {
    |Type of tour.
  }
}
type DifficultyLevel is any of {
  Easy,
  Moderate,
  Challenging,
  Strenuous
} with {
  briefly "Difficulty level"
  described as {
    |Physical difficulty.
  }
}
type PaymentStatus is any of {
  Unpaid,
  Deposit,
  Paid,
  Refunded,
  PartialRefund
} with {
  briefly "Payment status"
  described as {
    |Payment status.
  }
}
type CustomerInfo is {
  customerId: CustomerId with {
    briefly "Customer"
    described as {
      |Customer identifier.
    }
  }
  firstName: String(1,100) with {
    briefly "First name"
    described as {
      |First name.
    }
  }
  lastName: String(1,100) with {
    briefly "Last name"
    described as {
      |Last name.
    }
  }
  email: String(5,254) with {
    briefly "Email"
    described as {
      |Email address.
    }
  }
  phone: String(10,20) with {
    briefly "Phone"
    described as {
      |Phone number.
    }
  }
  nationality: String(2,50)? with {
    briefly "Nationality"
    described as {
      |Nationality.
    }
  }
  emergencyContact: String(1,200)? with {
    briefly "Emergency"
    described as {
      |Emergency contact.
    }
  }
  dietaryRestrictions: String(1,500)? with {
    briefly "Dietary"
    described as {
      |Dietary restrictions.
    }
  }
  medicalConditions: String(1,500)? with {
    briefly "Medical"
    described as {
      |Medical conditions.
    }
  }
} with {
  briefly "Customer info"
  described as {
    |Customer details.
  }
}
type TourInfo is {
  tourId: TourId with {
    briefly "Tour"
    described as {
      |Tour identifier.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Tour name.
    }
  }
  description: String(1,2000) with {
    briefly "Description"
    described as {
      |Tour description.
    }
  }
  tourType: TourType with {
    briefly "Type"
    described as {
      |Tour type.
    }
  }
  destination: String(1,200) with {
    briefly "Destination"
    described as {
      |Tour destination.
    }
  }
  duration: Duration with {
    briefly "Duration"
    described as {
      |Tour duration.
    }
  }
  difficulty: DifficultyLevel with {
    briefly "Difficulty"
    described as {
      |Difficulty level.
    }
  }
  maxParticipants: Natural with {
    briefly "Max"
    described as {
      |Maximum participants.
    }
  }
  minParticipants: Natural with {
    briefly "Min"
    described as {
      |Minimum to operate.
    }
  }
  inclusions: String(1,200)+ with {
    briefly "Inclusions"
    described as {
      |What's included.
    }
  }
  exclusions: String(1,200)* with {
    briefly "Exclusions"
    described as {
      |What's not included.
    }
  }
} with {
  briefly "Tour info"
  described as {
    |Tour details.
  }
}
type TourDeparture is {
  departureId: UUID with {
    briefly "Departure"
    described as {
      |Departure identifier.
    }
  }
  tourId: TourId with {
    briefly "Tour"
    described as {
      |Tour identifier.
    }
  }
  startDateTime: TimeStamp with {
    briefly "Start"
    described as {
      |Departure start time.
    }
  }
  endDateTime: TimeStamp with {
    briefly "End"
    described as {
      |Expected end time.
    }
  }
  meetingPoint: String(1,500) with {
    briefly "Meeting point"
    described as {
      |Where to meet.
    }
  }
  assignedGuide: GuideInfo? with {
    briefly "Guide"
    described as {
      |Assigned guide.
    }
  }
  availableSpots: Natural with {
    briefly "Available"
    described as {
      |Available spots.
    }
  }
  pricePerPerson: Decimal(10,2) with {
    briefly "Price"
    described as {
      |Price per person.
    }
  }
} with {
  briefly "Tour departure"
  described as {
    |Scheduled departure.
  }
}
type GuideInfo is {
  guideId: GuideId with {
    briefly "Guide"
    described as {
      |Guide identifier.
    }
  }
  name: String(1,200) with {
    briefly "Name"
    described as {
      |Guide name.
    }
  }
  languages: String(2,50)+ with {
    briefly "Languages"
    described as {
      |Languages spoken.
    }
  }
  specialties: String(1,100)* with {
    briefly "Specialties"
    described as {
      |Guide specialties.
    }
  }
  guideAverageRating: Decimal(3,2)? with {
    briefly "Rating"
    described as {
      |Average rating.
    }
  }
  phone: String(10,20) with {
    briefly "Phone"
    described as {
      |Contact phone.
    }
  }
} with {
  briefly "Guide info"
  described as {
    |Tour guide details.
  }
}
type ParticipantInfo is {
  firstName: String(1,100) with {
    briefly "First name"
    described as {
      |First name.
    }
  }
  lastName: String(1,100) with {
    briefly "Last name"
    described as {
      |Last name.
    }
  }
  dateOfBirth: Date? with {
    briefly "DOB"
    described as {
      |Date of birth.
    }
  }
  isLeadGuest: Boolean with {
    briefly "Lead"
    described as {
      |Is lead guest.
    }
  }
} with {
  briefly "Participant info"
  described as {
    |Tour participant.
  }
}
type BookingPricing is {
  participantCount: Natural with {
    briefly "Participants"
    described as {
      |Number of participants.
    }
  }
  pricePerPerson: Decimal(10,2) with {
    briefly "Per person"
    described as {
      |Price per person.
    }
  }
  subtotal: Decimal(10,2) with {
    briefly "Subtotal"
    described as {
      |Subtotal.
    }
  }
  addOnsCost: Decimal(10,2)? with {
    briefly "Add-ons"
    described as {
      |Add-ons cost.
    }
  }
  discount: Decimal(10,2)? with {
    briefly "Discount"
    described as {
      |Discount amount.
    }
  }
  taxes: Decimal(10,2) with {
    briefly "Taxes"
    described as {
      |Taxes and fees.
    }
  }
  totalAmount: Decimal(10,2) with {
    briefly "Total"
    described as {
      |Total amount.
    }
  }
  depositRequired: Decimal(10,2) with {
    briefly "Deposit"
    described as {
      |Required deposit.
    }
  }
  balanceDue: Decimal(10,2) with {
    briefly "Balance"
    described as {
      |Balance due.
    }
  }
  paymentStatus: PaymentStatus with {
    briefly "Status"
    described as {
      |Payment status.
    }
  }
} with {
  briefly "Booking pricing"
  described as {
    |Pricing details.
  }
}
type TourAddOn is {
  name: String(1,100) with {
    briefly "Name"
    described as {
      |Add-on name.
    }
  }
  description: String(1,300) with {
    briefly "Description"
    described as {
      |Add-on description.
    }
  }
  price: Decimal(10,2) with {
    briefly "Price"
    described as {
      |Add-on price.
    }
  }
  quantity: Natural with {
    briefly "Quantity"
    described as {
      |Quantity.
    }
  }
} with {
  briefly "Tour add-on"
  described as {
    |Optional add-on.
  }
}
type TourCheckIn is {
  checkedInAt: TimeStamp with {
    briefly "Checked in"
    described as {
      |Check-in time.
    }
  }
  checkedInBy: String(1,200) with {
    briefly "Checked in by"
    described as {
      |Staff member.
    }
  }
  waiverSigned: Boolean with {
    briefly "Waiver"
    described as {
      |Whether waiver signed.
    }
  }
} with {
  briefly "Tour check-in"
  described as {
    |Check-in details.
  }
}
