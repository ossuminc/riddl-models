// Subscriber Management - Shared Types

type EmailAddress is String(5, 254) with {
  briefly "Email address"
  described by "An email address."
}

type SubscriberId is Id(SubscriberContext.Subscriber) with {
  briefly "Subscriber identifier"
  described by "Unique identifier for a subscriber."
}

type AccountId is UUID with {
  briefly "Account identifier"
  described by "Reference to billing account."
}

type ServiceLineId is UUID with {
  briefly "Service line identifier"
  described by "Reference to a service line."
}

type SubscriberStatus is any of {
  Pending,
  Active,
  Suspended,
  Disconnected,
  Cancelled
} with {
  briefly "Subscriber status"
  described by "Subscriber account status."
}

type AccountType is any of {
  Individual,
  Family,
  SmallBusiness,
  Enterprise
} with {
  briefly "Account type"
  described by "Type of subscriber account."
}

type ServiceType is any of {
  Wireless,
  Landline,
  Internet,
  Television,
  Bundle
} with {
  briefly "Service type"
  described by "Type of telecom service."
}

type PaymentMethod is any of {
  CreditCard,
  DebitCard,
  BankAccount,
  Invoice,
  Prepaid
} with {
  briefly "Payment method"
  described by "Billing payment method."
}

type ContactInfo is {
  firstName is String(1, 100) with {
    briefly "First name"
    described by "Contact first name."
  }
  lastName is String(1, 100) with {
    briefly "Last name"
    described by "Contact last name."
  }
  email is EmailAddress with {
    briefly "Email"
    described by "Email address."
  }
  phone is String(1, 20) with {
    briefly "Phone"
    described by "Phone number."
  }
  address is String(1, 300) with {
    briefly "Address"
    described by "Mailing address."
  }
} with {
  briefly "Contact info"
  described by "Subscriber contact information."
}

type ServicePlan is {
  planId is UUID with {
    briefly "Plan"
    described by "Plan identifier."
  }
  planName is String(1, 100) with {
    briefly "Name"
    described by "Plan name."
  }
  monthlyRate is Decimal(8, 2) with {
    briefly "Rate"
    described by "Monthly rate."
  }
  dataAllowance is optional Natural with {
    briefly "Data"
    described by "Data allowance GB."
  }
  minutesAllowance is optional Natural with {
    briefly "Minutes"
    described by "Voice minutes."
  }
  features is many String(1, 100) with {
    briefly "Features"
    described by "Included features."
  }
} with {
  briefly "Service plan"
  described by "Subscription plan details."
}

type ServiceLine is {
  lineId is ServiceLineId with {
    briefly "Line"
    described by "Service line ID."
  }
  phoneNumber is String(1, 20) with {
    briefly "Phone"
    described by "Phone number."
  }
  serviceType is ServiceType with {
    briefly "Type"
    described by "Service type."
  }
  plan is ServicePlan with {
    briefly "Plan"
    described by "Service plan."
  }
  activatedAt is TimeStamp with {
    briefly "Activated"
    described by "Activation time."
  }
  deviceId is optional String(1, 50) with {
    briefly "Device"
    described by "Associated device."
  }
} with {
  briefly "Service line"
  described by "Individual service line."
}

type DeviceInfo is {
  deviceId is String(1, 50) with {
    briefly "Device"
    described by "Device identifier."
  }
  manufacturer is String(1, 100) with {
    briefly "Make"
    described by "Device manufacturer."
  }
  model is String(1, 100) with {
    briefly "Model"
    described by "Device model."
  }
  imei is optional String(1, 20) with {
    briefly "IMEI"
    described by "Device IMEI."
  }
  simNumber is optional String(1, 30) with {
    briefly "SIM"
    described by "SIM card number."
  }
} with {
  briefly "Device info"
  described by "Subscriber device details."
}

type SubscriptionChange is {
  changeId is UUID with {
    briefly "Change"
    described by "Change identifier."
  }
  changeType is String(1, 50) with {
    briefly "Type"
    described by "Change type."
  }
  effectiveDate is Date with {
    briefly "Effective"
    described by "Effective date."
  }
  previousValue is optional String(1, 200) with {
    briefly "Previous"
    described by "Previous value."
  }
  newValue is String(1, 200) with {
    briefly "New"
    described by "New value."
  }
  requestedBy is String(1, 100) with {
    briefly "Requested by"
    described by "Requester."
  }
} with {
  briefly "Subscription change"
  described by "Plan or service change record."
}

type SupportTicket is {
  ticketId is UUID with {
    briefly "Ticket"
    described by "Ticket identifier."
  }
  category is String(1, 50) with {
    briefly "Category"
    described by "Issue category."
  }
  description is String(1, 1000) with {
    briefly "Description"
    described by "Issue description."
  }
  priority is String(1, 20) with {
    briefly "Priority"
    described by "Ticket priority."
  }
  status is String(1, 30) with {
    briefly "Status"
    described by "Ticket status."
  }
  createdAt is TimeStamp with {
    briefly "Created"
    described by "Creation time."
  }
} with {
  briefly "Support ticket"
  described by "Customer support ticket."
}
