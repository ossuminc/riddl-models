// Usage Billing Domain Model for Telecommunications Network Billing
// Handles metered usage collection, rating, and invoice generation

author OssumInc is {
  name: "Ossum Inc."
  email: "support@ossuminc.com"
} briefly "The author of the usage-billing domain model"
  described by "Ossum Inc. provides enterprise software solutions and domain models."

domain UsageBilling is {
  include "types.riddl"
  include "external-contexts.riddl"
  include "BillingContext.riddl"

  user AccountManager is "manages customer billing accounts and resolves disputes"
    briefly "Staff member responsible for billing account management"
    described by {
      | Account managers handle customer inquiries, resolve billing disputes,
      | adjust account settings, and ensure accurate invoicing for telecommunications
      | services including voice, data, and messaging usage.
    }

  user Customer is "views bills, pays invoices, and monitors usage"
    briefly "End customer who consumes telecommunications services"
    described by {
      | Customers are the end users of telecommunications services who need to
      | view their usage details, understand their bills, make payments, and
      | track their consumption against plan limits.
    }

  user BillingAnalyst is "analyzes billing patterns and generates reports"
    briefly "Analyst responsible for billing metrics and reporting"
    described by {
      | Billing analysts review usage patterns, identify anomalies, generate
      | revenue reports, and provide insights for pricing optimization and
      | fraud detection in the telecommunications billing system.
    }

  epic ManageUsageBilling is {
    user AccountManager wants "to accurately bill customers for network usage"
      so that "revenue is captured and customers trust the billing process"

    case HappyPath is {
      step from user AccountManager "views usage records for a billing period"
        briefly "Review collected usage data"
      step from user AccountManager "verifies rating and charges are correct"
        briefly "Validate applied rates"
      step from user AccountManager "generates and sends invoice to customer"
        briefly "Produce customer invoice"
      step from user Customer "receives and reviews invoice"
        briefly "Customer reviews charges"
      step from user Customer "makes payment for the invoice"
        briefly "Payment submitted"
    } briefly "Standard billing workflow from usage to payment"
      described by {
        | This case covers the normal flow where usage is collected, rated,
        | invoiced, and paid without any disputes or adjustments needed.
      }

    case DisputeResolution is {
      step from user Customer "disputes a charge on their invoice"
        briefly "Customer raises dispute"
      step from user AccountManager "investigates the disputed usage records"
        briefly "Review disputed items"
      step from user AccountManager "applies credit or adjustment if warranted"
        briefly "Resolve dispute"
      step from user Customer "receives updated invoice or credit"
        briefly "Customer notified of resolution"
    } briefly "Handling billing disputes and adjustments"
      described by {
        | This case handles situations where customers question charges,
        | requiring investigation and potential adjustments to their account.
      }
  } briefly "Epic for managing the complete usage billing lifecycle"
    described by {
      | This epic covers all aspects of usage-based billing including
      | collection of network usage data, applying rate plans, generating
      | invoices, handling payments, and resolving billing disputes.
    }

} briefly "Telecommunications usage billing domain"
  described by {
    | The Usage Billing domain handles all aspects of metered billing for
    | telecommunications services. It collects usage records from network
    | elements, applies rating based on customer rate plans, generates
    | invoices, and manages the payment and dispute resolution lifecycle.
    | This domain integrates with network mediation systems for usage data
    | and payment gateways for transaction processing.
  }
