// Network Operations - Shared Types

type IncidentId is Id(OperationsContext.NetworkIncident) with {
  briefly "Incident identifier"
  described by "Unique identifier for a network incident."
}

type ChangeRequestId is UUID with {
  briefly "Change request identifier"
  described by "Reference to a change request."
}

type NetworkElementId is UUID with {
  briefly "Network element identifier"
  described by "Reference to a managed network element."
}

type OperatorId is UUID with {
  briefly "Operator identifier"
  described by "Reference to a NOC operator."
}

type IncidentStatus is any of {
  Detected,
  Acknowledged,
  Investigating,
  Escalated,
  Mitigating,
  Resolved,
  Closed
} with {
  briefly "Incident status"
  described by "Network incident lifecycle status."
}

type IncidentSeverity is any of {
  Critical,
  Major,
  Minor,
  Warning,
  Informational
} with {
  briefly "Incident severity"
  described by "Severity level of a network incident."
}

type IncidentCategory is any of {
  LinkFailure,
  HardwareFault,
  SoftwareBug,
  Congestion,
  SecurityBreach,
  PowerOutage,
  ConfigurationError,
  ExternalDependency
} with {
  briefly "Incident category"
  described by "Classification of the incident root cause."
}

type AffectedService is {
  serviceId is UUID with {
    briefly "Service ID"
    described by "Affected service identifier."
  }
  serviceName is String(3, 200) with {
    briefly "Service name"
    described by "Name of the affected service."
  }
  impactLevel is String(3, 50) with {
    briefly "Impact"
    described by "Impact level on this service."
  }
} with {
  briefly "Affected service"
  described by "A service impacted by the incident."
}

type IncidentInfo is {
  incidentId is IncidentId with {
    briefly "Incident ID"
    described by "Incident identifier."
  }
  title is String(3, 300) with {
    briefly "Title"
    described by "Incident title."
  }
  description is String(3, 2000) with {
    briefly "Description"
    described by "Detailed incident description."
  }
  severity is IncidentSeverity with {
    briefly "Severity"
    described by "Incident severity level."
  }
  category is IncidentCategory with {
    briefly "Category"
    described by "Incident category."
  }
  reportedBy is OperatorId with {
    briefly "Reporter"
    described by "Operator who reported the incident."
  }
  reportedAt is TimeStamp with {
    briefly "Reported"
    described by "Time the incident was reported."
  }
} with {
  briefly "Incident info"
  described by "Core incident details."
}

type DiagnosticResult is {
  diagnosticId is UUID with {
    briefly "Diagnostic ID"
    described by "Diagnostic run identifier."
  }
  elementId is NetworkElementId with {
    briefly "Element"
    described by "Diagnosed network element."
  }
  findings is String(3, 2000) with {
    briefly "Findings"
    described by "Diagnostic findings."
  }
  ranAt is TimeStamp with {
    briefly "Run time"
    described by "Time diagnostic was run."
  }
} with {
  briefly "Diagnostic result"
  described by "Result of a diagnostic check."
}

type EscalationInfo is {
  escalatedTo is OperatorId with {
    briefly "Escalated to"
    described by "Person receiving escalation."
  }
  escalationLevel is Natural with {
    briefly "Level"
    described by "Escalation tier level."
  }
  reason is String(3, 500) with {
    briefly "Reason"
    described by "Reason for escalation."
  }
  escalatedAt is TimeStamp with {
    briefly "Escalated at"
    described by "Time of escalation."
  }
} with {
  briefly "Escalation info"
  described by "Details of an incident escalation."
}

type ResolutionInfo is {
  rootCause is String(3, 1000) with {
    briefly "Root cause"
    described by "Root cause analysis."
  }
  resolution is String(3, 1000) with {
    briefly "Resolution"
    described by "Resolution steps taken."
  }
  resolvedBy is OperatorId with {
    briefly "Resolved by"
    described by "Operator who resolved the incident."
  }
  resolvedAt is TimeStamp with {
    briefly "Resolved at"
    described by "Time incident was resolved."
  }
} with {
  briefly "Resolution info"
  described by "Incident resolution details."
}

type TimelineEntry is {
  entryId is UUID with {
    briefly "Entry ID"
    described by "Timeline entry identifier."
  }
  action is String(3, 500) with {
    briefly "Action"
    described by "Action taken."
  }
  performedBy is OperatorId with {
    briefly "Performed by"
    described by "Operator who performed the action."
  }
  performedAt is TimeStamp with {
    briefly "Performed at"
    described by "Time action was performed."
  }
} with {
  briefly "Timeline entry"
  described by "A recorded action in the incident timeline."
}

type HealthMetric is {
  elementId is NetworkElementId with {
    briefly "Element"
    described by "Network element identifier."
  }
  metricName is String(3, 100) with {
    briefly "Metric"
    described by "Name of the metric."
  }
  currentValue is Decimal(12, 4) with {
    briefly "Value"
    described by "Current metric value."
  }
  threshold is Decimal(12, 4) with {
    briefly "Threshold"
    described by "Alert threshold value."
  }
  collectedAt is TimeStamp with {
    briefly "Collected"
    described by "Collection time."
  }
} with {
  briefly "Health metric"
  described by "A network health measurement."
}
