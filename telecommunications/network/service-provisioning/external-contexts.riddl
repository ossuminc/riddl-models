// Service Provisioning - External Contexts

context NetworkInventorySystem is {

  query GetAvailableResources is {
    serviceAddress is String(1, 300) with { briefly "Address" described by "Service address." }
    serviceType is ServiceType with { briefly "Type" described by "Service type." }
  } with {
    briefly "Get available resources"
    described by "Finds available network resources."
  }

  result AvailableResources is {
    resources is many NetworkResource with { briefly "Resources" described by "Available resources." }
    hasCapacity is Boolean with { briefly "Capacity" described by "Has capacity." }
  } with {
    briefly "Available resources"
    described by "Network resource availability."
  }

  command ReserveResources is {
    orderId is ServiceOrderId with { briefly "Order" described by "Order ID." }
    resources is many NetworkResource with { briefly "Resources" described by "Resources to reserve." }
  } with {
    briefly "Reserve resources"
    described by "Reserves network resources."
  }

  event ResourcesReserved is {
    orderId is ServiceOrderId with { briefly "Order" described by "Order ID." }
    reservedAt is TimeStamp with { briefly "Reserved" described by "Reservation time." }
  } with {
    briefly "Resources reserved"
    described by "Emitted when resources are reserved."
  }

} with {
  option is external
  briefly "External network inventory"
  described by "Network inventory management system."
}

context NetworkElementManager is {

  command ConfigureElement is {
    elementId is NetworkElementId with { briefly "Element" described by "Element ID." }
    configuration is String(1, 5000) with { briefly "Config" described by "Configuration commands." }
  } with {
    briefly "Configure element"
    described by "Configures network element."
  }

  event ElementConfigured is {
    elementId is NetworkElementId with { briefly "Element" described by "Element ID." }
    configuredAt is TimeStamp with { briefly "Configured" described by "Configuration time." }
    success is Boolean with { briefly "Success" described by "Configuration success." }
  } with {
    briefly "Element configured"
    described by "Emitted when element is configured."
  }

  query GetElementStatus is {
    elementId is NetworkElementId with { briefly "Element" described by "Element ID." }
  } with {
    briefly "Get element status"
    described by "Gets network element status."
  }

  result ElementStatus is {
    elementId is NetworkElementId with { briefly "Element" described by "Element ID." }
    status is String(1, 50) with { briefly "Status" described by "Element status." }
    lastContact is TimeStamp with { briefly "Contact" described by "Last contact time." }
  } with {
    briefly "Element status"
    described by "Network element status."
  }

} with {
  option is external
  briefly "External network element manager"
  described by "Network element management system."
}

context ServiceTestingSystem is {

  command RunServiceTest is {
    orderId is ServiceOrderId with { briefly "Order" described by "Order ID." }
    testType is String(1, 100) with { briefly "Type" described by "Test type." }
    serviceSpec is ServiceSpec with { briefly "Spec" described by "Service spec." }
  } with {
    briefly "Run service test"
    described by "Runs automated service test."
  }

  event TestCompleted is {
    orderId is ServiceOrderId with { briefly "Order" described by "Order ID." }
    result is TestResult with { briefly "Result" described by "Test result." }
  } with {
    briefly "Test completed"
    described by "Emitted when test completes."
  }

} with {
  option is external
  briefly "External service testing"
  described by "Automated service testing system."
}
