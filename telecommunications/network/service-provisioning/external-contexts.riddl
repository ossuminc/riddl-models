// Service Provisioning - External Contexts
context NetworkInventorySystem is {
  query GetAvailableResources is  {
    serviceAddress: String(1,300) with {
      briefly "Address"
      described as {
        |Service address.
      }
    }
    serviceType: ServiceType with {
      briefly "Type"
      described as {
        |Service type.
      }
    }
  } with {
    briefly "Get available resources"
    described as {
      |Finds available network resources.
    }
  }
  result AvailableResources is  {
    resources: NetworkResource+ with {
      briefly "Resources"
      described as {
        |Available resources.
      }
    }
    hasCapacity: Boolean with {
      briefly "Capacity"
      described as {
        |Has capacity.
      }
    }
  } with {
    briefly "Available resources"
    described as {
      |Network resource availability.
    }
  }
  command ReserveResources is  {
    orderId: ServiceOrderId with {
      briefly "Order"
      described as {
        |Order ID.
      }
    }
    resources: NetworkResource+ with {
      briefly "Resources"
      described as {
        |Resources to reserve.
      }
    }
  } with {
    briefly "Reserve resources"
    described as {
      |Reserves network resources.
    }
  }
  event ResourcesReserved is  {
    orderId: ServiceOrderId with {
      briefly "Order"
      described as {
        |Order ID.
      }
    }
    reservedAt: TimeStamp with {
      briefly "Reserved"
      described as {
        |Reservation time.
      }
    }
  } with {
    briefly "Resources reserved"
    described as {
      |Emitted when resources are reserved.
    }
  }
} with {
  option external()
  briefly "External network inventory"
  described as {
    |Network inventory management system.
  }
}
context NetworkElementManager is {
  command ConfigureElement is  {
    elementId: NetworkElementId with {
      briefly "Element"
      described as {
        |Element ID.
      }
    }
    configuration: String(1,5000) with {
      briefly "Config"
      described as {
        |Configuration commands.
      }
    }
  } with {
    briefly "Configure element"
    described as {
      |Configures network element.
    }
  }
  event ElementConfigured is  {
    elementId: NetworkElementId with {
      briefly "Element"
      described as {
        |Element ID.
      }
    }
    configuredAt: TimeStamp with {
      briefly "Configured"
      described as {
        |Configuration time.
      }
    }
    success: Boolean with {
      briefly "Success"
      described as {
        |Configuration success.
      }
    }
  } with {
    briefly "Element configured"
    described as {
      |Emitted when element is configured.
    }
  }
  query GetElementStatus is  {
    elementId: NetworkElementId with {
      briefly "Element"
      described as {
        |Element ID.
      }
    }
  } with {
    briefly "Get element status"
    described as {
      |Gets network element status.
    }
  }
  result ElementStatus is  {
    elementId: NetworkElementId with {
      briefly "Element"
      described as {
        |Element ID.
      }
    }
    elementStatus: String(1,50) with {
      briefly "Status"
      described as {
        |Element status.
      }
    }
    lastContact: TimeStamp with {
      briefly "Contact"
      described as {
        |Last contact time.
      }
    }
  } with {
    briefly "Element status"
    described as {
      |Network element status.
    }
  }
} with {
  option external()
  briefly "External network element manager"
  described as {
    |Network element management system.
  }
}
context ServiceTestingSystem is {
  command RunServiceTest is  {
    orderId: ServiceOrderId with {
      briefly "Order"
      described as {
        |Order ID.
      }
    }
    testType: String(1,100) with {
      briefly "Type"
      described as {
        |Test type.
      }
    }
    serviceSpec: ServiceSpec with {
      briefly "Spec"
      described as {
        |Service spec.
      }
    }
  } with {
    briefly "Run service test"
    described as {
      |Runs automated service test.
    }
  }
  event TestCompleted is  {
    orderId: ServiceOrderId with {
      briefly "Order"
      described as {
        |Order ID.
      }
    }
    result: TestResult with {
      briefly "Result"
      described as {
        |Test result.
      }
    }
  } with {
    briefly "Test completed"
    described as {
      |Emitted when test completes.
    }
  }
} with {
  option external()
  briefly "External service testing"
  described as {
    |Automated service testing system.
  }
}
