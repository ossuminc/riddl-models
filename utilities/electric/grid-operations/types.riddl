// Grid Operations - Shared Types

type GridSectionId is Id(GridContext.GridSection) with {
  briefly "Grid section identifier"
  described by "Unique identifier for a grid section."
}

type SubstationId is UUID with {
  briefly "Substation identifier"
  described by "Reference to a substation."
}

type FeederId is UUID with {
  briefly "Feeder identifier"
  described by "Reference to a distribution feeder."
}

type OutageId is UUID with {
  briefly "Outage identifier"
  described by "Reference to an outage event."
}

type GeneratorId is UUID with {
  briefly "Generator identifier"
  described by "Reference to a generation unit."
}

type GridStatus is any of {
  Normal,
  Alert,
  Emergency,
  Restoration,
  Maintenance
} with {
  briefly "Grid status"
  described by "Current grid operating status."
}

type OutageType is any of {
  Planned,
  Unplanned,
  Momentary,
  Sustained,
  MajorEvent
} with {
  briefly "Outage type"
  described by "Type of outage event."
}

type OutageStatus is any of {
  Reported,
  Confirmed,
  CrewDispatchedStatus,
  UnderRepair,
  Restored,
  Closed
} with {
  briefly "Outage status"
  described by "Current outage status."
}

type LoadInfo is {
  timestamp is TimeStamp with {
    briefly "Timestamp"
    described by "Reading timestamp."
  }
  loadMW is Decimal(10, 2) with {
    briefly "Load MW"
    described by "Load in megawatts."
  }
  loadMVAR is Decimal(10, 2) with {
    briefly "Load MVAR"
    described by "Reactive load in MVAR."
  }
  voltage is Decimal(6, 2) with {
    briefly "Voltage"
    described by "Voltage in kV."
  }
  frequency is Decimal(5, 3) with {
    briefly "Frequency"
    described by "Frequency in Hz."
  }
} with {
  briefly "Load information"
  described by "Grid load and voltage readings."
}

type GenerationUnit is {
  generatorId is GeneratorId with {
    briefly "Generator"
    described by "Generator identifier."
  }
  name is String(1, 100) with {
    briefly "Name"
    described by "Unit name."
  }
  fuelType is String(1, 50) with {
    briefly "Fuel"
    described by "Fuel type."
  }
  capacityMW is Decimal(10, 2) with {
    briefly "Capacity"
    described by "Capacity in MW."
  }
  currentOutputMW is Decimal(10, 2) with {
    briefly "Output"
    described by "Current output MW."
  }
  unitStatus is String(1, 50) with {
    briefly "Status"
    described by "Unit status."
  }
} with {
  briefly "Generation unit"
  described by "Power generation unit information."
}

type OutageInfo is {
  outageId is OutageId with {
    briefly "Outage ID"
    described by "Outage identifier."
  }
  outageType is OutageType with {
    briefly "Type"
    described by "Outage type."
  }
  reportedAt is TimeStamp with {
    briefly "Reported"
    described by "Time reported."
  }
  affectedCustomers is Natural with {
    briefly "Customers"
    described by "Affected customer count."
  }
  cause is optional String(1, 500) with {
    briefly "Cause"
    described by "Outage cause."
  }
  estimatedRestoration is optional TimeStamp with {
    briefly "ETR"
    described by "Estimated restoration time."
  }
} with {
  briefly "Outage information"
  described by "Outage event details."
}

type CrewAssignment is {
  crewId is String(1, 50) with {
    briefly "Crew"
    described by "Crew identifier."
  }
  assignedAt is TimeStamp with {
    briefly "Assigned"
    described by "Assignment time."
  }
  arrivedAt is optional TimeStamp with {
    briefly "Arrived"
    described by "Arrival time."
  }
  crewStatus is String(1, 50) with {
    briefly "Status"
    described by "Crew status."
  }
} with {
  briefly "Crew assignment"
  described by "Repair crew assignment."
}

type SwitchingOrder is {
  orderId is UUID with {
    briefly "Order ID"
    described by "Switching order identifier."
  }
  description is String(1, 500) with {
    briefly "Description"
    described by "Switching description."
  }
  steps is many String(1, 200) with {
    briefly "Steps"
    described by "Switching steps."
  }
  authorizedBy is String(1, 100) with {
    briefly "Authorized"
    described by "Authorizing person."
  }
  orderExecutedAt is optional TimeStamp with {
    briefly "Executed"
    described by "Execution time."
  }
} with {
  briefly "Switching order"
  described by "Grid switching order."
}
