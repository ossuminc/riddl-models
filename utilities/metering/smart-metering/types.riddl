// Smart Metering - Shared Types
type MeterId is Id(MeteringContext.Meter)  with {
  briefly "Meter identifier"
  described as {
    |Unique identifier for a meter.
  }
}
type AccountId is UUID with {
  briefly "Account identifier"
  described as {
    |Reference to customer account.
  }
}
type ReadingId is UUID with {
  briefly "Reading identifier"
  described as {
    |Reference to a meter reading.
  }
}
type MeterStatus is any of {
  Active,
  Inactive,
  Maintenance,
  Disconnected,
  Decommissioned
} with {
  briefly "Meter status"
  described as {
    |Meter operational status.
  }
}
type MeterType is any of {
  Electric,
  Gas,
  Water,
  DualFuel
} with {
  briefly "Meter type"
  described as {
    |Type of utility metered.
  }
}
type ReadingType is any of {
  Scheduled,
  OnDemand,
  CustomerInitiated,
  Diagnostic
} with {
  briefly "Reading type"
  described as {
    |Type of meter reading.
  }
}
type AlertSeverity is any of {
  Info,
  Warning,
  Critical
} with {
  briefly "Alert severity"
  described as {
    |Meter alert severity level.
  }
}
type MeterInfo is {
  serialNumber: String(1,50) with {
    briefly "Serial"
    described as {
      |Meter serial number.
    }
  }
  meterType: MeterType with {
    briefly "Type"
    described as {
      |Meter type.
    }
  }
  manufacturer: String(1,100) with {
    briefly "Manufacturer"
    described as {
      |Meter manufacturer.
    }
  }
  model: String(1,100) with {
    briefly "Model"
    described as {
      |Meter model.
    }
  }
  firmwareVersion: String(1,20) with {
    briefly "Firmware"
    described as {
      |Firmware version.
    }
  }
  installDate: Date with {
    briefly "Installed"
    described as {
      |Installation date.
    }
  }
  serviceAddress: String(1,300) with {
    briefly "Address"
    described as {
      |Service address.
    }
  }
} with {
  briefly "Meter info"
  described as {
    |Meter device information.
  }
}
type MeterReading is {
  readingId: ReadingId with {
    briefly "Reading"
    described as {
      |Reading identifier.
    }
  }
  timestamp: TimeStamp with {
    briefly "Time"
    described as {
      |Reading timestamp.
    }
  }
  readingType: ReadingType with {
    briefly "Type"
    described as {
      |Reading type.
    }
  }
  value: Decimal(15,3) with {
    briefly "Value"
    described as {
      |Meter reading value.
    }
  }
  unit: String(1,20) with {
    briefly "Unit"
    described as {
      |Unit of measure.
    }
  }
  quality: String(1,20) with {
    briefly "Quality"
    described as {
      |Reading quality flag.
    }
  }
} with {
  briefly "Meter reading"
  described as {
    |Meter reading data.
  }
}
type IntervalData is {
  intervalStart: TimeStamp with {
    briefly "Start"
    described as {
      |Interval start time.
    }
  }
  intervalEnd: TimeStamp with {
    briefly "End"
    described as {
      |Interval end time.
    }
  }
  consumption: Decimal(12,3) with {
    briefly "Consumption"
    described as {
      |Interval consumption.
    }
  }
  demand: Decimal(10,3)? with {
    briefly "Demand"
    described as {
      |Peak demand.
    }
  }
} with {
  briefly "Interval data"
  described as {
    |Time interval consumption.
  }
}
type MeterAlert is {
  alertId: UUID with {
    briefly "Alert"
    described as {
      |Alert identifier.
    }
  }
  timestamp: TimeStamp with {
    briefly "Time"
    described as {
      |Alert timestamp.
    }
  }
  alertType: String(1,50) with {
    briefly "Type"
    described as {
      |Alert type.
    }
  }
  severity: AlertSeverity with {
    briefly "Severity"
    described as {
      |Alert severity.
    }
  }
  description: String(1,500) with {
    briefly "Description"
    described as {
      |Alert description.
    }
  }
  resolved: Boolean with {
    briefly "Resolved"
    described as {
      |Is resolved.
    }
  }
} with {
  briefly "Meter alert"
  described as {
    |Meter system alert.
  }
}
type CommunicationStatus is {
  lastContact: TimeStamp with {
    briefly "Last contact"
    described as {
      |Last communication time.
    }
  }
  signalStrength: Decimal(5,2) with {
    briefly "Signal"
    described as {
      |Signal strength.
    }
  }
  protocol: String(1,50) with {
    briefly "Protocol"
    described as {
      |Communication protocol.
    }
  }
  networkId: String(1,50) with {
    briefly "Network"
    described as {
      |Network identifier.
    }
  }
} with {
  briefly "Communication status"
  described as {
    |Meter communication status.
  }
}
type MaintenanceRecord is {
  workOrderId: UUID with {
    briefly "Work order"
    described as {
      |Work order ID.
    }
  }
  workType: String(1,100) with {
    briefly "Type"
    described as {
      |Maintenance type.
    }
  }
  scheduledDate: Date with {
    briefly "Scheduled"
    described as {
      |Scheduled date.
    }
  }
  completedDate: Date? with {
    briefly "Completed"
    described as {
      |Completion date.
    }
  }
  technician: String(1,100) with {
    briefly "Technician"
    described as {
      |Assigned technician.
    }
  }
  notes: String(1,1000)? with {
    briefly "Notes"
    described as {
      |Work notes.
    }
  }
} with {
  briefly "Maintenance record"
  described as {
    |Meter maintenance work.
  }
}
