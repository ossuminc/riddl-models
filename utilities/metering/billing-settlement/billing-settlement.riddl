// Billing Settlement Domain Model
// Utility billing settlement, meter data validation, and energy supplier settlement

domain BillingSettlement is {

  author OssumInc is {
    name is "Ossum Inc."
    email is "support@ossuminc.com"
  } with {
    briefly "Domain author"
    described by "Organization maintaining this domain model."
  }

  user BillingAnalyst is "person reviewing and approving utility bills" with {
    briefly "Billing Analyst"
    described by "Analyst reviewing meter data and billing accuracy."
  }

  user SettlementOfficer is "person managing supplier settlements" with {
    briefly "Settlement Officer"
    described by "Officer handling energy supplier payment reconciliation."
  }

  user CustomerAccountRep is "person assisting customers with billing" with {
    briefly "Customer Account Rep"
    described by "Representative helping customers with billing inquiries."
  }

  epic BillGeneration is {
    user BillingAnalyst wants "to generate accurate utility bills"
      so that "customers are billed correctly for their energy usage"

    case GenerateMonthlyBill is {
      user BillingAnalyst wants "to generate a monthly bill"
        so that "customer receives an accurate invoice"
      step is "System validates" "meter readings" "for billing period"
        with { briefly "Validate readings" described by "Validate meter data." }
      step is "System calculates" "usage and charges" "from rate schedule"
        with { briefly "Calculate charges" described by "Apply rate schedule." }
    } with {
      briefly "Generate monthly bill"
      described by "Creating a monthly utility bill from meter data."
    }
  } with {
    briefly "Bill generation"
    described by "Epic for utility billing settlement."
  }

  include "BillingSettlementContext.riddl"
  include "external-contexts.riddl"

} with {
  briefly "Billing settlement domain"
  described by "Utility billing settlement and energy supplier reconciliation."
}
