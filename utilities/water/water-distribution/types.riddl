// Water Distribution - Shared Types
type Year is Integer with {
  briefly "Year"
  described as {
    |A calendar year.
  }
}
type DistributionZoneId is Id(WaterContext.DistributionZone)  with {
  briefly "Distribution zone identifier"
  described as {
    |Unique identifier for a distribution zone.
  }
}
type PumpStationId is UUID with {
  briefly "Pump station identifier"
  described as {
    |Reference to a pump station.
  }
}
type ReservoirId is UUID with {
  briefly "Reservoir identifier"
  described as {
    |Reference to a water reservoir.
  }
}
type MainId is UUID with {
  briefly "Main identifier"
  described as {
    |Reference to a water main.
  }
}
type ZoneStatus is any of {
  Normal,
  LowPressure,
  HighPressure,
  Maintenance,
  BoilWaterAdvisory,
  ServiceInterruption
} with {
  briefly "Zone status"
  described as {
    |Distribution zone status.
  }
}
type LeakSeverity is any of {
  Minor,
  Moderate,
  Major,
  Emergency
} with {
  briefly "Leak severity"
  described as {
    |Severity of water main leak.
  }
}
type WaterQualityStatus is any of {
  Compliant,
  Warning,
  Violation,
  PendingTest
} with {
  briefly "Quality status"
  described as {
    |Water quality compliance status.
  }
}
type PressureReading is {
  timestamp: TimeStamp with {
    briefly "Timestamp"
    described as {
      |Reading timestamp.
    }
  }
  pressurePSI: Decimal(6,2) with {
    briefly "Pressure"
    described as {
      |Pressure in PSI.
    }
  }
  flowGPM: Decimal(10,2) with {
    briefly "Flow"
    described as {
      |Flow in gallons per minute.
    }
  }
  location: String(1,100) with {
    briefly "Location"
    described as {
      |Sensor location.
    }
  }
} with {
  briefly "Pressure reading"
  described as {
    |Pressure and flow measurement.
  }
}
type WaterQualitySample is {
  sampleId: UUID with {
    briefly "Sample ID"
    described as {
      |Sample identifier.
    }
  }
  sampleDate: TimeStamp with {
    briefly "Date"
    described as {
      |Sample date.
    }
  }
  location: String(1,200) with {
    briefly "Location"
    described as {
      |Sample location.
    }
  }
  chlorineResidual: Decimal(4,2) with {
    briefly "Chlorine"
    described as {
      |Chlorine residual mg/L.
    }
  }
  turbidity: Decimal(5,2) with {
    briefly "Turbidity"
    described as {
      |Turbidity NTU.
    }
  }
  phLevel: Decimal(4,2) with {
    briefly "pH"
    described as {
      |pH level.
    }
  }
  bacteriaPresent: Boolean with {
    briefly "Bacteria"
    described as {
      |Coliform bacteria present.
    }
  }
  leadLevel: Decimal(6,3)? with {
    briefly "Lead"
    described as {
      |Lead level ppb.
    }
  }
} with {
  briefly "Water quality sample"
  described as {
    |Water quality test results.
  }
}
type LeakReport is {
  reportId: UUID with {
    briefly "Report ID"
    described as {
      |Leak report identifier.
    }
  }
  reportedAt: TimeStamp with {
    briefly "Reported"
    described as {
      |Report time.
    }
  }
  location: String(1,200) with {
    briefly "Location"
    described as {
      |Leak location.
    }
  }
  severity: LeakSeverity with {
    briefly "Severity"
    described as {
      |Leak severity.
    }
  }
  estimatedLossGPM: Decimal(10,2) with {
    briefly "Loss"
    described as {
      |Estimated water loss GPM.
    }
  }
  mainId: MainId? with {
    briefly "Main"
    described as {
      |Affected water main.
    }
  }
} with {
  briefly "Leak report"
  described as {
    |Water main leak report.
  }
}
type MaintenanceWork is {
  workOrderId: UUID with {
    briefly "Work order"
    described as {
      |Work order identifier.
    }
  }
  workType: String(1,100) with {
    briefly "Type"
    described as {
      |Maintenance type.
    }
  }
  scheduledStart: TimeStamp with {
    briefly "Scheduled"
    described as {
      |Scheduled start time.
    }
  }
  affectedCustomers: Natural with {
    briefly "Customers"
    described as {
      |Affected customer count.
    }
  }
  workStatus: String(1,50) with {
    briefly "Status"
    described as {
      |Work status.
    }
  }
} with {
  briefly "Maintenance work"
  described as {
    |Scheduled maintenance work.
  }
}
type ReservoirLevel is {
  reservoirId: ReservoirId with {
    briefly "Reservoir"
    described as {
      |Reservoir identifier.
    }
  }
  timestamp: TimeStamp with {
    briefly "Timestamp"
    described as {
      |Reading time.
    }
  }
  levelFeet: Decimal(6,2) with {
    briefly "Level"
    described as {
      |Water level in feet.
    }
  }
  capacityPercent: Decimal(5,2) with {
    briefly "Capacity"
    described as {
      |Percent of capacity.
    }
  }
  volumeGallons: Decimal(15,2) with {
    briefly "Volume"
    described as {
      |Volume in gallons.
    }
  }
} with {
  briefly "Reservoir level"
  described as {
    |Reservoir storage level.
  }
}
